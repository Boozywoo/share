{"version":3,"names":[],"mappings":"","sources":["scripts.js"],"sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n/*! Sortable 1.14.0 - MIT | git://github.com/SortableJS/Sortable.git */\n!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=t||self).Sortable=e()}(this,function(){\"use strict\";function e(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)),o}function A(o){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?e(Object(i),!0).forEach(function(t){var e,n;e=o,t=i[n=t],n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(i,t))})}return o}function o(t){return(o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,o=arguments[e];for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t}).apply(this,arguments)}function i(t,e){if(null==t)return{};var n,o=function(t,e){if(null==t)return{};for(var n,o={},i=Object.keys(t),r=0;r<i.length;r++)n=i[r],0<=e.indexOf(n)||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(t),r=0;r<i.length;r++)n=i[r],0<=e.indexOf(n)||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n]);return o}function r(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||function(t,e){if(t){if(\"string\"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Map\"===(n=\"Object\"===n&&t.constructor?t.constructor.name:n)||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function t(t){if(\"undefined\"!=typeof window&&window.navigator)return!!navigator.userAgent.match(t)}var y=t(/(?:Trident.*rv[ :]?11\\.|msie|iemobile|Windows Phone)/i),w=t(/Edge/i),s=t(/firefox/i),u=t(/safari/i)&&!t(/chrome/i)&&!t(/android/i),n=t(/iP(ad|od|hone)/i),c=t(/chrome/i)&&t(/android/i),d={capture:!1,passive:!1};function h(t,e,n){t.addEventListener(e,n,!y&&d)}function f(t,e,n){t.removeEventListener(e,n,!y&&d)}function p(t,e){if(e&&(\">\"===e[0]&&(e=e.substring(1)),t))try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){return}}function N(t,e,n,o){if(t){n=n||document;do{if(null!=e&&(\">\"!==e[0]||t.parentNode===n)&&p(t,e)||o&&t===n)return t}while(t!==n&&(t=(i=t).host&&i!==document&&i.host.nodeType?i.host:i.parentNode))}var i;return null}var g,m=/\\s+/g;function I(t,e,n){var o;t&&e&&(t.classList?t.classList[n?\"add\":\"remove\"](e):(o=(\" \"+t.className+\" \").replace(m,\" \").replace(\" \"+e+\" \",\" \"),t.className=(o+(n?\" \"+e:\"\")).replace(m,\" \")))}function P(t,e,n){var o=t&&t.style;if(o){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,\"\"):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];o[e=!(e in o||-1!==e.indexOf(\"webkit\"))?\"-webkit-\"+e:e]=n+(\"string\"==typeof n?\"\":\"px\")}}function v(t,e){var n=\"\";if(\"string\"==typeof t)n=t;else do{var o=P(t,\"transform\")}while(o&&\"none\"!==o&&(n=o+\" \"+n),!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function b(t,e,n){if(t){var o=t.getElementsByTagName(e),i=0,r=o.length;if(n)for(;i<r;i++)n(o[i],i);return o}return[]}function O(){var t=document.scrollingElement;return t||document.documentElement}function k(t,e,n,o,i){if(t.getBoundingClientRect||t===window){var r,a,l,s,c,u,d=t!==window&&t.parentNode&&t!==O()?(a=(r=t.getBoundingClientRect()).top,l=r.left,s=r.bottom,c=r.right,u=r.height,r.width):(l=a=0,s=window.innerHeight,c=window.innerWidth,u=window.innerHeight,window.innerWidth);if((e||n)&&t!==window&&(i=i||t.parentNode,!y))do{if(i&&i.getBoundingClientRect&&(\"none\"!==P(i,\"transform\")||n&&\"static\"!==P(i,\"position\"))){var h=i.getBoundingClientRect();a-=h.top+parseInt(P(i,\"border-top-width\")),l-=h.left+parseInt(P(i,\"border-left-width\")),s=a+r.height,c=l+r.width;break}}while(i=i.parentNode);return o&&t!==window&&(o=(e=v(i||t))&&e.a,t=e&&e.d,e&&(s=(a/=t)+(u/=t),c=(l/=o)+(d/=o))),{top:a,left:l,bottom:s,right:c,width:d,height:u}}}function R(t,e,n){for(var o=M(t,!0),i=k(t)[e];o;){var r=k(o)[n];if(!(\"top\"===n||\"left\"===n?r<=i:i<=r))return o;if(o===O())break;o=M(o,!1)}return!1}function X(t,e,n,o){for(var i=0,r=0,a=t.children;r<a.length;){if(\"none\"!==a[r].style.display&&a[r]!==Bt.ghost&&(o||a[r]!==Bt.dragged)&&N(a[r],n.draggable,t,!1)){if(i===e)return a[r];i++}r++}return null}function Y(t,e){for(var n=t.lastElementChild;n&&(n===Bt.ghost||\"none\"===P(n,\"display\")||e&&!p(n,e));)n=n.previousElementSibling;return n||null}function B(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)\"TEMPLATE\"===t.nodeName.toUpperCase()||t===Bt.clone||e&&!p(t,e)||n++;return n}function E(t){var e=0,n=0,o=O();if(t)do{var i=v(t),r=i.a,i=i.d}while(e+=t.scrollLeft*r,n+=t.scrollTop*i,t!==o&&(t=t.parentNode));return[e,n]}function M(t,e){if(!t||!t.getBoundingClientRect)return O();var n=t,o=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=P(n);if(n.clientWidth<n.scrollWidth&&(\"auto\"==i.overflowX||\"scroll\"==i.overflowX)||n.clientHeight<n.scrollHeight&&(\"auto\"==i.overflowY||\"scroll\"==i.overflowY)){if(!n.getBoundingClientRect||n===document.body)return O();if(o||e)return n;o=!0}}}while(n=n.parentNode);return O()}function D(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function S(e,n){return function(){var t;g||(1===(t=arguments).length?e.call(this,t[0]):e.apply(this,t),g=setTimeout(function(){g=void 0},n))}}function F(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function _(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function C(t,e){P(t,\"position\",\"absolute\"),P(t,\"top\",e.top),P(t,\"left\",e.left),P(t,\"width\",e.width),P(t,\"height\",e.height)}function T(t){P(t,\"position\",\"\"),P(t,\"top\",\"\"),P(t,\"left\",\"\"),P(t,\"width\",\"\"),P(t,\"height\",\"\")}var j=\"Sortable\"+(new Date).getTime();function x(){var e,o=[];return{captureAnimationState:function(){o=[],this.options.animation&&[].slice.call(this.el.children).forEach(function(t){var e,n;\"none\"!==P(t,\"display\")&&t!==Bt.ghost&&(o.push({target:t,rect:k(t)}),e=A({},o[o.length-1].rect),!t.thisAnimationDuration||(n=v(t,!0))&&(e.top-=n.f,e.left-=n.e),t.fromRect=e)})},addAnimationState:function(t){o.push(t)},removeAnimationState:function(t){o.splice(function(t,e){for(var n in t)if(t.hasOwnProperty(n))for(var o in e)if(e.hasOwnProperty(o)&&e[o]===t[n][o])return Number(n);return-1}(o,{target:t}),1)},animateAll:function(t){var c=this;if(!this.options.animation)return clearTimeout(e),void(\"function\"==typeof t&&t());var u=!1,d=0;o.forEach(function(t){var e=0,n=t.target,o=n.fromRect,i=k(n),r=n.prevFromRect,a=n.prevToRect,l=t.rect,s=v(n,!0);s&&(i.top-=s.f,i.left-=s.e),n.toRect=i,n.thisAnimationDuration&&D(r,i)&&!D(o,i)&&(l.top-i.top)/(l.left-i.left)==(o.top-i.top)/(o.left-i.left)&&(t=l,s=r,r=a,a=c.options,e=Math.sqrt(Math.pow(s.top-t.top,2)+Math.pow(s.left-t.left,2))/Math.sqrt(Math.pow(s.top-r.top,2)+Math.pow(s.left-r.left,2))*a.animation),D(i,o)||(n.prevFromRect=o,n.prevToRect=i,e=e||c.options.animation,c.animate(n,l,i,e)),e&&(u=!0,d=Math.max(d,e),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout(function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null},e),n.thisAnimationDuration=e)}),clearTimeout(e),u?e=setTimeout(function(){\"function\"==typeof t&&t()},d):\"function\"==typeof t&&t(),o=[]},animate:function(t,e,n,o){var i,r;o&&(P(t,\"transition\",\"\"),P(t,\"transform\",\"\"),i=(r=v(this.el))&&r.a,r=r&&r.d,i=(e.left-n.left)/(i||1),r=(e.top-n.top)/(r||1),t.animatingX=!!i,t.animatingY=!!r,P(t,\"transform\",\"translate3d(\"+i+\"px,\"+r+\"px,0)\"),this.forRepaintDummy=t.offsetWidth,P(t,\"transition\",\"transform \"+o+\"ms\"+(this.options.easing?\" \"+this.options.easing:\"\")),P(t,\"transform\",\"translate3d(0,0,0)\"),\"number\"==typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout(function(){P(t,\"transition\",\"\"),P(t,\"transform\",\"\"),t.animated=!1,t.animatingX=!1,t.animatingY=!1},o))}}}var H=[],L={initializeByDefault:!0},K={mount:function(e){for(var t in L)!L.hasOwnProperty(t)||t in e||(e[t]=L[t]);H.forEach(function(t){if(t.pluginName===e.pluginName)throw\"Sortable: Cannot mount plugin \".concat(e.pluginName,\" more than once\")}),H.push(e)},pluginEvent:function(e,n,o){var t=this;this.eventCanceled=!1,o.cancel=function(){t.eventCanceled=!0};var i=e+\"Global\";H.forEach(function(t){n[t.pluginName]&&(n[t.pluginName][i]&&n[t.pluginName][i](A({sortable:n},o)),n.options[t.pluginName]&&n[t.pluginName][e]&&n[t.pluginName][e](A({sortable:n},o)))})},initializePlugins:function(n,o,i,t){for(var e in H.forEach(function(t){var e=t.pluginName;(n.options[e]||t.initializeByDefault)&&((t=new t(n,o,n.options)).sortable=n,t.options=n.options,n[e]=t,a(i,t.defaults))}),n.options){var r;n.options.hasOwnProperty(e)&&(void 0!==(r=this.modifyOption(n,e,n.options[e]))&&(n.options[e]=r))}},getEventProperties:function(e,n){var o={};return H.forEach(function(t){\"function\"==typeof t.eventProperties&&a(o,t.eventProperties.call(n[t.pluginName],e))}),o},modifyOption:function(e,n,o){var i;return H.forEach(function(t){e[t.pluginName]&&t.optionListeners&&\"function\"==typeof t.optionListeners[n]&&(i=t.optionListeners[n].call(e[t.pluginName],o))}),i}};function W(t){var e=t.sortable,n=t.rootEl,o=t.name,i=t.targetEl,r=t.cloneEl,a=t.toEl,l=t.fromEl,s=t.oldIndex,c=t.newIndex,u=t.oldDraggableIndex,d=t.newDraggableIndex,h=t.originalEvent,f=t.putSortable,p=t.extraEventProperties;if(e=e||n&&n[j]){var g,m=e.options,t=\"on\"+o.charAt(0).toUpperCase()+o.substr(1);!window.CustomEvent||y||w?(g=document.createEvent(\"Event\")).initEvent(o,!0,!0):g=new CustomEvent(o,{bubbles:!0,cancelable:!0}),g.to=a||n,g.from=l||n,g.item=i||n,g.clone=r,g.oldIndex=s,g.newIndex=c,g.oldDraggableIndex=u,g.newDraggableIndex=d,g.originalEvent=h,g.pullMode=f?f.lastPutMode:void 0;var v,b=A(A({},p),K.getEventProperties(o,e));for(v in b)g[v]=b[v];n&&n.dispatchEvent(g),m[t]&&m[t].call(e,g)}}function z(t,e){var n=(o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).evt,o=i(o,G);K.pluginEvent.bind(Bt)(t,e,A({dragEl:q,parentEl:V,ghostEl:Z,rootEl:$,nextEl:Q,lastDownEl:J,cloneEl:tt,cloneHidden:et,dragStarted:pt,putSortable:lt,activeSortable:Bt.active,originalEvent:n,oldIndex:nt,oldDraggableIndex:it,newIndex:ot,newDraggableIndex:rt,hideGhostForTarget:kt,unhideGhostForTarget:Rt,cloneNowHidden:function(){et=!0},cloneNowShown:function(){et=!1},dispatchSortableEvent:function(t){U({sortable:e,name:t,originalEvent:n})}},o))}var G=[\"evt\"];function U(t){W(A({putSortable:lt,cloneEl:tt,targetEl:q,rootEl:$,oldIndex:nt,oldDraggableIndex:it,newIndex:ot,newDraggableIndex:rt},t))}var q,V,Z,$,Q,J,tt,et,nt,ot,it,rt,at,lt,st,ct,ut,dt,ht,ft,pt,gt,mt,vt,bt,yt=!1,wt=!1,Et=[],Dt=!1,St=!1,_t=[],Ct=!1,Tt=[],xt=\"undefined\"!=typeof document,Ot=n,Mt=w||y?\"cssFloat\":\"float\",At=xt&&!c&&!n&&\"draggable\"in document.createElement(\"div\"),Nt=function(){if(xt){if(y)return!1;var t=document.createElement(\"x\");return t.style.cssText=\"pointer-events:auto\",\"auto\"===t.style.pointerEvents}}(),It=function(t,e){var n=P(t),o=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=X(t,0,e),r=X(t,1,e),a=i&&P(i),l=r&&P(r),s=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+k(i).width,t=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+k(r).width;if(\"flex\"===n.display)return\"column\"===n.flexDirection||\"column-reverse\"===n.flexDirection?\"vertical\":\"horizontal\";if(\"grid\"===n.display)return n.gridTemplateColumns.split(\" \").length<=1?\"vertical\":\"horizontal\";if(i&&a.float&&\"none\"!==a.float){e=\"left\"===a.float?\"left\":\"right\";return!r||\"both\"!==l.clear&&l.clear!==e?\"horizontal\":\"vertical\"}return i&&(\"block\"===a.display||\"flex\"===a.display||\"table\"===a.display||\"grid\"===a.display||o<=s&&\"none\"===n[Mt]||r&&\"none\"===n[Mt]&&o<s+t)?\"vertical\":\"horizontal\"},Pt=function(t){function l(r,a){return function(t,e,n,o){var i=t.options.group.name&&e.options.group.name&&t.options.group.name===e.options.group.name;if(null==r&&(a||i))return!0;if(null==r||!1===r)return!1;if(a&&\"clone\"===r)return r;if(\"function\"==typeof r)return l(r(t,e,n,o),a)(t,e,n,o);e=(a?t:e).options.group.name;return!0===r||\"string\"==typeof r&&r===e||r.join&&-1<r.indexOf(e)}}var e={},n=t.group;n&&\"object\"==o(n)||(n={name:n}),e.name=n.name,e.checkPull=l(n.pull,!0),e.checkPut=l(n.put),e.revertClone=n.revertClone,t.group=e},kt=function(){!Nt&&Z&&P(Z,\"display\",\"none\")},Rt=function(){!Nt&&Z&&P(Z,\"display\",\"\")};xt&&document.addEventListener(\"click\",function(t){if(wt)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),wt=!1},!0);function Xt(t){if(q){t=t.touches?t.touches[0]:t;var e=(i=t.clientX,r=t.clientY,Et.some(function(t){var e=t[j].options.emptyInsertThreshold;if(e&&!Y(t)){var n=k(t),o=i>=n.left-e&&i<=n.right+e,e=r>=n.top-e&&r<=n.bottom+e;return o&&e?a=t:void 0}}),a);if(e){var n,o={};for(n in t)t.hasOwnProperty(n)&&(o[n]=t[n]);o.target=o.rootEl=e,o.preventDefault=void 0,o.stopPropagation=void 0,e[j]._onDragOver(o)}}var i,r,a}function Yt(t){q&&q.parentNode[j]._isOutsideThisEl(t.target)}function Bt(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw\"Sortable: `el` must be an HTMLElement, not \".concat({}.toString.call(t));this.el=t,this.options=e=a({},e),t[j]=this;var n,o,i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?\">li\":\">*\",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return It(t,this.options)},ghostClass:\"sortable-ghost\",chosenClass:\"sortable-chosen\",dragClass:\"sortable-drag\",ignore:\"a, img\",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData(\"Text\",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:\"data-id\",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:\"sortable-fallback\",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Bt.supportPointer&&\"PointerEvent\"in window&&!u,emptyInsertThreshold:5};for(n in K.initializePlugins(this,t,i),i)n in e||(e[n]=i[n]);for(o in Pt(e),this)\"_\"===o.charAt(0)&&\"function\"==typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!e.forceFallback&&At,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?h(t,\"pointerdown\",this._onTapStart):(h(t,\"mousedown\",this._onTapStart),h(t,\"touchstart\",this._onTapStart)),this.nativeDraggable&&(h(t,\"dragover\",this),h(t,\"dragenter\",this)),Et.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),a(this,x())}function Ft(t,e,n,o,i,r,a,l){var s,c,u=t[j],d=u.options.onMove;return!window.CustomEvent||y||w?(s=document.createEvent(\"Event\")).initEvent(\"move\",!0,!0):s=new CustomEvent(\"move\",{bubbles:!0,cancelable:!0}),s.to=e,s.from=t,s.dragged=n,s.draggedRect=o,s.related=i||e,s.relatedRect=r||k(e),s.willInsertAfter=l,s.originalEvent=a,t.dispatchEvent(s),c=d?d.call(u,s,a):c}function jt(t){t.draggable=!1}function Ht(){Ct=!1}function Lt(t){return setTimeout(t,0)}function Kt(t){return clearTimeout(t)}Bt.prototype={constructor:Bt,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(gt=null)},_getDirection:function(t,e){return\"function\"==typeof this.options.direction?this.options.direction.call(this,t,e,q):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,o=this.el,t=this.options,i=t.preventOnFilter,r=e.type,a=e.touches&&e.touches[0]||e.pointerType&&\"touch\"===e.pointerType&&e,l=(a||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=t.filter;if(!function(t){Tt.length=0;var e=t.getElementsByTagName(\"input\"),n=e.length;for(;n--;){var o=e[n];o.checked&&Tt.push(o)}}(o),!q&&!(/mousedown|pointerdown/.test(r)&&0!==e.button||t.disabled)&&!s.isContentEditable&&(this.nativeDraggable||!u||!l||\"SELECT\"!==l.tagName.toUpperCase())&&!((l=N(l,t.draggable,o,!1))&&l.animated||J===l)){if(nt=B(l),it=B(l,t.draggable),\"function\"==typeof c){if(c.call(this,e,l,this))return U({sortable:n,rootEl:s,name:\"filter\",targetEl:l,toEl:o,fromEl:o}),z(\"filter\",n,{evt:e}),void(i&&e.cancelable&&e.preventDefault())}else if(c=c&&c.split(\",\").some(function(t){if(t=N(s,t.trim(),o,!1))return U({sortable:n,rootEl:t,name:\"filter\",targetEl:l,fromEl:o,toEl:o}),z(\"filter\",n,{evt:e}),!0}))return void(i&&e.cancelable&&e.preventDefault());t.handle&&!N(s,t.handle,o,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(t,e,n){var o,i=this,r=i.el,a=i.options,l=r.ownerDocument;n&&!q&&n.parentNode===r&&(o=k(n),$=r,V=(q=n).parentNode,Q=q.nextSibling,J=n,at=a.group,st={target:Bt.dragged=q,clientX:(e||t).clientX,clientY:(e||t).clientY},ht=st.clientX-o.left,ft=st.clientY-o.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,q.style[\"will-change\"]=\"all\",o=function(){z(\"delayEnded\",i,{evt:t}),Bt.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!s&&i.nativeDraggable&&(q.draggable=!0),i._triggerDragStart(t,e),U({sortable:i,name:\"choose\",originalEvent:t}),I(q,a.chosenClass,!0))},a.ignore.split(\",\").forEach(function(t){b(q,t.trim(),jt)}),h(l,\"dragover\",Xt),h(l,\"mousemove\",Xt),h(l,\"touchmove\",Xt),h(l,\"mouseup\",i._onDrop),h(l,\"touchend\",i._onDrop),h(l,\"touchcancel\",i._onDrop),s&&this.nativeDraggable&&(this.options.touchStartThreshold=4,q.draggable=!0),z(\"delayStart\",this,{evt:t}),!a.delay||a.delayOnTouchOnly&&!e||this.nativeDraggable&&(w||y)?o():Bt.eventCanceled?this._onDrop():(h(l,\"mouseup\",i._disableDelayedDrag),h(l,\"touchend\",i._disableDelayedDrag),h(l,\"touchcancel\",i._disableDelayedDrag),h(l,\"mousemove\",i._delayedDragTouchMoveHandler),h(l,\"touchmove\",i._delayedDragTouchMoveHandler),a.supportPointer&&h(l,\"pointermove\",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(o,a.delay)))},_delayedDragTouchMoveHandler:function(t){t=t.touches?t.touches[0]:t;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){q&&jt(q),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;f(t,\"mouseup\",this._disableDelayedDrag),f(t,\"touchend\",this._disableDelayedDrag),f(t,\"touchcancel\",this._disableDelayedDrag),f(t,\"mousemove\",this._delayedDragTouchMoveHandler),f(t,\"touchmove\",this._delayedDragTouchMoveHandler),f(t,\"pointermove\",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||\"touch\"==t.pointerType&&t,!this.nativeDraggable||e?this.options.supportPointer?h(document,\"pointermove\",this._onTouchMove):h(document,e?\"touchmove\":\"mousemove\",this._onTouchMove):(h(q,\"dragend\",this),h($,\"dragstart\",this._onDragStart));try{document.selection?Lt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(t,e){var n;yt=!1,$&&q?(z(\"dragStarted\",this,{evt:e}),this.nativeDraggable&&h(document,\"dragover\",Yt),n=this.options,t||I(q,n.dragClass,!1),I(q,n.ghostClass,!0),Bt.active=this,t&&this._appendGhost(),U({sortable:this,name:\"start\",originalEvent:e})):this._nulling()},_emulateDragOver:function(){if(ct){this._lastX=ct.clientX,this._lastY=ct.clientY,kt();for(var t=document.elementFromPoint(ct.clientX,ct.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(ct.clientX,ct.clientY))!==e;)e=t;if(q.parentNode[j]._isOutsideThisEl(t),e)do{if(e[j])if(e[j]._onDragOver({clientX:ct.clientX,clientY:ct.clientY,target:t,rootEl:e})&&!this.options.dragoverBubble)break}while(e=(t=e).parentNode);Rt()}},_onTouchMove:function(t){if(st){var e=this.options,n=e.fallbackTolerance,o=e.fallbackOffset,i=t.touches?t.touches[0]:t,r=Z&&v(Z,!0),a=Z&&r&&r.a,l=Z&&r&&r.d,e=Ot&&bt&&E(bt),a=(i.clientX-st.clientX+o.x)/(a||1)+(e?e[0]-_t[0]:0)/(a||1),l=(i.clientY-st.clientY+o.y)/(l||1)+(e?e[1]-_t[1]:0)/(l||1);if(!Bt.active&&!yt){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}Z&&(r?(r.e+=a-(ut||0),r.f+=l-(dt||0)):r={a:1,b:0,c:0,d:1,e:a,f:l},r=\"matrix(\".concat(r.a,\",\").concat(r.b,\",\").concat(r.c,\",\").concat(r.d,\",\").concat(r.e,\",\").concat(r.f,\")\"),P(Z,\"webkitTransform\",r),P(Z,\"mozTransform\",r),P(Z,\"msTransform\",r),P(Z,\"transform\",r),ut=a,dt=l,ct=i),t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Z){var t=this.options.fallbackOnBody?document.body:$,e=k(q,!0,Ot,!0,t),n=this.options;if(Ot){for(bt=t;\"static\"===P(bt,\"position\")&&\"none\"===P(bt,\"transform\")&&bt!==document;)bt=bt.parentNode;bt!==document.body&&bt!==document.documentElement?(bt===document&&(bt=O()),e.top+=bt.scrollTop,e.left+=bt.scrollLeft):bt=O(),_t=E(bt)}I(Z=q.cloneNode(!0),n.ghostClass,!1),I(Z,n.fallbackClass,!0),I(Z,n.dragClass,!0),P(Z,\"transition\",\"\"),P(Z,\"transform\",\"\"),P(Z,\"box-sizing\",\"border-box\"),P(Z,\"margin\",0),P(Z,\"top\",e.top),P(Z,\"left\",e.left),P(Z,\"width\",e.width),P(Z,\"height\",e.height),P(Z,\"opacity\",\"0.8\"),P(Z,\"position\",Ot?\"absolute\":\"fixed\"),P(Z,\"zIndex\",\"100000\"),P(Z,\"pointerEvents\",\"none\"),Bt.ghost=Z,t.appendChild(Z),P(Z,\"transform-origin\",ht/parseInt(Z.style.width)*100+\"% \"+ft/parseInt(Z.style.height)*100+\"%\")}},_onDragStart:function(t,e){var n=this,o=t.dataTransfer,i=n.options;z(\"dragStart\",this,{evt:t}),Bt.eventCanceled?this._onDrop():(z(\"setupClone\",this),Bt.eventCanceled||((tt=_(q)).draggable=!1,tt.style[\"will-change\"]=\"\",this._hideClone(),I(tt,this.options.chosenClass,!1),Bt.clone=tt),n.cloneId=Lt(function(){z(\"clone\",n),Bt.eventCanceled||(n.options.removeCloneOnHide||$.insertBefore(tt,q),n._hideClone(),U({sortable:n,name:\"clone\"}))}),e||I(q,i.dragClass,!0),e?(wt=!0,n._loopId=setInterval(n._emulateDragOver,50)):(f(document,\"mouseup\",n._onDrop),f(document,\"touchend\",n._onDrop),f(document,\"touchcancel\",n._onDrop),o&&(o.effectAllowed=\"move\",i.setData&&i.setData.call(n,o,q)),h(document,\"drop\",n),P(q,\"transform\",\"translateZ(0)\")),yt=!0,n._dragStartId=Lt(n._dragStarted.bind(n,e,t)),h(document,\"selectstart\",n),pt=!0,u&&P(document.body,\"user-select\",\"none\"))},_onDragOver:function(n){var o,i,r,t,a=this.el,l=n.target,e=this.options,s=e.group,c=Bt.active,u=at===s,d=e.sort,h=lt||c,f=this,p=!1;if(!Ct){if(void 0!==n.preventDefault&&n.cancelable&&n.preventDefault(),l=N(l,e.draggable,a,!0),T(\"dragOver\"),Bt.eventCanceled)return p;if(q.contains(n.target)||l.animated&&l.animatingX&&l.animatingY||f._ignoreWhileAnimating===l)return O(!1);if(wt=!1,c&&!e.disabled&&(u?d||(i=V!==$):lt===this||(this.lastPutMode=at.checkPull(this,c,q,n))&&s.checkPut(this,c,q,n))){if(r=\"vertical\"===this._getDirection(n,l),o=k(q),T(\"dragOverValid\"),Bt.eventCanceled)return p;if(i)return V=$,x(),this._hideClone(),T(\"revert\"),Bt.eventCanceled||(Q?$.insertBefore(q,Q):$.appendChild(q)),O(!0);var g=Y(a,e.draggable);if(!g||function(t,e,n){n=k(Y(n.el,n.options.draggable));return e?t.clientX>n.right+10||t.clientX<=n.right&&t.clientY>n.bottom&&t.clientX>=n.left:t.clientX>n.right&&t.clientY>n.top||t.clientX<=n.right&&t.clientY>n.bottom+10}(n,r,this)&&!g.animated){if(g===q)return O(!1);if((l=g&&a===n.target?g:l)&&(w=k(l)),!1!==Ft($,a,q,o,l,w,n,!!l))return x(),a.appendChild(q),V=a,M(),O(!0)}else if(g&&function(t,e,n){n=k(X(n.el,0,n.options,!0));return e?t.clientX<n.left-10||t.clientY<n.top&&t.clientX<n.right:t.clientY<n.top-10||t.clientY<n.bottom&&t.clientX<n.left}(n,r,this)){var m=X(a,0,e,!0);if(m===q)return O(!1);if(w=k(l=m),!1!==Ft($,a,q,o,l,w,n,!1))return x(),a.insertBefore(q,m),V=a,M(),O(!0)}else if(l.parentNode===a){var v,b,y,w=k(l),E=q.parentNode!==a,D=(D=q.animated&&q.toRect||o,C=l.animated&&l.toRect||w,S=(t=r)?D.left:D.top,s=t?D.right:D.bottom,g=t?D.width:D.height,m=t?C.left:C.top,D=t?C.right:C.bottom,C=t?C.width:C.height,!(S===m||s===D||S+g/2===m+C/2)),S=r?\"top\":\"left\",g=R(l,\"top\",\"top\")||R(q,\"top\",\"top\"),m=g?g.scrollTop:void 0;if(gt!==l&&(b=w[S],Dt=!1,St=!D&&e.invertSwap||E),0!==(v=function(t,e,n,o,i,r,a,l){var s=o?t.clientY:t.clientX,c=o?n.height:n.width,t=o?n.top:n.left,o=o?n.bottom:n.right,n=!1;if(!a)if(l&&vt<c*i){if(Dt=!Dt&&(1===mt?t+c*r/2<s:s<o-c*r/2)?!0:Dt)n=!0;else if(1===mt?s<t+vt:o-vt<s)return-mt}else if(t+c*(1-i)/2<s&&s<o-c*(1-i)/2)return function(t){return B(q)<B(t)?1:-1}(e);if((n=n||a)&&(s<t+c*r/2||o-c*r/2<s))return t+c/2<s?1:-1;return 0}(n,l,w,r,D?1:e.swapThreshold,null==e.invertedSwapThreshold?e.swapThreshold:e.invertedSwapThreshold,St,gt===l)))for(var _=B(q);(y=V.children[_-=v])&&(\"none\"===P(y,\"display\")||y===Z););if(0===v||y===l)return O(!1);mt=v;var C=(gt=l).nextElementSibling,E=!1,D=Ft($,a,q,o,l,w,n,E=1===v);if(!1!==D)return 1!==D&&-1!==D||(E=1===D),Ct=!0,setTimeout(Ht,30),x(),E&&!C?a.appendChild(q):l.parentNode.insertBefore(q,E?C:l),g&&F(g,0,m-g.scrollTop),V=q.parentNode,void 0===b||St||(vt=Math.abs(b-k(l)[S])),M(),O(!0)}if(a.contains(q))return O(!1)}return!1}function T(t,e){z(t,f,A({evt:n,isOwner:u,axis:r?\"vertical\":\"horizontal\",revert:i,dragRect:o,targetRect:w,canSort:d,fromSortable:h,target:l,completed:O,onMove:function(t,e){return Ft($,a,q,o,t,k(t),n,e)},changed:M},e))}function x(){T(\"dragOverAnimationCapture\"),f.captureAnimationState(),f!==h&&h.captureAnimationState()}function O(t){return T(\"dragOverCompleted\",{insertion:t}),t&&(u?c._hideClone():c._showClone(f),f!==h&&(I(q,(lt||c).options.ghostClass,!1),I(q,e.ghostClass,!0)),lt!==f&&f!==Bt.active?lt=f:f===Bt.active&&lt&&(lt=null),h===f&&(f._ignoreWhileAnimating=l),f.animateAll(function(){T(\"dragOverAnimationComplete\"),f._ignoreWhileAnimating=null}),f!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(l===q&&!q.animated||l===a&&!l.animated)&&(gt=null),e.dragoverBubble||n.rootEl||l===document||(q.parentNode[j]._isOutsideThisEl(n.target),t||Xt(n)),!e.dragoverBubble&&n.stopPropagation&&n.stopPropagation(),p=!0}function M(){ot=B(q),rt=B(q,e.draggable),U({sortable:f,name:\"change\",toEl:a,newIndex:ot,newDraggableIndex:rt,originalEvent:n})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){f(document,\"mousemove\",this._onTouchMove),f(document,\"touchmove\",this._onTouchMove),f(document,\"pointermove\",this._onTouchMove),f(document,\"dragover\",Xt),f(document,\"mousemove\",Xt),f(document,\"touchmove\",Xt)},_offUpEvents:function(){var t=this.el.ownerDocument;f(t,\"mouseup\",this._onDrop),f(t,\"touchend\",this._onDrop),f(t,\"pointerup\",this._onDrop),f(t,\"touchcancel\",this._onDrop),f(document,\"selectstart\",this)},_onDrop:function(t){var e=this.el,n=this.options;ot=B(q),rt=B(q,n.draggable),z(\"drop\",this,{evt:t}),V=q&&q.parentNode,ot=B(q),rt=B(q,n.draggable),Bt.eventCanceled||(Dt=St=yt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Kt(this.cloneId),Kt(this._dragStartId),this.nativeDraggable&&(f(document,\"drop\",this),f(e,\"dragstart\",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),u&&P(document.body,\"user-select\",\"\"),P(q,\"transform\",\"\"),t&&(pt&&(t.cancelable&&t.preventDefault(),n.dropBubble||t.stopPropagation()),Z&&Z.parentNode&&Z.parentNode.removeChild(Z),($===V||lt&&\"clone\"!==lt.lastPutMode)&&tt&&tt.parentNode&&tt.parentNode.removeChild(tt),q&&(this.nativeDraggable&&f(q,\"dragend\",this),jt(q),q.style[\"will-change\"]=\"\",pt&&!yt&&I(q,(lt||this).options.ghostClass,!1),I(q,this.options.chosenClass,!1),U({sortable:this,name:\"unchoose\",toEl:V,newIndex:null,newDraggableIndex:null,originalEvent:t}),$!==V?(0<=ot&&(U({rootEl:V,name:\"add\",toEl:V,fromEl:$,originalEvent:t}),U({sortable:this,name:\"remove\",toEl:V,originalEvent:t}),U({rootEl:V,name:\"sort\",toEl:V,fromEl:$,originalEvent:t}),U({sortable:this,name:\"sort\",toEl:V,originalEvent:t})),lt&&lt.save()):ot!==nt&&0<=ot&&(U({sortable:this,name:\"update\",toEl:V,originalEvent:t}),U({sortable:this,name:\"sort\",toEl:V,originalEvent:t})),Bt.active&&(null!=ot&&-1!==ot||(ot=nt,rt=it),U({sortable:this,name:\"end\",toEl:V,originalEvent:t}),this.save())))),this._nulling()},_nulling:function(){z(\"nulling\",this),$=q=V=Z=Q=tt=J=et=st=ct=pt=ot=rt=nt=it=gt=mt=lt=at=Bt.dragged=Bt.ghost=Bt.clone=Bt.active=null,Tt.forEach(function(t){t.checked=!0}),Tt.length=ut=dt=0},handleEvent:function(t){switch(t.type){case\"drop\":case\"dragend\":this._onDrop(t);break;case\"dragenter\":case\"dragover\":q&&(this._onDragOver(t),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect=\"move\");t.cancelable&&t.preventDefault()}(t));break;case\"selectstart\":t.preventDefault()}},toArray:function(){for(var t,e=[],n=this.el.children,o=0,i=n.length,r=this.options;o<i;o++)N(t=n[o],r.draggable,this.el,!1)&&e.push(t.getAttribute(r.dataIdAttr)||function(t){var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,o=0;for(;n--;)o+=e.charCodeAt(n);return o.toString(36)}(t));return e},sort:function(t,e){var n={},o=this.el;this.toArray().forEach(function(t,e){e=o.children[e];N(e,this.options.draggable,o,!1)&&(n[t]=e)},this),e&&this.captureAnimationState(),t.forEach(function(t){n[t]&&(o.removeChild(n[t]),o.appendChild(n[t]))}),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return N(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];var o=K.modifyOption(this,t,e);n[t]=void 0!==o?o:e,\"group\"===t&&Pt(n)},destroy:function(){z(\"destroy\",this);var t=this.el;t[j]=null,f(t,\"mousedown\",this._onTapStart),f(t,\"touchstart\",this._onTapStart),f(t,\"pointerdown\",this._onTapStart),this.nativeDraggable&&(f(t,\"dragover\",this),f(t,\"dragenter\",this)),Array.prototype.forEach.call(t.querySelectorAll(\"[draggable]\"),function(t){t.removeAttribute(\"draggable\")}),this._onDrop(),this._disableDelayedDragEvents(),Et.splice(Et.indexOf(this.el),1),this.el=t=null},_hideClone:function(){et||(z(\"hideClone\",this),Bt.eventCanceled||(P(tt,\"display\",\"none\"),this.options.removeCloneOnHide&&tt.parentNode&&tt.parentNode.removeChild(tt),et=!0))},_showClone:function(t){\"clone\"===t.lastPutMode?et&&(z(\"showClone\",this),Bt.eventCanceled||(q.parentNode!=$||this.options.group.revertClone?Q?$.insertBefore(tt,Q):$.appendChild(tt):$.insertBefore(tt,q),this.options.group.revertClone&&this.animate(q,tt),P(tt,\"display\",\"\"),et=!1)):this._hideClone()}},xt&&h(document,\"touchmove\",function(t){(Bt.active||yt)&&t.cancelable&&t.preventDefault()}),Bt.utils={on:h,off:f,css:P,find:b,is:function(t,e){return!!N(t,e,t,!1)},extend:function(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},throttle:S,closest:N,toggleClass:I,clone:_,index:B,nextTick:Lt,cancelNextTick:Kt,detectDirection:It,getChild:X},Bt.get=function(t){return t[j]},Bt.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];(e=e[0].constructor===Array?e[0]:e).forEach(function(t){if(!t.prototype||!t.prototype.constructor)throw\"Sortable: Mounted plugin must be a constructor function, not \".concat({}.toString.call(t));t.utils&&(Bt.utils=A(A({},Bt.utils),t.utils)),K.mount(t)})},Bt.create=function(t,e){return new Bt(t,e)};var Wt,zt,Gt,Ut,qt,Vt,Zt=[],$t=!(Bt.version=\"1.14.0\");function Qt(){Zt.forEach(function(t){clearInterval(t.pid)}),Zt=[]}function Jt(){clearInterval(Vt)}var te,ee=S(function(n,t,e,o){if(t.scroll){var i,r=(n.touches?n.touches[0]:n).clientX,a=(n.touches?n.touches[0]:n).clientY,l=t.scrollSensitivity,s=t.scrollSpeed,c=O(),u=!1;zt!==e&&(zt=e,Qt(),Wt=t.scroll,i=t.scrollFn,!0===Wt&&(Wt=M(e,!0)));var d=0,h=Wt;do{var f=h,p=k(f),g=p.top,m=p.bottom,v=p.left,b=p.right,y=p.width,w=p.height,E=void 0,D=void 0,S=f.scrollWidth,_=f.scrollHeight,C=P(f),T=f.scrollLeft,p=f.scrollTop,D=f===c?(E=y<S&&(\"auto\"===C.overflowX||\"scroll\"===C.overflowX||\"visible\"===C.overflowX),w<_&&(\"auto\"===C.overflowY||\"scroll\"===C.overflowY||\"visible\"===C.overflowY)):(E=y<S&&(\"auto\"===C.overflowX||\"scroll\"===C.overflowX),w<_&&(\"auto\"===C.overflowY||\"scroll\"===C.overflowY)),T=E&&(Math.abs(b-r)<=l&&T+y<S)-(Math.abs(v-r)<=l&&!!T),p=D&&(Math.abs(m-a)<=l&&p+w<_)-(Math.abs(g-a)<=l&&!!p);if(!Zt[d])for(var x=0;x<=d;x++)Zt[x]||(Zt[x]={});Zt[d].vx==T&&Zt[d].vy==p&&Zt[d].el===f||(Zt[d].el=f,Zt[d].vx=T,Zt[d].vy=p,clearInterval(Zt[d].pid),0==T&&0==p||(u=!0,Zt[d].pid=setInterval(function(){o&&0===this.layer&&Bt.active._onTouchMove(qt);var t=Zt[this.layer].vy?Zt[this.layer].vy*s:0,e=Zt[this.layer].vx?Zt[this.layer].vx*s:0;\"function\"==typeof i&&\"continue\"!==i.call(Bt.dragged.parentNode[j],e,t,n,qt,Zt[this.layer].el)||F(Zt[this.layer].el,e,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&h!==c&&(h=M(h,!1)));$t=u}},30),n=function(t){var e=t.originalEvent,n=t.putSortable,o=t.dragEl,i=t.activeSortable,r=t.dispatchSortableEvent,a=t.hideGhostForTarget,t=t.unhideGhostForTarget;e&&(i=n||i,a(),e=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,e=document.elementFromPoint(e.clientX,e.clientY),t(),i&&!i.el.contains(e)&&(r(\"spill\"),this.onSpill({dragEl:o,putSortable:n})))};function ne(){}function oe(){}ne.prototype={startIndex:null,dragStart:function(t){t=t.oldDraggableIndex;this.startIndex=t},onSpill:function(t){var e=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();t=X(this.sortable.el,this.startIndex,this.options);t?this.sortable.el.insertBefore(e,t):this.sortable.el.appendChild(e),this.sortable.animateAll(),n&&n.animateAll()},drop:n},a(ne,{pluginName:\"revertOnSpill\"}),oe.prototype={onSpill:function(t){var e=t.dragEl,t=t.putSortable||this.sortable;t.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),t.animateAll()},drop:n},a(oe,{pluginName:\"removeOnSpill\"});var ie,re,ae,le,se,ce=[],ue=[],de=!1,he=!1,fe=!1;function pe(n,o){ue.forEach(function(t,e){e=o.children[t.sortableIndex+(n?Number(e):0)];e?o.insertBefore(t,e):o.appendChild(t)})}function ge(){ce.forEach(function(t){t!==ae&&t.parentNode&&t.parentNode.removeChild(t)})}return Bt.mount(new function(){function t(){for(var t in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)\"_\"===t.charAt(0)&&\"function\"==typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){t=t.originalEvent;this.sortable.nativeDraggable?h(document,\"dragover\",this._handleAutoScroll):this.options.supportPointer?h(document,\"pointermove\",this._handleFallbackAutoScroll):t.touches?h(document,\"touchmove\",this._handleFallbackAutoScroll):h(document,\"mousemove\",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){t=t.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?f(document,\"dragover\",this._handleAutoScroll):(f(document,\"pointermove\",this._handleFallbackAutoScroll),f(document,\"touchmove\",this._handleFallbackAutoScroll),f(document,\"mousemove\",this._handleFallbackAutoScroll)),Jt(),Qt(),clearTimeout(g),g=void 0},nulling:function(){qt=zt=Wt=$t=Vt=Gt=Ut=null,Zt.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(e,n){var o,i=this,r=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,t=document.elementFromPoint(r,a);qt=e,n||this.options.forceAutoScrollFallback||w||y||u?(ee(e,this.options,t,n),o=M(t,!0),!$t||Vt&&r===Gt&&a===Ut||(Vt&&Jt(),Vt=setInterval(function(){var t=M(document.elementFromPoint(r,a),!0);t!==o&&(o=t,Qt()),ee(e,i.options,t,n)},10),Gt=r,Ut=a)):this.options.bubbleScroll&&M(t,!0)!==O()?ee(e,this.options,M(t,!1),!1):Qt()}},a(t,{pluginName:\"scroll\",initializeByDefault:!0})}),Bt.mount(oe,ne),Bt.mount(new function(){function t(){this.defaults={swapClass:\"sortable-swap-highlight\"}}return t.prototype={dragStart:function(t){t=t.dragEl;te=t},dragOverValid:function(t){var e=t.completed,n=t.target,o=t.onMove,i=t.activeSortable,r=t.changed,a=t.cancel;i.options.swap&&(t=this.sortable.el,i=this.options,n&&n!==t&&(t=te,te=!1!==o(n)?(I(n,i.swapClass,!0),n):null,t&&t!==te&&I(t,i.swapClass,!1)),r(),e(!0),a())},drop:function(t){var e,n,o=t.activeSortable,i=t.putSortable,r=t.dragEl,a=i||this.sortable,l=this.options;te&&I(te,l.swapClass,!1),te&&(l.swap||i&&i.options.swap)&&r!==te&&(a.captureAnimationState(),a!==o&&o.captureAnimationState(),n=te,t=(e=r).parentNode,l=n.parentNode,t&&l&&!t.isEqualNode(n)&&!l.isEqualNode(e)&&(i=B(e),r=B(n),t.isEqualNode(l)&&i<r&&r++,t.insertBefore(n,t.children[i]),l.insertBefore(e,l.children[r])),a.animateAll(),a!==o&&o.animateAll())},nulling:function(){te=null}},a(t,{pluginName:\"swap\",eventProperties:function(){return{swapItem:te}}})}),Bt.mount(new function(){function t(o){for(var t in this)\"_\"===t.charAt(0)&&\"function\"==typeof this[t]&&(this[t]=this[t].bind(this));o.options.supportPointer?h(document,\"pointerup\",this._deselectMultiDrag):(h(document,\"mouseup\",this._deselectMultiDrag),h(document,\"touchend\",this._deselectMultiDrag)),h(document,\"keydown\",this._checkKeyDown),h(document,\"keyup\",this._checkKeyUp),this.defaults={selectedClass:\"sortable-selected\",multiDragKey:null,setData:function(t,e){var n=\"\";ce.length&&re===o?ce.forEach(function(t,e){n+=(e?\", \":\"\")+t.textContent}):n=e.textContent,t.setData(\"Text\",n)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(t){t=t.dragEl;ae=t},delayEnded:function(){this.isMultiDrag=~ce.indexOf(ae)},setupClone:function(t){var e=t.sortable,t=t.cancel;if(this.isMultiDrag){for(var n=0;n<ce.length;n++)ue.push(_(ce[n])),ue[n].sortableIndex=ce[n].sortableIndex,ue[n].draggable=!1,ue[n].style[\"will-change\"]=\"\",I(ue[n],this.options.selectedClass,!1),ce[n]===ae&&I(ue[n],this.options.chosenClass,!1);e._hideClone(),t()}},clone:function(t){var e=t.sortable,n=t.rootEl,o=t.dispatchSortableEvent,t=t.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||ce.length&&re===e&&(pe(!0,n),o(\"clone\"),t()))},showClone:function(t){var e=t.cloneNowShown,n=t.rootEl,t=t.cancel;this.isMultiDrag&&(pe(!1,n),ue.forEach(function(t){P(t,\"display\",\"\")}),e(),se=!1,t())},hideClone:function(t){var e=this,n=(t.sortable,t.cloneNowHidden),t=t.cancel;this.isMultiDrag&&(ue.forEach(function(t){P(t,\"display\",\"none\"),e.options.removeCloneOnHide&&t.parentNode&&t.parentNode.removeChild(t)}),n(),se=!0,t())},dragStartGlobal:function(t){t.sortable;!this.isMultiDrag&&re&&re.multiDrag._deselectMultiDrag(),ce.forEach(function(t){t.sortableIndex=B(t)}),ce=ce.sort(function(t,e){return t.sortableIndex-e.sortableIndex}),fe=!0},dragStarted:function(t){var e,n=this,t=t.sortable;this.isMultiDrag&&(this.options.sort&&(t.captureAnimationState(),this.options.animation&&(ce.forEach(function(t){t!==ae&&P(t,\"position\",\"absolute\")}),e=k(ae,!1,!0,!0),ce.forEach(function(t){t!==ae&&C(t,e)}),de=he=!0)),t.animateAll(function(){de=he=!1,n.options.animation&&ce.forEach(function(t){T(t)}),n.options.sort&&ge()}))},dragOver:function(t){var e=t.target,n=t.completed,t=t.cancel;he&&~ce.indexOf(e)&&(n(!1),t())},revert:function(t){var n,o,e=t.fromSortable,i=t.rootEl,r=t.sortable,a=t.dragRect;1<ce.length&&(ce.forEach(function(t){r.addAnimationState({target:t,rect:he?k(t):a}),T(t),t.fromRect=a,e.removeAnimationState(t)}),he=!1,n=!this.options.removeCloneOnHide,o=i,ce.forEach(function(t,e){e=o.children[t.sortableIndex+(n?Number(e):0)];e?o.insertBefore(t,e):o.appendChild(t)}))},dragOverCompleted:function(t){var e,n=t.sortable,o=t.isOwner,i=t.insertion,r=t.activeSortable,a=t.parentEl,l=t.putSortable,t=this.options;i&&(o&&r._hideClone(),de=!1,t.animation&&1<ce.length&&(he||!o&&!r.options.sort&&!l)&&(e=k(ae,!1,!0,!0),ce.forEach(function(t){t!==ae&&(C(t,e),a.appendChild(t))}),he=!0),o||(he||ge(),1<ce.length?(o=se,r._showClone(n),r.options.animation&&!se&&o&&ue.forEach(function(t){r.addAnimationState({target:t,rect:le}),t.fromRect=le,t.thisAnimationDuration=null})):r._showClone(n)))},dragOverAnimationCapture:function(t){var e=t.dragRect,n=t.isOwner,t=t.activeSortable;ce.forEach(function(t){t.thisAnimationDuration=null}),t.options.animation&&!n&&t.multiDrag.isMultiDrag&&(le=a({},e),e=v(ae,!0),le.top-=e.f,le.left-=e.e)},dragOverAnimationComplete:function(){he&&(he=!1,ge())},drop:function(t){var e=t.originalEvent,n=t.rootEl,o=t.parentEl,i=t.sortable,r=t.dispatchSortableEvent,a=t.oldIndex,l=t.putSortable,s=l||this.sortable;if(e){var c,u,d,h=this.options,f=o.children;if(!fe)if(h.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),I(ae,h.selectedClass,!~ce.indexOf(ae)),~ce.indexOf(ae))ce.splice(ce.indexOf(ae),1),ie=null,W({sortable:i,rootEl:n,name:\"deselect\",targetEl:ae,originalEvt:e});else{if(ce.push(ae),W({sortable:i,rootEl:n,name:\"select\",targetEl:ae,originalEvt:e}),e.shiftKey&&ie&&i.el.contains(ie)){var p=B(ie),t=B(ae);if(~p&&~t&&p!==t)for(var g,m=p<t?(g=p,t):(g=t,p+1);g<m;g++)~ce.indexOf(f[g])||(I(f[g],h.selectedClass,!0),ce.push(f[g]),W({sortable:i,rootEl:n,name:\"select\",targetEl:f[g],originalEvt:e}))}else ie=ae;re=s}fe&&this.isMultiDrag&&(he=!1,(o[j].options.sort||o!==n)&&1<ce.length&&(c=k(ae),u=B(ae,\":not(.\"+this.options.selectedClass+\")\"),!de&&h.animation&&(ae.thisAnimationDuration=null),s.captureAnimationState(),de||(h.animation&&(ae.fromRect=c,ce.forEach(function(t){var e;t.thisAnimationDuration=null,t!==ae&&(e=he?k(t):c,t.fromRect=e,s.addAnimationState({target:t,rect:e}))})),ge(),ce.forEach(function(t){f[u]?o.insertBefore(t,f[u]):o.appendChild(t),u++}),a===B(ae)&&(d=!1,ce.forEach(function(t){t.sortableIndex!==B(t)&&(d=!0)}),d&&r(\"update\"))),ce.forEach(function(t){T(t)}),s.animateAll()),re=s),(n===o||l&&\"clone\"!==l.lastPutMode)&&ue.forEach(function(t){t.parentNode&&t.parentNode.removeChild(t)})}},nullingGlobal:function(){this.isMultiDrag=fe=!1,ue.length=0},destroyGlobal:function(){this._deselectMultiDrag(),f(document,\"pointerup\",this._deselectMultiDrag),f(document,\"mouseup\",this._deselectMultiDrag),f(document,\"touchend\",this._deselectMultiDrag),f(document,\"keydown\",this._checkKeyDown),f(document,\"keyup\",this._checkKeyUp)},_deselectMultiDrag:function(t){if(!(void 0!==fe&&fe||re!==this.sortable||t&&N(t.target,this.options.draggable,this.sortable.el,!1)||t&&0!==t.button))for(;ce.length;){var e=ce[0];I(e,this.options.selectedClass,!1),ce.shift(),W({sortable:this.sortable,rootEl:this.sortable.el,name:\"deselect\",targetEl:e,originalEvt:t})}},_checkKeyDown:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},a(t,{pluginName:\"multiDrag\",utils:{select:function(t){var e=t.parentNode[j];e&&e.options.multiDrag&&!~ce.indexOf(t)&&(re&&re!==e&&(re.multiDrag._deselectMultiDrag(),re=e),I(t,e.options.selectedClass,!0),ce.push(t))},deselect:function(t){var e=t.parentNode[j],n=ce.indexOf(t);e&&e.options.multiDrag&&~n&&(I(t,e.options.selectedClass,!1),ce.splice(n,1))}},eventProperties:function(){var n=this,o=[],i=[];return ce.forEach(function(t){var e;o.push({multiDragElement:t,index:t.sortableIndex}),e=he&&t!==ae?-1:he?B(t,\":not(.\"+n.options.selectedClass+\")\"):B(t),i.push({multiDragElement:t,index:e})}),{items:r(ce),clones:[].concat(ue),oldIndicies:o,newIndicies:i}},optionListeners:{multiDragKey:function(t){return\"ctrl\"===(t=t.toLowerCase())?t=\"Control\":1<t.length&&(t=t.charAt(0).toUpperCase()+t.substr(1)),t}}})}),Bt});\n},{}],2:[function(require,module,exports){\n'use strict';\n\n$(document).ready(function () {\n    // ��� ��� ��� ����, ����� ���� \"�����\" � \"������ ���������\n    // ������������\" ������������ �� ajax, ������ ���� ������������\n    // �������� ������ �������� �� ����������� ������. ��� ����� ����\n    // ��� �������� �� �������� �������������� ������������, ���������\n    // ������ ������� �������������� ��� ������������ ��������, ����\n    // \"��������\" ����� ���������� �� �������� �����������. ��-�� ����\n    // �� ��� ��� ��������� ������������� ������� change, ����������\n    // �������� ����� ������� ������� templateChange(), �������\n    // ���������� ���� \"�����\" � \"������ ��������� ������������\". �\n    // ���������� �� ��������, ����������� �� ��, ����� ��������\n    {\n        var templateClick = function templateClick() {\n            window.js_template_change_clicked = true;\n        };\n\n        $(document).on('click', '.js_template-change', templateClick);\n    }\n\n    // ���������� ������ ������ �������� �� ����������� ������\n    $(document).on('change', '.js_template-change', templateChange);\n    $(document).on('click', '.js_filter_table-reset', resetSubmitTable);\n\n    function templateChange() {\n        if (window.js_template_change_clicked !== true) {\n            return;\n        }\n        window.js_template_change_clicked = false;\n\n        var url = $(this).data('url');\n        var val = $(this).val();\n        var wrapper = $(this).data('wrapper');\n        $.get(url, { val: val }, function (response) {\n            if (response.val) {\n                $('.' + wrapper).val(response.val);\n                $('.js_template').html(response.view);\n            }\n        });\n\n        // ������ ��������� ���������� ��� �����\n        var url1 = $(this).data('url1');\n        $.get(url1, { company: val }, function (response) {\n            if (response.val) {\n                $('.js_template_positions').html(response.view);\n            }\n        });\n\n        // ������ ��������� ����������� �����\n        var url2 = $(this).data('url2');\n        var user_id = $('form input[name=\"id\"]').val();\n        $.get(url2, { user: user_id, company: val }, function (response) {\n            if (response.val) {\n                $('.js_template_superiors').html(response.view);\n            }\n        });\n    }\n\n    // Select Company in Buses\n\n\n    $(document).on('click', '.js_company-select', selectCompanyClick);\n\n    function selectCompanyClick() {\n        window.js_company_template_change_clicked = true;\n    }\n\n    $(document).on('change', '.js_company-select', selectCompanyChange);\n\n    function selectCompanyChange() {\n        if (window.js_company_template_change_clicked !== true) {\n            return;\n        }\n        window.js_company_template_change_clicked = false;\n\n        var url = $(this).data('url');\n        var val = $(this).val();\n        $.get(url, { val: val }, function (response) {\n            if (response.val) {\n                $('.js_department_select').html(response.view);\n            }\n        });\n    }\n    $(document).on('change', '.review_act .onoffswitch', onoffswitchClick);\n\n    // ���������� ������� �� ��������� � ��������������� �����\n    function onoffswitchClick() {\n        // ��� ��������� ������� �������� ������������ ����\n        // �������� ��������, ��� ���������� - ��������\n        if ($(this).find('input:checked').val()) {\n            $(this).parent().parent().next().removeClass('invisible');\n        } else {\n            $(this).parent().parent().next().addClass('invisible');\n        }\n    }\n\n    // ���������� ����������� ������ � ��������� ��������������� �����\n    $(document).on('change', '.js_diagnostic_card_template-change', diagnosticCardTemplateChange);\n\n    function diagnosticCardTemplateChange() {\n        var url = $(this).data('url');\n        var val = $(this).val();\n        //var wrapper = $(this).data('wrapper');\n        $.get(url, { val: val }, function (response) {\n            if (response.val) {\n                //$('.' + wrapper).val(response.val);\n                $('.js_template_buttons').html(response.view_buttons);\n                $('.js_template').html(response.view);\n                $('.diagnostic_card .act_panel').addClass('pace-active');\n                if (val.length) {\n                    $('.diagnostic_card .buttons').removeClass('pace-active');\n                    $('.diagnostic_card .js_template_buttons button').removeClass('btn-success');\n                    $('.diagnostic_card .js_template_buttons button').addClass('btn-default');\n                    $('.diagnostic_card button0').removeClass('btn-default');\n                    $('.diagnostic_card button0').addClass('btn-success');\n                    $('.diagnostic_card .act_panel_0').removeClass('pace-active');\n                } else {\n                    $('.diagnostic_card .buttons').addClass('pace-active');\n                }\n            }\n        });\n    }\n\n    // ���������� ������� ������ ������ ���� �������\n    $(document).on('click', '.diagnostic_card .buttons button[type=\"button\"]', diagnosticCardButtonClicked);\n\n    function diagnosticCardButtonClicked() {\n        // ����� ������� ������\n        var btnNum = $(this).data(\"review_act_template_id\");\n        // ������� ��������� �� ���� ������\n        $('.diagnostic_card .buttons button[type=\"button\"]').removeClass('btn-success');\n        $('.diagnostic_card .buttons button[type=\"button\"]').addClass('btn-default');\n        // �������� ������, �� ������� ��������\n        $(this).removeClass('btn-default');\n        $(this).addClass('btn-success');\n\n        // ��� ������ � ������ �������\n        var $panels = $('.diagnostic_card .act_panel');\n        for (var i = 0; i < $panels.length; i++) {\n            if ($panels.eq(i).data(\"review_act_template_id\") == btnNum) {\n                // ���������� ������ � ����� �������, ��������������� ������� ������\n                $panels.eq(i).removeClass('pace-active');\n            } else {\n                // �������� ��� ��������� ������\n                $panels.eq(i).addClass('pace-active');\n            }\n        }\n    }\n\n    function resetSubmitTable(e) {\n        e.preventDefault();\n        console.log('1');\n        var $form = $('#filter-table');\n        $form.find('.select2-block').val(null).trigger('change');\n        $(\".btn-filter-submit\").trigger('click');\n        location.reload();\n        return false;\n    }\n});\n\n},{}],3:[function(require,module,exports){\n'use strict';\n\n$(document).ready(function () {\n    // $(\"#ch_img\").click(function() {\n    //     $.post(\"/admin/change_background_image\");\n    // });\n    var files = void 0;\n    $('#ch_img_upload').on('change', function () {\n\n        if (this.files.length != 0 && this.files.length != null) {\n            $('.wrapper-spinner').show();\n            files = this.files[0];\n            var formData = new FormData();\n            formData.append('file_to_upload', files);\n            $.ajax({\n                type: 'POST',\n                url: '/admin/change_background_image',\n                data: formData,\n                processData: false,\n                contentType: false,\n                dataType: 'json',\n                success: function success(data) {\n                    $('.wrapper-spinner').hide();\n                    document.location.reload();\n                    // if(data.message) window.showNotification(data.message, data.result);\n                    // if(data.view_success) $('[data-ajax=content-success]').html(data.view_success);\n                }\n                // error: function () {\n                //     $('.wrapper-spinner').hide();\n                // }\n            });\n        }\n    });\n});\n\n},{}],4:[function(require,module,exports){\n'use strict';\n\n$(document).ready(function () {\n    $.ajaxSetup({\n        headers: {\n            'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n        }\n    });\n\n    $(document).on('change', '.js_ajax-change', ajaxChange);\n    $(document).on('submit', '.js_form-ajax', submitFormAjax);\n    $(document).on('click', '.js_panel_confirm', confirm);\n    $(document).on('click', '.js_panel_choice', reportChoice);\n\n    function confirm(e) {\n        e.preventDefault();\n        var $link = $(this);\n        var url = $link.attr('href');\n        var method = $link.attr('method') ? $link.attr('method') : 'get';\n        var question = $(this).data('question') || 'Вы действительно хотите удалить?';\n        var textSuccess = $(this).data('success') || 'Удаление прошло успешно';\n        var reload = $(this).data('reload');\n        bootbox.confirm({\n            message: question,\n            callback: function callback(result) {\n                if (result) {\n\n                    $.ajax({\n                        url: url,\n                        method: method,\n                        success: function success(data) {\n                            if (data.result == 'success') {\n                                if ($link.hasClass('js_update-filter')) {\n                                    $('.js_table-search select:first').trigger('change');\n                                } else {\n                                    $link.closest('tr').remove();\n                                }\n                                if ($link.hasClass('js_update-data')) {\n                                    updateData(data);\n                                }\n\n                                window.showNotification(textSuccess, 'success');\n                                if (reload) {\n                                    window.location.reload(false);\n                                }\n                            } else {\n                                window.showNotification(data.message || 'Ошибка', 'error');\n                            }\n                        }\n                    });\n                }\n            }\n        });\n        return false;\n    }\n\n    function submitFormAjax(e) {\n        e.preventDefault();\n        var $form = $(this);\n        $form.find('button').attr('disabled', true);\n        $form.trigger('panel-form-ajax-submitted');\n        $('.wrapper-spinner').show();\n        $form.find('.form-group').removeClass('has-error');\n        $form.find('.error-block').html('');\n\n        $form.ajaxSubmit({\n            success: function success(data) {\n\n                $('.wrapper-spinner').hide();\n                $form.find('button').attr('disabled', false);\n                if (data.result == 'success') {\n                    $form.trigger('panel-form-ajax-success', [data]);\n                    if ($form.hasClass('js_form-ajax-redirect')) {\n                        var redirectLink = data.link || data.redirect;\n                        setTimeout(function () {\n                            return window.location.href = redirectLink;\n                        }, 2000);\n                    }\n                    if ($form.hasClass('js_form-ajax-popup')) {\n                        $form.closest('.modal').modal('hide');\n                    }\n                    if ($form.hasClass('js_form-update-data')) {\n                        updateData(data);\n                    }\n                    if ($form.hasClass('js_form-ajax-table')) {\n                        $('.js_table-search select:first').trigger('change');\n                    }\n                    if ($form.hasClass('js_form-current-page')) {\n                        var $currentPage = $('.js_current-page');\n                        if ($currentPage.length) {\n                            $currentPage.click();\n                        }\n                    }\n                    if (data.message) {\n                        window.showNotification(data.message, 'success');\n                    } else {\n                        window.showNotification('Данные успешно сохранены', 'success');\n                    }\n                    if (data.view) {\n                        $('.js_table-wrapper').html(data.view);\n                    }\n\n                    // window.countPull();\n                } else if (data.result == 'warning') {\n                    if (data.message) {\n                        window.showNotification(data.message, 'warning');\n                    }\n                    if (data.view) $($form.data('wrap')).html(data.view);\n                    if (data.view_sub) $($form.data('wrap-sub')).html(data.view_sub);\n                } else {\n                    $form.trigger('panel-form-ajax-error', [data]);\n                    $.each(data.errors, function (input, errors) {\n                        var inputArray = input.split('.');\n                        var $input = $form.find(':input[name=\"' + input + '\"]');\n                        if (!$input.length && inputArray.length == 1) {\n                            $input = $form.find(':input[name=\"' + inputArray[0] + '[]\"]:eq(' + inputArray[1] + ')');\n                        }\n                        if (inputArray.length == 2) {\n                            $input = $form.find(':input[name=\"' + inputArray[0] + '[' + inputArray[1] + ']\"]');\n                        }\n                        if (inputArray.length == 3) {\n                            $input = $form.find(':input[name=\"' + inputArray[0] + '[' + inputArray[1] + '][' + inputArray[2] + ']\"]');\n                        }\n                        var text = '';\n                        $.each(errors, function (i, error) {\n                            return text += error + \"<br>\";\n                        });\n                        if ($input.length) {\n                            var $wrapper = $input.closest('.form-group');\n                            var $error_block = $wrapper.find('.error-block');\n                            $wrapper.addClass('has-error');\n                            var $help_block = '<span class=\"help-block\">' + text + '</span>';\n                            $error_block.append($help_block);\n                        } else {\n                            window.showNotification(text, 'error');\n                        }\n                    });\n                    if (data.message) {\n                        window.showNotification(data.message, 'error');\n                    } else {\n                        window.showNotification('Ошибка сохранения данных', 'error');\n                    }\n                    if (data.view) {\n                        $('.js_table-wrapper').html(data.view);\n                    }\n                }\n            }\n        });\n        return false;\n    }\n\n    function ajaxChange() {\n        var val = $(this).val();\n        var url = $(this).data('url');\n        var wrapper = $(this).data('wrapper');\n        $.get(url, { val: val }, function (response) {\n            if (response.html) {\n                $('.' + wrapper).html(response.html);\n            } else {\n                $('.' + wrapper).html('');\n            }\n            if (response.message) window.showNotification(response.message, 'error');\n        });\n    }\n\n    function reportChoice(e) {\n        e.preventDefault();\n        var $link = $(this);\n        var date_type = $link.data('date-type');\n        var dialog = bootbox.dialog({\n            title: $link.data('title'),\n            message: \"<p>Выберите, какие брони отображать в отчёте.</p>\",\n            size: 'large',\n            buttons: {\n                noclose: {\n                    label: \"Все активные\",\n                    className: 'btn-warning',\n                    callback: function callback() {\n                        document.getElementById(date_type + \"-date-all\").click();\n                    }\n                },\n                ok: {\n                    label: \"Оплаченные онлайн\",\n                    className: 'btn-info',\n                    callback: function callback() {\n                        document.getElementById(date_type + \"-date-pay\").click();\n                    }\n                }\n            }\n        });\n        return false;\n    }\n});\n\n},{}],5:[function(require,module,exports){\n\"use strict\";\n\n(function ($) {\n    $.fn.datepicker.dates['ru'] = {\n        days: [\"Воскресенье\", \"Понедельник\", \"Вторник\", \"Среда\", \"Четверг\", \"Пятница\", \"Суббота\"],\n        daysShort: [\"Вск\", \"Пнд\", \"Втр\", \"Срд\", \"Чтв\", \"Птн\", \"Суб\"],\n        daysMin: [\"Вс\", \"Пн\", \"Вт\", \"Ср\", \"Чт\", \"Пт\", \"Сб\"],\n        months: [\"Январь\", \"Февраль\", \"Март\", \"Апрель\", \"Май\", \"Июнь\", \"Июль\", \"Август\", \"Сентябрь\", \"Октябрь\", \"Ноябрь\", \"Декабрь\"],\n        monthsShort: [\"Янв\", \"Фев\", \"Мар\", \"Апр\", \"Май\", \"Июн\", \"Июл\", \"Авг\", \"Сен\", \"Окт\", \"Ноя\", \"Дек\"],\n        today: \"Сегодня\",\n        clear: \"Очистить\",\n        format: \"dd.mm.yyyy\",\n        weekStart: 1,\n        monthsTitle: 'Месяцы'\n    };\n})(jQuery);\n\n},{}],6:[function(require,module,exports){\n'use strict';\n\n$(document).ready(function () {\n    window.reindexBlocks = function (parentName, parentFields, childName, childFields) {\n        return function () {\n            var i = 0;\n            $('.js_reindex-' + parentName).each(function () {\n                var _this = this;\n\n                var newName = parentName + '[' + i + ']';\n                parentFields.map(function (parentField) {\n                    var attribute = newName + '[' + parentField + ']';\n                    $(_this).find('.js_' + parentName + '-' + parentField).attr('name', attribute);\n                });\n                var j = 0;\n                $(this).find('.js_' + parentName + '-' + childName).each(function () {\n                    var _this2 = this;\n\n                    childFields.map(function (childField) {\n                        var nameOptionName = newName + '[' + childName + '][]';\n                        $(_this2).find('.js_' + parentName + '-' + childName + '-' + childField).attr('name', nameOptionName);\n                    });\n                    j++;\n                });\n                i++;\n            });\n        };\n    };\n\n    $(document).on('click', '.js_multiple-add', multipleAdd);\n    $(document).on('click', '.js_multiple-remove', multipleRemove);\n\n    function multipleAdd(e) {\n        e.preventDefault();\n        var name = $(this).data('name');\n        var $wrapper = $(this).closest('.js_multiple-wrapper');\n        var $clone = $wrapper.find('.js_multiple-row-clone[data-name=\"' + name + '\"]');\n        var $row = $clone.clone(true);\n        var $inputs = $row.find(':input');\n        $inputs.each(function () {\n            var $input = $(this);\n            $input.prop('disabled', false);\n            if ($input.hasClass('js_panel_input-select2')) {\n                $input.next().remove();\n                $input.removeData('select2').select2();\n            }\n        });\n        $row.insertBefore($clone);\n        $row.removeClass('js_multiple-row-clone');\n        $row.trigger('multiple-added');\n        return false;\n    }\n\n    function multipleRemove(e) {\n        e.preventDefault();\n        var name = $(this).data('name');\n        var $row = $(this).closest('.js_multiple-row[data-name=\"' + name + '\"]');\n        var $parent = $row.parent();\n        $row.remove();\n        $parent.trigger('multiple-removed');\n        return false;\n    }\n});\n\n},{}],7:[function(require,module,exports){\n'use strict';\n\n$(document).on('change', '.js_import input', importInput);\n$(document).on('click', '.js_import a', clickImportInput);\n\nfunction importInput() {\n    $('.wrapper-spinner').show();\n    var url = $(this).data('url');\n    var formData = new FormData();\n    var file = $(this)[0].files[0];\n    $(this).val('');\n    formData.append('file', file);\n    $.ajax({\n        type: 'POST',\n        url: url,\n        data: formData,\n        processData: false,\n        contentType: false,\n        dataType: 'json',\n        success: function success(data) {\n            $('.wrapper-spinner').hide();\n            if (data.message) window.showNotification(data.message, data.result);\n            if (data.view_success) $('[data-ajax=content-success]').html(data.view_success);\n        },\n        error: function error() {\n            $('.wrapper-spinner').hide();\n        }\n    });\n}\n\nfunction clickImportInput() {\n    $('.js_import input').click();\n    return false;\n}\n\n$(document).on('click', '.js_egis_status a', clickEgisStatus);\n\nfunction clickEgisStatus(e) {\n    e.preventDefault();\n    $('.wrapper-spinner').show();\n    var url = $(this).data('url');\n    $.ajax({\n        type: 'POST',\n        url: url,\n        dataType: 'json',\n        success: function success(data) {\n            $('.wrapper-spinner').hide();\n            if (data.message) window.showNotification(data.message, data.result);\n        },\n        error: function error() {\n            $('.wrapper-spinner').hide();\n        }\n    });\n}\n\n$(document).on('click', '.js_egis_send a', clickEgisSend);\n\nfunction clickEgisSend(e) {\n    e.preventDefault();\n    $('.wrapper-spinner').show();\n    var url = $(this).data('url');\n    $.ajax({\n        type: 'POST',\n        url: url,\n        dataType: 'json',\n        success: function success(data) {\n            $('.wrapper-spinner').hide();\n            if (data.message) window.showNotification(data.message, data.result);\n        },\n        error: function error() {\n            $('.wrapper-spinner').hide();\n        }\n    });\n}\n\n},{}],8:[function(require,module,exports){\n'use strict';\n\nvar globalMap;\n\nfunction map() {\n    if ($('#map').length && !$('#map ymaps').length) {\n        var myMap;\n        var myPlacemark;\n        var $lng = $('input[name=\"longitude\"]');\n        var $ltd = $('input[name=\"latitude\"]');\n        if (!$lng.length) {\n            $lng = $('input[name=\"garage_latitude\"]');\n            $ltd = $('input[name=\"garage_longitude\"]');\n        }\n        var lng = $lng.val();\n        var ltd = $ltd.val();\n        if (!(lng > 0)) lng = 27.553576;\n        if (!(ltd > 0)) ltd = 53.901717;\n        if (typeof ymaps == 'undefined') {\n            return;\n        }\n        ymaps.ready(function () {\n            var center = [ltd, lng];\n\n            myMap = new ymaps.Map(\"map\", {\n                center: center,\n                controls: [\"zoomControl\", \"searchControl\"],\n                zoom: 12\n            });\n\n            myPlacemark = createPlacemark(center);\n            myMap.geoObjects.add(myPlacemark);\n            myPlacemark.events.add('dragend', function () {\n                setCoords(myPlacemark.geometry.getCoordinates());\n            });\n\n            setCoords(center);\n\n            myMap.events.add('click', function (e) {\n                var coords = e.get('coords');\n                myPlacemark.geometry.setCoordinates(coords);\n                setCoords(coords);\n            });\n\n            function setCoords(coords) {\n                $lng.val(coords[1]);\n                $ltd.val(coords[0]);\n            }\n\n            function createPlacemark(coords) {\n                return new ymaps.Placemark(coords, {}, {\n                    preset: 'islands#violetDotIconWithCaption',\n                    draggable: true\n                });\n            }\n\n            globalMap = myMap;\n        });\n    }\n}\n\n// if (typeof ymaps !== 'undefined') {\n\nmap();\n\nwindow.map = map;\n\n$(document).on('change', 'select#street_id', function () {\n\n    ymaps.geocode($('#city_id option:selected').text() + ', ' + $('#street_id option:selected').text(), {\n        results: 1\n    }).then(function (res) {\n        var firstGeoObject = res.geoObjects.get(0),\n            bounds = firstGeoObject.properties.get('boundedBy');\n        firstGeoObject.options.set('preset', 'islands#darkBlueDotIconWithCaption');\n        firstGeoObject.properties.set('iconCaption', firstGeoObject.getAddressLine());\n\n        globalMap.geoObjects.add(firstGeoObject);\n        globalMap.setBounds(bounds, {\n            checkZoomRange: true\n        });\n    });\n});\n// }\n\n},{}],9:[function(require,module,exports){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n(function ($) {\n    $.fn.easyAlert = $.easyAlert = function (optionsOrMessage, alertType, position) {\n\n        var hasJqueryUI = _typeof(jQuery.ui) !== (typeof undefined === 'undefined' ? 'undefined' : _typeof(undefined));\n        var settings = {};\n        if (typeof optionsOrMessage === \"string\") {\n            settings = $.extend({}, $.fn.easyAlert.defaults, {\n                'message': optionsOrMessage,\n                'alertType': (typeof alertType === 'undefined' ? 'undefined' : _typeof(alertType)) === (typeof undefined === 'undefined' ? 'undefined' : _typeof(undefined)) ? 'success' : alertType,\n                'position': (typeof position === 'undefined' ? 'undefined' : _typeof(position)) === (typeof undefined === 'undefined' ? 'undefined' : _typeof(undefined)) ? 'b r' : position\n            });\n        } else if ((typeof optionsOrMessage === 'undefined' ? 'undefined' : _typeof(optionsOrMessage)) === \"object\" || (typeof optionsOrMessage === 'undefined' ? 'undefined' : _typeof(optionsOrMessage)) === (typeof undefined === 'undefined' ? 'undefined' : _typeof(undefined))) {\n            settings = $.extend({}, $.fn.easyAlert.defaults, optionsOrMessage);\n        }\n        var alertContainer =\n        //'<div  class=\"easy-alert\" style=\"position: relative; top: 50%; left:50%; transform: translate(-50%,-50%);\">' +\n        '<div  class=\"easy-alert\">' + '<div class=\"alert alert-' + settings.alertType + '\">' + settings.message + '</div>' + '</div>';\n        //jQuery object container\n        var $alertContainer = $(alertContainer);\n\n        var positionsArray = settings.position.split(' ');\n        var vPos = _typeof(vPositions[positionsArray[0]]) === (typeof undefined === 'undefined' ? 'undefined' : _typeof(undefined)) ? 'top' : vPositions[positionsArray[0]];\n        var hPos = _typeof(hPositions[positionsArray[1]]) === (typeof undefined === 'undefined' ? 'undefined' : _typeof(undefined)) ? 'right' : hPositions[positionsArray[1]];\n        if (positionsArray.length !== 2) {\n            console.error('invalid position argument');\n            return;\n        }\n        //in case auto hide set to false and click to hide set to false then auto hide will be set to ture\n        (settings.clickToHide | settings.autoHide) === 0 ? settings.autoHide = true : '';\n\n        /*Todo complete rest of configuration*/\n\n        if (_typeof(this.selector) === (typeof undefined === 'undefined' ? 'undefined' : _typeof(undefined))) {\n            //Global alert called via $.easyAlert(...);\n            var globalPositionClass;\n            var containerStyle = {\n                position: 'fixed',\n                'min-width': settings.globalMinWidth,\n                display: 'none'\n            };\n            /*Todo Complete mobile global alert position*/\n            if (vPos === \"top\") {\n                containerStyle.top = \"5px\";\n                globalPositionClass = 'easy-alert-t';\n                $alertContainer.attr('data-vertical', 'top');\n            } else {\n                containerStyle.bottom = \"5px\";\n                globalPositionClass = 'easy-alert-b';\n                $alertContainer.attr('data-vertical', 'buttom');\n            }\n            if (hPos === \"center\") {\n                //center alert\n                containerStyle.left = \"50%\";\n                containerStyle.transform = 'translateX(-50%)';\n                globalPositionClass += '-c';\n            } else if (hPos === \"left\") {\n                //left alert\n                containerStyle.left = \"5px\";\n                globalPositionClass += '-l';\n            } else {\n                //right alert\n                containerStyle.right = \"5px\";\n                globalPositionClass += '-r';\n            }\n            var hasLeftOrRightAnimationHide = false;\n            var hasLeftOrRightAnimationShow = hasLeftOrRightAnimationHide = false;\n            if ($.inArray(settings.showAnimation, ['drop', 'fold', 'scale', 'size', 'slide']) > -1) hasLeftOrRightAnimationShow = true;\n            if ($.inArray(settings.hideAnimation, ['drop', 'fold', 'scale', 'size', 'slide']) > -1) hasLeftOrRightAnimationHide = true;\n            var allGlobalAlerts = $('.' + globalPositionClass);\n            var alertsCount = allGlobalAlerts.length;\n            var calculatedPos = settings.globalSpace;\n            for (var i = 0; i < alertsCount; i++) {\n                calculatedPos += $(allGlobalAlerts[i]).height() + settings.globalSpace;\n            }\n            containerStyle.hasOwnProperty('top') ? containerStyle.top = calculatedPos + \"px\" : containerStyle.bottom = calculatedPos + \"px\";\n            $alertContainer.addClass(globalPositionClass);\n            $alertContainer.css(containerStyle);\n            var hideAlert = function hideAlert() {\n                if (!hasJqueryUI) $alertContainer.fadeOut(settings.hideDuration, completeHideAlert);else {\n                    var hideOptions = {\n                        effect: settings.hideAnimation,\n                        duration: settings.hideDuration,\n                        complete: completeHideAlert\n                    };\n                    if (hasLeftOrRightAnimationHide) hideOptions.direction = hPos;\n                    $alertContainer.toggle(hideOptions);\n                }\n            };\n            var isHidden = false;\n            var completeHideAlert = function completeHideAlert() {\n                var currentVert = $alertContainer.attr('data-vertical');\n                var currentVertVal = $alertContainer.css(currentVert);\n                $alertContainer.remove();\n                typeof settings.hidden === 'function' && !isHidden ? settings.hidden.call(this, this, settings.message) : null;\n                isHidden = true;\n                shiftGlobalAlerts('.' + globalPositionClass, currentVert, parseInt(currentVertVal), settings.globalSpace);\n            };\n            if (settings.clickToHide) {\n                $alertContainer.on('click', function () {\n                    location.replace(settings.link_page); //переход на бронирование\n                    typeof settings.clicked === 'function' ? settings.clicked.call(this, this, settings.message) : null;\n                    hideAlert();\n                });\n            }\n            if (settings.autoHide) {\n                setTimeout(hideAlert, settings.time);\n            }\n            var showOptions = {\n                effect: settings.showAnimation,\n                duration: settings.showDuration\n            };\n            typeof settings.complete === 'function' ? showOptions.complete = function () {\n                settings.complete.call(this, settings.message, this);\n            } : null;\n            if (hasLeftOrRightAnimationShow) showOptions.direction = hPos;\n            $alertContainer.appendTo('body').show(showOptions);\n            return settings.message;\n        }\n        return this;\n    };\n\n    var shiftGlobalAlerts = function shiftGlobalAlerts(selector, verticalDirection, currentVerticalVal, globalSpace) {\n        $(selector).each(function () {\n            var currentAlertHeight = Number($(this).height()) + Number(globalSpace);\n            var currentAlertVertVal = parseInt($(this).css(verticalDirection));\n            if (currentVerticalVal < currentAlertVertVal && currentAlertVertVal - currentAlertHeight >= globalSpace) {\n                if (verticalDirection === \"top\") $(this).animate({ 'top': currentAlertVertVal - currentAlertHeight + 'px' }, 300);else $(this).animate({ 'bottom': currentAlertVertVal - currentAlertHeight + 'px' }, 300);\n            }\n        });\n    };\n\n    //vertical position\n    var vPositions = {\n        't': 'top',\n        'm': 'middle',\n        'b': 'bottom'\n    };\n    //horizontal position\n    var hPositions = {\n        'l': 'left',\n        'c': 'center',\n        'r': 'right'\n\n        // Defaults parameters are here, You can override them for your own purpose.\n    };$.fn.easyAlert.defaults = {\n        'message': \"Easy alert-js By Ali Dalal\",\n        'alertType': 'success',\n        'position': \"b r\",\n        globalMinWidth: '250px',\n        clickToHide: true,\n        autoHide: false,\n        time: 5000,\n        showAnimation: 'fade',\n        showDuration: 300,\n        hideAnimation: 'fade',\n        hideDuration: 300,\n        globalSpace: 5,\n        complete: null,\n        clicked: null,\n        hidden: null\n    };\n    // End of defaults\n})(jQuery);\n\n},{}],10:[function(require,module,exports){\n'use strict';\n\n//Pusher.logToConsole = true;\n\nvar pusher = new Pusher('c3a62f6331e2e8f12695', {\n    cluster: 'eu',\n    encrypted: true\n});\n\nvar channel = pusher.subscribe('my-channel');\nchannel.bind('my-event', function (data) {\n    if ((window.user_sip == data.sip || data.sip == 'all') && data.app_url == APP_URL) {\n        //window.open('http://'+ window.location.hostname +'/admin/orders/create?incomming_phone='+data.number);\n        $.easyAlert({\n            'message': '<a><div class=\"text-center text-uppercase\"><b>Входящий звонок: ' + data.message + '</b></div></a>',\n            'alertType': data.type,\n            'link_page': 'https://' + window.location.hostname + '/admin/tours?status=active&incomming_phone=' + data.number,\n            'position': \"t c\",\n            globalMinWidth: '400px',\n            clickToHide: true,\n            autoHide: true,\n            time: data.time_show * 1000,\n            showAnimation: 'fade',\n            showDuration: 300,\n            hideAnimation: 'fade',\n            hideDuration: 300,\n            globalSpace: 5,\n            complete: null,\n            clicked: null,\n            hidden: null\n        });\n    }\n});\n\n},{}],11:[function(require,module,exports){\n\"use strict\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/*!\n * Pusher JavaScript Library v4.0.0\n * http://pusher.com/\n *\n * Copyright 2016, Pusher\n * Released under the MIT licence.\n */\n!function (t, e) {\n  \"object\" == (typeof exports === \"undefined\" ? \"undefined\" : _typeof(exports)) && \"object\" == (typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) ? module.exports = e() : \"function\" == typeof define && define.amd ? define([], e) : \"object\" == (typeof exports === \"undefined\" ? \"undefined\" : _typeof(exports)) ? exports.Pusher = e() : t.Pusher = e();\n}(undefined, function () {\n  return function (t) {\n    function e(i) {\n      if (n[i]) return n[i].exports;var o = n[i] = { exports: {}, id: i, loaded: !1 };return t[i].call(o.exports, o, o.exports, e), o.loaded = !0, o.exports;\n    }var n = {};return e.m = t, e.c = n, e.p = \"\", e(0);\n  }([function (t, e, n) {\n    \"use strict\";\n    var i = n(1);t.exports = i[\"default\"];\n  }, function (t, e, n) {\n    \"use strict\";\n    function i(t) {\n      if (null === t || void 0 === t) throw \"You must pass your app key when you instantiate Pusher.\";\n    }var o = n(2),\n        r = n(9),\n        s = n(23),\n        a = n(38),\n        c = n(39),\n        u = n(40),\n        l = n(12),\n        h = n(5),\n        p = n(62),\n        f = n(8),\n        d = n(42),\n        y = function () {\n      function t(e, n) {\n        var l = this;i(e), n = n || {}, this.key = e, this.config = r.extend(p.getGlobalConfig(), n.cluster ? p.getClusterConfig(n.cluster) : {}, n), this.channels = d[\"default\"].createChannels(), this.global_emitter = new s[\"default\"](), this.sessionID = Math.floor(1e9 * Math.random()), this.timeline = new a[\"default\"](this.key, this.sessionID, { cluster: this.config.cluster, features: t.getClientFeatures(), params: this.config.timelineParams || {}, limit: 50, level: c[\"default\"].INFO, version: h[\"default\"].VERSION }), this.config.disableStats || (this.timelineSender = d[\"default\"].createTimelineSender(this.timeline, { host: this.config.statsHost, path: \"/timeline/v2/\" + o[\"default\"].TimelineTransport.name }));var y = function y(t) {\n          var e = r.extend({}, l.config, t);return u.build(o[\"default\"].getDefaultStrategy(e), e);\n        };this.connection = d[\"default\"].createConnectionManager(this.key, r.extend({ getStrategy: y, timeline: this.timeline, activityTimeout: this.config.activity_timeout, pongTimeout: this.config.pong_timeout, unavailableTimeout: this.config.unavailable_timeout }, this.config, { encrypted: this.isEncrypted() })), this.connection.bind(\"connected\", function () {\n          l.subscribeAll(), l.timelineSender && l.timelineSender.send(l.connection.isEncrypted());\n        }), this.connection.bind(\"message\", function (t) {\n          var e = 0 === t.event.indexOf(\"pusher_internal:\");if (t.channel) {\n            var n = l.channel(t.channel);n && n.handleEvent(t.event, t.data);\n          }e || l.global_emitter.emit(t.event, t.data);\n        }), this.connection.bind(\"connecting\", function () {\n          l.channels.disconnect();\n        }), this.connection.bind(\"disconnected\", function () {\n          l.channels.disconnect();\n        }), this.connection.bind(\"error\", function (t) {\n          f[\"default\"].warn(\"Error\", t);\n        }), t.instances.push(this), this.timeline.info({ instances: t.instances.length }), t.isReady && this.connect();\n      }return t.ready = function () {\n        t.isReady = !0;for (var e = 0, n = t.instances.length; e < n; e++) {\n          t.instances[e].connect();\n        }\n      }, t.log = function (e) {\n        t.logToConsole && window.console && window.console.log && window.console.log(e);\n      }, t.getClientFeatures = function () {\n        return r.keys(r.filterObject({ ws: o[\"default\"].Transports.ws }, function (t) {\n          return t.isSupported({});\n        }));\n      }, t.prototype.channel = function (t) {\n        return this.channels.find(t);\n      }, t.prototype.allChannels = function () {\n        return this.channels.all();\n      }, t.prototype.connect = function () {\n        if (this.connection.connect(), this.timelineSender && !this.timelineSenderTimer) {\n          var t = this.connection.isEncrypted(),\n              e = this.timelineSender;this.timelineSenderTimer = new l.PeriodicTimer(6e4, function () {\n            e.send(t);\n          });\n        }\n      }, t.prototype.disconnect = function () {\n        this.connection.disconnect(), this.timelineSenderTimer && (this.timelineSenderTimer.ensureAborted(), this.timelineSenderTimer = null);\n      }, t.prototype.bind = function (t, e, n) {\n        return this.global_emitter.bind(t, e, n), this;\n      }, t.prototype.unbind = function (t, e, n) {\n        return this.global_emitter.unbind(t, e, n), this;\n      }, t.prototype.bind_global = function (t) {\n        return this.global_emitter.bind_global(t), this;\n      }, t.prototype.unbind_global = function (t) {\n        return this.global_emitter.unbind_global(t), this;\n      }, t.prototype.unbind_all = function (t) {\n        return this.global_emitter.unbind_all(), this;\n      }, t.prototype.subscribeAll = function () {\n        var t;for (t in this.channels.channels) {\n          this.channels.channels.hasOwnProperty(t) && this.subscribe(t);\n        }\n      }, t.prototype.subscribe = function (t) {\n        var e = this.channels.add(t, this);return e.subscriptionPending && e.subscriptionCancelled ? e.reinstateSubscription() : e.subscriptionPending || \"connected\" !== this.connection.state || e.subscribe(), e;\n      }, t.prototype.unsubscribe = function (t) {\n        var e = this.channels.find(t);e && e.subscriptionPending ? e.cancelSubscription() : (e = this.channels.remove(t), e && \"connected\" === this.connection.state && e.unsubscribe());\n      }, t.prototype.send_event = function (t, e, n) {\n        return this.connection.send_event(t, e, n);\n      }, t.prototype.isEncrypted = function () {\n        return \"https:\" === o[\"default\"].getProtocol() || Boolean(this.config.encrypted);\n      }, t.instances = [], t.isReady = !1, t.logToConsole = !1, t.Runtime = o[\"default\"], t.ScriptReceivers = o[\"default\"].ScriptReceivers, t.DependenciesReceivers = o[\"default\"].DependenciesReceivers, t.auth_callbacks = o[\"default\"].auth_callbacks, t;\n    }();e.__esModule = !0, e[\"default\"] = y, o[\"default\"].setup(y);\n  }, function (t, e, n) {\n    \"use strict\";\n    var i = n(3),\n        o = n(7),\n        r = n(14),\n        s = n(15),\n        a = n(16),\n        c = n(4),\n        u = n(17),\n        l = n(18),\n        h = n(25),\n        p = n(26),\n        f = n(27),\n        d = n(28),\n        y = { nextAuthCallbackID: 1, auth_callbacks: {}, ScriptReceivers: c.ScriptReceivers, DependenciesReceivers: i.DependenciesReceivers, getDefaultStrategy: p[\"default\"], Transports: l[\"default\"], transportConnectionInitializer: f[\"default\"], HTTPFactory: d[\"default\"], TimelineTransport: u[\"default\"], getXHRAPI: function getXHRAPI() {\n        return window.XMLHttpRequest;\n      }, getWebSocketAPI: function getWebSocketAPI() {\n        return window.WebSocket || window.MozWebSocket;\n      }, setup: function setup(t) {\n        var e = this;window.Pusher = t;var n = function n() {\n          e.onDocumentBody(t.ready);\n        };window.JSON ? n() : i.Dependencies.load(\"json2\", {}, n);\n      }, getDocument: function getDocument() {\n        return document;\n      }, getProtocol: function getProtocol() {\n        return this.getDocument().location.protocol;\n      }, getAuthorizers: function getAuthorizers() {\n        return { ajax: o[\"default\"], jsonp: r[\"default\"] };\n      }, onDocumentBody: function onDocumentBody(t) {\n        var e = this;document.body ? t() : setTimeout(function () {\n          e.onDocumentBody(t);\n        }, 0);\n      }, createJSONPRequest: function createJSONPRequest(t, e) {\n        return new a[\"default\"](t, e);\n      }, createScriptRequest: function createScriptRequest(t) {\n        return new s[\"default\"](t);\n      }, getLocalStorage: function getLocalStorage() {\n        try {\n          return window.localStorage;\n        } catch (t) {\n          return;\n        }\n      }, createXHR: function createXHR() {\n        return this.getXHRAPI() ? this.createXMLHttpRequest() : this.createMicrosoftXHR();\n      }, createXMLHttpRequest: function createXMLHttpRequest() {\n        var t = this.getXHRAPI();return new t();\n      }, createMicrosoftXHR: function createMicrosoftXHR() {\n        return new ActiveXObject(\"Microsoft.XMLHTTP\");\n      }, getNetwork: function getNetwork() {\n        return h.Network;\n      }, createWebSocket: function createWebSocket(t) {\n        var e = this.getWebSocketAPI();return new e(t);\n      }, createSocketRequest: function createSocketRequest(t, e) {\n        if (this.isXHRSupported()) return this.HTTPFactory.createXHR(t, e);if (this.isXDRSupported(0 === e.indexOf(\"https:\"))) return this.HTTPFactory.createXDR(t, e);throw \"Cross-origin HTTP requests are not supported\";\n      }, isXHRSupported: function isXHRSupported() {\n        var t = this.getXHRAPI();return Boolean(t) && void 0 !== new t().withCredentials;\n      }, isXDRSupported: function isXDRSupported(t) {\n        var e = t ? \"https:\" : \"http:\",\n            n = this.getProtocol();return Boolean(window.XDomainRequest) && n === e;\n      }, addUnloadListener: function addUnloadListener(t) {\n        void 0 !== window.addEventListener ? window.addEventListener(\"unload\", t, !1) : void 0 !== window.attachEvent && window.attachEvent(\"onunload\", t);\n      }, removeUnloadListener: function removeUnloadListener(t) {\n        void 0 !== window.addEventListener ? window.removeEventListener(\"unload\", t, !1) : void 0 !== window.detachEvent && window.detachEvent(\"onunload\", t);\n      } };e.__esModule = !0, e[\"default\"] = y;\n  }, function (t, e, n) {\n    \"use strict\";\n    var i = n(4),\n        o = n(5),\n        r = n(6);e.DependenciesReceivers = new i.ScriptReceiverFactory(\"_pusher_dependencies\", \"Pusher.DependenciesReceivers\"), e.Dependencies = new r[\"default\"]({ cdn_http: o[\"default\"].cdn_http, cdn_https: o[\"default\"].cdn_https, version: o[\"default\"].VERSION, suffix: o[\"default\"].dependency_suffix, receivers: e.DependenciesReceivers });\n  }, function (t, e) {\n    \"use strict\";\n    var n = function () {\n      function t(t, e) {\n        this.lastId = 0, this.prefix = t, this.name = e;\n      }return t.prototype.create = function (t) {\n        this.lastId++;var e = this.lastId,\n            n = this.prefix + e,\n            i = this.name + \"[\" + e + \"]\",\n            o = !1,\n            r = function r() {\n          o || (t.apply(null, arguments), o = !0);\n        };return this[e] = r, { number: e, id: n, name: i, callback: r };\n      }, t.prototype.remove = function (t) {\n        delete this[t.number];\n      }, t;\n    }();e.ScriptReceiverFactory = n, e.ScriptReceivers = new n(\"_pusher_script_\", \"Pusher.ScriptReceivers\");\n  }, function (t, e) {\n    \"use strict\";\n    var n = { VERSION: \"4.0.0\", PROTOCOL: 7, host: \"ws.pusherapp.com\", ws_port: 80, wss_port: 443, sockjs_host: \"sockjs.pusher.com\", sockjs_http_port: 80, sockjs_https_port: 443, sockjs_path: \"/pusher\", stats_host: \"stats.pusher.com\", channel_auth_endpoint: \"/pusher/auth\", channel_auth_transport: \"ajax\", activity_timeout: 12e4, pong_timeout: 3e4, unavailable_timeout: 1e4, cdn_http: \"http://js.pusher.com\", cdn_https: \"https://js.pusher.com\", dependency_suffix: \".min\" };e.__esModule = !0, e[\"default\"] = n;\n  }, function (t, e, n) {\n    \"use strict\";\n    var i = n(4),\n        o = n(2),\n        r = function () {\n      function t(t) {\n        this.options = t, this.receivers = t.receivers || i.ScriptReceivers, this.loading = {};\n      }return t.prototype.load = function (t, e, n) {\n        var i = this;if (i.loading[t] && i.loading[t].length > 0) i.loading[t].push(n);else {\n          i.loading[t] = [n];var r = o[\"default\"].createScriptRequest(i.getPath(t, e)),\n              s = i.receivers.create(function (e) {\n            if (i.receivers.remove(s), i.loading[t]) {\n              var n = i.loading[t];delete i.loading[t];for (var o = function o(t) {\n                t || r.cleanup();\n              }, a = 0; a < n.length; a++) {\n                n[a](e, o);\n              }\n            }\n          });r.send(s);\n        }\n      }, t.prototype.getRoot = function (t) {\n        var e,\n            n = o[\"default\"].getDocument().location.protocol;return e = t && t.encrypted || \"https:\" === n ? this.options.cdn_https : this.options.cdn_http, e.replace(/\\/*$/, \"\") + \"/\" + this.options.version;\n      }, t.prototype.getPath = function (t, e) {\n        return this.getRoot(e) + \"/\" + t + this.options.suffix + \".js\";\n      }, t;\n    }();e.__esModule = !0, e[\"default\"] = r;\n  }, function (t, e, n) {\n    \"use strict\";\n    var i = n(8),\n        o = n(2),\n        r = function r(t, e, n) {\n      var r,\n          s = this;r = o[\"default\"].createXHR(), r.open(\"POST\", s.options.authEndpoint, !0), r.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");for (var a in this.authOptions.headers) {\n        r.setRequestHeader(a, this.authOptions.headers[a]);\n      }return r.onreadystatechange = function () {\n        if (4 === r.readyState) if (200 === r.status) {\n          var t,\n              e = !1;try {\n            t = JSON.parse(r.responseText), e = !0;\n          } catch (o) {\n            n(!0, \"JSON returned from webapp was invalid, yet status code was 200. Data was: \" + r.responseText);\n          }e && n(!1, t);\n        } else i[\"default\"].warn(\"Couldn't get auth info from your webapp\", r.status), n(!0, r.status);\n      }, r.send(this.composeQuery(e)), r;\n    };e.__esModule = !0, e[\"default\"] = r;\n  }, function (t, e, n) {\n    \"use strict\";\n    var i = n(9),\n        o = n(1),\n        r = { debug: function debug() {\n        for (var t = [], e = 0; e < arguments.length; e++) {\n          t[e - 0] = arguments[e];\n        }o[\"default\"].log && o[\"default\"].log(i.stringify.apply(this, arguments));\n      }, warn: function warn() {\n        for (var t = [], e = 0; e < arguments.length; e++) {\n          t[e - 0] = arguments[e];\n        }var n = i.stringify.apply(this, arguments);window.console && (window.console.warn ? window.console.warn(n) : window.console.log && window.console.log(n)), o[\"default\"].log && o[\"default\"].log(n);\n      } };e.__esModule = !0, e[\"default\"] = r;\n  }, function (t, e, n) {\n    \"use strict\";\n    function i(t) {\n      for (var e = [], n = 1; n < arguments.length; n++) {\n        e[n - 1] = arguments[n];\n      }for (var o = 0; o < e.length; o++) {\n        var r = e[o];for (var s in r) {\n          r[s] && r[s].constructor && r[s].constructor === Object ? t[s] = i(t[s] || {}, r[s]) : t[s] = r[s];\n        }\n      }return t;\n    }function o() {\n      for (var t = [\"Pusher\"], e = 0; e < arguments.length; e++) {\n        \"string\" == typeof arguments[e] ? t.push(arguments[e]) : t.push(_(arguments[e]));\n      }return t.join(\" : \");\n    }function r(t, e) {\n      var n = Array.prototype.indexOf;if (null === t) return -1;if (n && t.indexOf === n) return t.indexOf(e);for (var i = 0, o = t.length; i < o; i++) {\n        if (t[i] === e) return i;\n      }return -1;\n    }function s(t, e) {\n      for (var n in t) {\n        Object.prototype.hasOwnProperty.call(t, n) && e(t[n], n, t);\n      }\n    }function a(t) {\n      var e = [];return s(t, function (t, n) {\n        e.push(n);\n      }), e;\n    }function c(t) {\n      var e = [];return s(t, function (t) {\n        e.push(t);\n      }), e;\n    }function u(t, e, n) {\n      for (var i = 0; i < t.length; i++) {\n        e.call(n || window, t[i], i, t);\n      }\n    }function l(t, e) {\n      for (var n = [], i = 0; i < t.length; i++) {\n        n.push(e(t[i], i, t, n));\n      }return n;\n    }function h(t, e) {\n      var n = {};return s(t, function (t, i) {\n        n[i] = e(t);\n      }), n;\n    }function p(t, e) {\n      e = e || function (t) {\n        return !!t;\n      };for (var n = [], i = 0; i < t.length; i++) {\n        e(t[i], i, t, n) && n.push(t[i]);\n      }return n;\n    }function f(t, e) {\n      var n = {};return s(t, function (i, o) {\n        (e && e(i, o, t, n) || Boolean(i)) && (n[o] = i);\n      }), n;\n    }function d(t) {\n      var e = [];return s(t, function (t, n) {\n        e.push([n, t]);\n      }), e;\n    }function y(t, e) {\n      for (var n = 0; n < t.length; n++) {\n        if (e(t[n], n, t)) return !0;\n      }return !1;\n    }function v(t, e) {\n      for (var n = 0; n < t.length; n++) {\n        if (!e(t[n], n, t)) return !1;\n      }return !0;\n    }function g(t) {\n      return h(t, function (t) {\n        return \"object\" == (typeof t === \"undefined\" ? \"undefined\" : _typeof(t)) && (t = _(t)), encodeURIComponent(w[\"default\"](t.toString()));\n      });\n    }function m(t) {\n      var e = f(t, function (t) {\n        return void 0 !== t;\n      }),\n          n = l(d(g(e)), k[\"default\"].method(\"join\", \"=\")).join(\"&\");return n;\n    }function b(t) {\n      var e = [],\n          n = [];return function i(t, o) {\n        var r, s, a;switch (typeof t === \"undefined\" ? \"undefined\" : _typeof(t)) {case \"object\":\n            if (!t) return null;for (r = 0; r < e.length; r += 1) {\n              if (e[r] === t) return { $ref: n[r] };\n            }if (e.push(t), n.push(o), \"[object Array]\" === Object.prototype.toString.apply(t)) for (a = [], r = 0; r < t.length; r += 1) {\n              a[r] = i(t[r], o + \"[\" + r + \"]\");\n            } else {\n              a = {};for (s in t) {\n                Object.prototype.hasOwnProperty.call(t, s) && (a[s] = i(t[s], o + \"[\" + JSON.stringify(s) + \"]\"));\n              }\n            }return a;case \"number\":case \"string\":case \"boolean\":\n            return t;}\n      }(t, \"$\");\n    }function _(t) {\n      try {\n        return JSON.stringify(t);\n      } catch (e) {\n        return JSON.stringify(b(t));\n      }\n    }var w = n(10),\n        k = n(11);e.extend = i, e.stringify = o, e.arrayIndexOf = r, e.objectApply = s, e.keys = a, e.values = c, e.apply = u, e.map = l, e.mapObject = h, e.filter = p, e.filterObject = f, e.flatten = d, e.any = y, e.all = v, e.encodeParamsObject = g, e.buildQueryString = m, e.decycleObject = b, e.safeJSONStringify = _;\n  }, function (t, e, n) {\n    \"use strict\";\n    function i(t) {\n      return p(l(t));\n    }e.__esModule = !0, e[\"default\"] = i;for (var o = String.fromCharCode, r = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\", s = {}, a = 0, c = r.length; a < c; a++) {\n      s[r.charAt(a)] = a;\n    }var u = function u(t) {\n      var e = t.charCodeAt(0);return e < 128 ? t : e < 2048 ? o(192 | e >>> 6) + o(128 | 63 & e) : o(224 | e >>> 12 & 15) + o(128 | e >>> 6 & 63) + o(128 | 63 & e);\n    },\n        l = function l(t) {\n      return t.replace(/[^\\x00-\\x7F]/g, u);\n    },\n        h = function h(t) {\n      var e = [0, 2, 1][t.length % 3],\n          n = t.charCodeAt(0) << 16 | (t.length > 1 ? t.charCodeAt(1) : 0) << 8 | (t.length > 2 ? t.charCodeAt(2) : 0),\n          i = [r.charAt(n >>> 18), r.charAt(n >>> 12 & 63), e >= 2 ? \"=\" : r.charAt(n >>> 6 & 63), e >= 1 ? \"=\" : r.charAt(63 & n)];return i.join(\"\");\n    },\n        p = window.btoa || function (t) {\n      return t.replace(/[\\s\\S]{1,3}/g, h);\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n    var i = n(12),\n        o = { now: function now() {\n        return Date.now ? Date.now() : new Date().valueOf();\n      }, defer: function defer(t) {\n        return new i.OneOffTimer(0, t);\n      }, method: function method(t) {\n        for (var e = [], n = 1; n < arguments.length; n++) {\n          e[n - 1] = arguments[n];\n        }var i = Array.prototype.slice.call(arguments, 1);return function (e) {\n          return e[t].apply(e, i.concat(arguments));\n        };\n      } };e.__esModule = !0, e[\"default\"] = o;\n  }, function (t, e, n) {\n    \"use strict\";\n    function i(t) {\n      window.clearTimeout(t);\n    }function o(t) {\n      window.clearInterval(t);\n    }var r = this && this.__extends || function (t, e) {\n      function n() {\n        this.constructor = t;\n      }for (var i in e) {\n        e.hasOwnProperty(i) && (t[i] = e[i]);\n      }t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    },\n        s = n(13),\n        a = function (t) {\n      function e(e, n) {\n        t.call(this, setTimeout, i, e, function (t) {\n          return n(), null;\n        });\n      }return r(e, t), e;\n    }(s[\"default\"]);e.OneOffTimer = a;var c = function (t) {\n      function e(e, n) {\n        t.call(this, setInterval, o, e, function (t) {\n          return n(), t;\n        });\n      }return r(e, t), e;\n    }(s[\"default\"]);e.PeriodicTimer = c;\n  }, function (t, e) {\n    \"use strict\";\n    var n = function () {\n      function t(t, e, n, i) {\n        var o = this;this.clear = e, this.timer = t(function () {\n          o.timer && (o.timer = i(o.timer));\n        }, n);\n      }return t.prototype.isRunning = function () {\n        return null !== this.timer;\n      }, t.prototype.ensureAborted = function () {\n        this.timer && (this.clear(this.timer), this.timer = null);\n      }, t;\n    }();e.__esModule = !0, e[\"default\"] = n;\n  }, function (t, e, n) {\n    \"use strict\";\n    var i = n(8),\n        o = function o(t, e, n) {\n      void 0 !== this.authOptions.headers && i[\"default\"].warn(\"Warn\", \"To send headers with the auth request, you must use AJAX, rather than JSONP.\");var o = t.nextAuthCallbackID.toString();t.nextAuthCallbackID++;var r = t.getDocument(),\n          s = r.createElement(\"script\");t.auth_callbacks[o] = function (t) {\n        n(!1, t);\n      };var a = \"Pusher.auth_callbacks['\" + o + \"']\";s.src = this.options.authEndpoint + \"?callback=\" + encodeURIComponent(a) + \"&\" + this.composeQuery(e);var c = r.getElementsByTagName(\"head\")[0] || r.documentElement;c.insertBefore(s, c.firstChild);\n    };e.__esModule = !0, e[\"default\"] = o;\n  }, function (t, e) {\n    \"use strict\";\n    var n = function () {\n      function t(t) {\n        this.src = t;\n      }return t.prototype.send = function (t) {\n        var e = this,\n            n = \"Error loading \" + e.src;e.script = document.createElement(\"script\"), e.script.id = t.id, e.script.src = e.src, e.script.type = \"text/javascript\", e.script.charset = \"UTF-8\", e.script.addEventListener ? (e.script.onerror = function () {\n          t.callback(n);\n        }, e.script.onload = function () {\n          t.callback(null);\n        }) : e.script.onreadystatechange = function () {\n          \"loaded\" !== e.script.readyState && \"complete\" !== e.script.readyState || t.callback(null);\n        }, void 0 === e.script.async && document.attachEvent && /opera/i.test(navigator.userAgent) ? (e.errorScript = document.createElement(\"script\"), e.errorScript.id = t.id + \"_error\", e.errorScript.text = t.name + \"('\" + n + \"');\", e.script.async = e.errorScript.async = !1) : e.script.async = !0;var i = document.getElementsByTagName(\"head\")[0];i.insertBefore(e.script, i.firstChild), e.errorScript && i.insertBefore(e.errorScript, e.script.nextSibling);\n      }, t.prototype.cleanup = function () {\n        this.script && (this.script.onload = this.script.onerror = null, this.script.onreadystatechange = null), this.script && this.script.parentNode && this.script.parentNode.removeChild(this.script), this.errorScript && this.errorScript.parentNode && this.errorScript.parentNode.removeChild(this.errorScript), this.script = null, this.errorScript = null;\n      }, t;\n    }();e.__esModule = !0, e[\"default\"] = n;\n  }, function (t, e, n) {\n    \"use strict\";\n    var i = n(9),\n        o = n(2),\n        r = function () {\n      function t(t, e) {\n        this.url = t, this.data = e;\n      }return t.prototype.send = function (t) {\n        if (!this.request) {\n          var e = i.buildQueryString(this.data),\n              n = this.url + \"/\" + t.number + \"?\" + e;this.request = o[\"default\"].createScriptRequest(n), this.request.send(t);\n        }\n      }, t.prototype.cleanup = function () {\n        this.request && this.request.cleanup();\n      }, t;\n    }();e.__esModule = !0, e[\"default\"] = r;\n  }, function (t, e, n) {\n    \"use strict\";\n    var i = n(2),\n        o = n(4),\n        r = function r(t, e) {\n      return function (n, r) {\n        var s = \"http\" + (e ? \"s\" : \"\") + \"://\",\n            a = s + (t.host || t.options.host) + t.options.path,\n            c = i[\"default\"].createJSONPRequest(a, n),\n            u = i[\"default\"].ScriptReceivers.create(function (e, n) {\n          o.ScriptReceivers.remove(u), c.cleanup(), n && n.host && (t.host = n.host), r && r(e, n);\n        });c.send(u);\n      };\n    },\n        s = { name: \"jsonp\", getAgent: r };e.__esModule = !0, e[\"default\"] = s;\n  }, function (t, e, n) {\n    \"use strict\";\n    var i = n(19),\n        o = n(21),\n        r = n(20),\n        s = n(2),\n        a = n(3),\n        c = n(9),\n        u = new o[\"default\"]({ file: \"sockjs\", urls: r.sockjs, handlesActivityChecks: !0, supportsPing: !1, isSupported: function isSupported() {\n        return !0;\n      }, isInitialized: function isInitialized() {\n        return void 0 !== window.SockJS;\n      }, getSocket: function getSocket(t, e) {\n        return new window.SockJS(t, null, { js_path: a.Dependencies.getPath(\"sockjs\", { encrypted: e.encrypted }), ignore_null_origin: e.ignoreNullOrigin });\n      }, beforeOpen: function beforeOpen(t, e) {\n        t.send(JSON.stringify({ path: e }));\n      } }),\n        l = { isSupported: function isSupported(t) {\n        var e = s[\"default\"].isXDRSupported(t.encrypted);return e;\n      } },\n        h = new o[\"default\"](c.extend({}, i.streamingConfiguration, l)),\n        p = new o[\"default\"](c.extend({}, i.pollingConfiguration, l));i[\"default\"].xdr_streaming = h, i[\"default\"].xdr_polling = p, i[\"default\"].sockjs = u, e.__esModule = !0, e[\"default\"] = i[\"default\"];\n  }, function (t, e, n) {\n    \"use strict\";\n    var i = n(20),\n        o = n(21),\n        r = n(9),\n        s = n(2),\n        a = new o[\"default\"]({ urls: i.ws, handlesActivityChecks: !1, supportsPing: !1, isInitialized: function isInitialized() {\n        return Boolean(s[\"default\"].getWebSocketAPI());\n      }, isSupported: function isSupported() {\n        return Boolean(s[\"default\"].getWebSocketAPI());\n      }, getSocket: function getSocket(t) {\n        return s[\"default\"].createWebSocket(t);\n      } }),\n        c = { urls: i.http, handlesActivityChecks: !1, supportsPing: !0, isInitialized: function isInitialized() {\n        return !0;\n      } };e.streamingConfiguration = r.extend({ getSocket: function getSocket(t) {\n        return s[\"default\"].HTTPFactory.createStreamingSocket(t);\n      } }, c), e.pollingConfiguration = r.extend({ getSocket: function getSocket(t) {\n        return s[\"default\"].HTTPFactory.createPollingSocket(t);\n      } }, c);var u = { isSupported: function isSupported() {\n        return s[\"default\"].isXHRSupported();\n      } },\n        l = new o[\"default\"](r.extend({}, e.streamingConfiguration, u)),\n        h = new o[\"default\"](r.extend({}, e.pollingConfiguration, u)),\n        p = { ws: a, xhr_streaming: l, xhr_polling: h };e.__esModule = !0, e[\"default\"] = p;\n  }, function (t, e, n) {\n    \"use strict\";\n    function i(t, e, n) {\n      var i = t + (e.encrypted ? \"s\" : \"\"),\n          o = e.encrypted ? e.hostEncrypted : e.hostUnencrypted;return i + \"://\" + o + n;\n    }function o(t, e) {\n      var n = \"/app/\" + t,\n          i = \"?protocol=\" + r[\"default\"].PROTOCOL + \"&client=js&version=\" + r[\"default\"].VERSION + (e ? \"&\" + e : \"\");return n + i;\n    }var r = n(5);e.ws = { getInitial: function getInitial(t, e) {\n        return i(\"ws\", e, o(t, \"flash=false\"));\n      } }, e.http = { getInitial: function getInitial(t, e) {\n        var n = (e.httpPath || \"/pusher\") + o(t);return i(\"http\", e, n);\n      } }, e.sockjs = { getInitial: function getInitial(t, e) {\n        return i(\"http\", e, e.httpPath || \"/pusher\");\n      }, getPath: function getPath(t, e) {\n        return o(t);\n      } };\n  }, function (t, e, n) {\n    \"use strict\";\n    var i = n(22),\n        o = function () {\n      function t(t) {\n        this.hooks = t;\n      }return t.prototype.isSupported = function (t) {\n        return this.hooks.isSupported(t);\n      }, t.prototype.createConnection = function (t, e, n, o) {\n        return new i[\"default\"](this.hooks, t, e, n, o);\n      }, t;\n    }();e.__esModule = !0, e[\"default\"] = o;\n  }, function (t, e, n) {\n    \"use strict\";\n    var i = this && this.__extends || function (t, e) {\n      function n() {\n        this.constructor = t;\n      }for (var i in e) {\n        e.hasOwnProperty(i) && (t[i] = e[i]);\n      }t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    },\n        o = n(11),\n        r = n(9),\n        s = n(23),\n        a = n(8),\n        c = n(2),\n        u = function (t) {\n      function e(e, n, i, o, r) {\n        t.call(this), this.initialize = c[\"default\"].transportConnectionInitializer, this.hooks = e, this.name = n, this.priority = i, this.key = o, this.options = r, this.state = \"new\", this.timeline = r.timeline, this.activityTimeout = r.activityTimeout, this.id = this.timeline.generateUniqueID();\n      }return i(e, t), e.prototype.handlesActivityChecks = function () {\n        return Boolean(this.hooks.handlesActivityChecks);\n      }, e.prototype.supportsPing = function () {\n        return Boolean(this.hooks.supportsPing);\n      }, e.prototype.connect = function () {\n        var t = this;if (this.socket || \"initialized\" !== this.state) return !1;var e = this.hooks.urls.getInitial(this.key, this.options);try {\n          this.socket = this.hooks.getSocket(e, this.options);\n        } catch (n) {\n          return o[\"default\"].defer(function () {\n            t.onError(n), t.changeState(\"closed\");\n          }), !1;\n        }return this.bindListeners(), a[\"default\"].debug(\"Connecting\", { transport: this.name, url: e }), this.changeState(\"connecting\"), !0;\n      }, e.prototype.close = function () {\n        return !!this.socket && (this.socket.close(), !0);\n      }, e.prototype.send = function (t) {\n        var e = this;return \"open\" === this.state && (o[\"default\"].defer(function () {\n          e.socket && e.socket.send(t);\n        }), !0);\n      }, e.prototype.ping = function () {\n        \"open\" === this.state && this.supportsPing() && this.socket.ping();\n      }, e.prototype.onOpen = function () {\n        this.hooks.beforeOpen && this.hooks.beforeOpen(this.socket, this.hooks.urls.getPath(this.key, this.options)), this.changeState(\"open\"), this.socket.onopen = void 0;\n      }, e.prototype.onError = function (t) {\n        this.emit(\"error\", { type: \"WebSocketError\", error: t }), this.timeline.error(this.buildTimelineMessage({ error: t.toString() }));\n      }, e.prototype.onClose = function (t) {\n        t ? this.changeState(\"closed\", { code: t.code, reason: t.reason, wasClean: t.wasClean }) : this.changeState(\"closed\"), this.unbindListeners(), this.socket = void 0;\n      }, e.prototype.onMessage = function (t) {\n        this.emit(\"message\", t);\n      }, e.prototype.onActivity = function () {\n        this.emit(\"activity\");\n      }, e.prototype.bindListeners = function () {\n        var t = this;this.socket.onopen = function () {\n          t.onOpen();\n        }, this.socket.onerror = function (e) {\n          t.onError(e);\n        }, this.socket.onclose = function (e) {\n          t.onClose(e);\n        }, this.socket.onmessage = function (e) {\n          t.onMessage(e);\n        }, this.supportsPing() && (this.socket.onactivity = function () {\n          t.onActivity();\n        });\n      }, e.prototype.unbindListeners = function () {\n        this.socket && (this.socket.onopen = void 0, this.socket.onerror = void 0, this.socket.onclose = void 0, this.socket.onmessage = void 0, this.supportsPing() && (this.socket.onactivity = void 0));\n      }, e.prototype.changeState = function (t, e) {\n        this.state = t, this.timeline.info(this.buildTimelineMessage({ state: t, params: e })), this.emit(t, e);\n      }, e.prototype.buildTimelineMessage = function (t) {\n        return r.extend({ cid: this.id }, t);\n      }, e;\n    }(s[\"default\"]);e.__esModule = !0, e[\"default\"] = u;\n  }, function (t, e, n) {\n    \"use strict\";\n    var i = n(9),\n        o = n(24),\n        r = function () {\n      function t(t) {\n        this.callbacks = new o[\"default\"](), this.global_callbacks = [], this.failThrough = t;\n      }return t.prototype.bind = function (t, e, n) {\n        return this.callbacks.add(t, e, n), this;\n      }, t.prototype.bind_global = function (t) {\n        return this.global_callbacks.push(t), this;\n      }, t.prototype.unbind = function (t, e, n) {\n        return this.callbacks.remove(t, e, n), this;\n      }, t.prototype.unbind_global = function (t) {\n        return t ? (this.global_callbacks = i.filter(this.global_callbacks || [], function (e) {\n          return e !== t;\n        }), this) : (this.global_callbacks = [], this);\n      }, t.prototype.unbind_all = function () {\n        return this.unbind(), this.unbind_global(), this;\n      }, t.prototype.emit = function (t, e) {\n        var n;for (n = 0; n < this.global_callbacks.length; n++) {\n          this.global_callbacks[n](t, e);\n        }var i = this.callbacks.get(t);if (i && i.length > 0) for (n = 0; n < i.length; n++) {\n          i[n].fn.call(i[n].context || window, e);\n        } else this.failThrough && this.failThrough(t, e);return this;\n      }, t;\n    }();e.__esModule = !0, e[\"default\"] = r;\n  }, function (t, e, n) {\n    \"use strict\";\n    function i(t) {\n      return \"_\" + t;\n    }var o = n(9),\n        r = function () {\n      function t() {\n        this._callbacks = {};\n      }return t.prototype.get = function (t) {\n        return this._callbacks[i(t)];\n      }, t.prototype.add = function (t, e, n) {\n        var o = i(t);this._callbacks[o] = this._callbacks[o] || [], this._callbacks[o].push({ fn: e, context: n });\n      }, t.prototype.remove = function (t, e, n) {\n        if (!t && !e && !n) return void (this._callbacks = {});var r = t ? [i(t)] : o.keys(this._callbacks);e || n ? this.removeCallback(r, e, n) : this.removeAllCallbacks(r);\n      }, t.prototype.removeCallback = function (t, e, n) {\n        o.apply(t, function (t) {\n          this._callbacks[t] = o.filter(this._callbacks[t] || [], function (t) {\n            return e && e !== t.fn || n && n !== t.context;\n          }), 0 === this._callbacks[t].length && delete this._callbacks[t];\n        }, this);\n      }, t.prototype.removeAllCallbacks = function (t) {\n        o.apply(t, function (t) {\n          delete this._callbacks[t];\n        }, this);\n      }, t;\n    }();e.__esModule = !0, e[\"default\"] = r;\n  }, function (t, e, n) {\n    \"use strict\";\n    var i = this && this.__extends || function (t, e) {\n      function n() {\n        this.constructor = t;\n      }for (var i in e) {\n        e.hasOwnProperty(i) && (t[i] = e[i]);\n      }t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    },\n        o = n(23),\n        r = function (t) {\n      function e() {\n        t.call(this);var e = this;void 0 !== window.addEventListener && (window.addEventListener(\"online\", function () {\n          e.emit(\"online\");\n        }, !1), window.addEventListener(\"offline\", function () {\n          e.emit(\"offline\");\n        }, !1));\n      }return i(e, t), e.prototype.isOnline = function () {\n        return void 0 === window.navigator.onLine || window.navigator.onLine;\n      }, e;\n    }(o[\"default\"]);e.NetInfo = r, e.Network = new r();\n  }, function (t, e) {\n    \"use strict\";\n    var n = function n(t) {\n      var e;return e = t.encrypted ? [\":best_connected_ever\", \":ws_loop\", [\":delayed\", 2e3, [\":http_fallback_loop\"]]] : [\":best_connected_ever\", \":ws_loop\", [\":delayed\", 2e3, [\":wss_loop\"]], [\":delayed\", 5e3, [\":http_fallback_loop\"]]], [[\":def\", \"ws_options\", { hostUnencrypted: t.wsHost + \":\" + t.wsPort, hostEncrypted: t.wsHost + \":\" + t.wssPort }], [\":def\", \"wss_options\", [\":extend\", \":ws_options\", { encrypted: !0 }]], [\":def\", \"sockjs_options\", { hostUnencrypted: t.httpHost + \":\" + t.httpPort, hostEncrypted: t.httpHost + \":\" + t.httpsPort, httpPath: t.httpPath }], [\":def\", \"timeouts\", { loop: !0, timeout: 15e3, timeoutLimit: 6e4 }], [\":def\", \"ws_manager\", [\":transport_manager\", { lives: 2, minPingDelay: 1e4, maxPingDelay: t.activity_timeout }]], [\":def\", \"streaming_manager\", [\":transport_manager\", { lives: 2, minPingDelay: 1e4, maxPingDelay: t.activity_timeout }]], [\":def_transport\", \"ws\", \"ws\", 3, \":ws_options\", \":ws_manager\"], [\":def_transport\", \"wss\", \"ws\", 3, \":wss_options\", \":ws_manager\"], [\":def_transport\", \"sockjs\", \"sockjs\", 1, \":sockjs_options\"], [\":def_transport\", \"xhr_streaming\", \"xhr_streaming\", 1, \":sockjs_options\", \":streaming_manager\"], [\":def_transport\", \"xdr_streaming\", \"xdr_streaming\", 1, \":sockjs_options\", \":streaming_manager\"], [\":def_transport\", \"xhr_polling\", \"xhr_polling\", 1, \":sockjs_options\"], [\":def_transport\", \"xdr_polling\", \"xdr_polling\", 1, \":sockjs_options\"], [\":def\", \"ws_loop\", [\":sequential\", \":timeouts\", \":ws\"]], [\":def\", \"wss_loop\", [\":sequential\", \":timeouts\", \":wss\"]], [\":def\", \"sockjs_loop\", [\":sequential\", \":timeouts\", \":sockjs\"]], [\":def\", \"streaming_loop\", [\":sequential\", \":timeouts\", [\":if\", [\":is_supported\", \":xhr_streaming\"], \":xhr_streaming\", \":xdr_streaming\"]]], [\":def\", \"polling_loop\", [\":sequential\", \":timeouts\", [\":if\", [\":is_supported\", \":xhr_polling\"], \":xhr_polling\", \":xdr_polling\"]]], [\":def\", \"http_loop\", [\":if\", [\":is_supported\", \":streaming_loop\"], [\":best_connected_ever\", \":streaming_loop\", [\":delayed\", 4e3, [\":polling_loop\"]]], [\":polling_loop\"]]], [\":def\", \"http_fallback_loop\", [\":if\", [\":is_supported\", \":http_loop\"], [\":http_loop\"], [\":sockjs_loop\"]]], [\":def\", \"strategy\", [\":cached\", 18e5, [\":first_connected\", [\":if\", [\":is_supported\", \":ws\"], e, \":http_fallback_loop\"]]]]];\n    };e.__esModule = !0, e[\"default\"] = n;\n  }, function (t, e, n) {\n    \"use strict\";\n    function i() {\n      var t = this;t.timeline.info(t.buildTimelineMessage({ transport: t.name + (t.options.encrypted ? \"s\" : \"\") })), t.hooks.isInitialized() ? t.changeState(\"initialized\") : t.hooks.file ? (t.changeState(\"initializing\"), o.Dependencies.load(t.hooks.file, { encrypted: t.options.encrypted }, function (e, n) {\n        t.hooks.isInitialized() ? (t.changeState(\"initialized\"), n(!0)) : (e && t.onError(e), t.onClose(), n(!1));\n      })) : t.onClose();\n    }var o = n(3);e.__esModule = !0, e[\"default\"] = i;\n  }, function (t, e, n) {\n    \"use strict\";\n    var i = n(29),\n        o = n(31);o[\"default\"].createXDR = function (t, e) {\n      return this.createRequest(i[\"default\"], t, e);\n    }, e.__esModule = !0, e[\"default\"] = o[\"default\"];\n  }, function (t, e, n) {\n    \"use strict\";\n    var i = n(30),\n        o = { getRequest: function getRequest(t) {\n        var e = new window.XDomainRequest();return e.ontimeout = function () {\n          t.emit(\"error\", new i.RequestTimedOut()), t.close();\n        }, e.onerror = function (e) {\n          t.emit(\"error\", e), t.close();\n        }, e.onprogress = function () {\n          e.responseText && e.responseText.length > 0 && t.onChunk(200, e.responseText);\n        }, e.onload = function () {\n          e.responseText && e.responseText.length > 0 && t.onChunk(200, e.responseText), t.emit(\"finished\", 200), t.close();\n        }, e;\n      }, abortRequest: function abortRequest(t) {\n        t.ontimeout = t.onerror = t.onprogress = t.onload = null, t.abort();\n      } };e.__esModule = !0, e[\"default\"] = o;\n  }, function (t, e) {\n    \"use strict\";\n    var n = this && this.__extends || function (t, e) {\n      function n() {\n        this.constructor = t;\n      }for (var i in e) {\n        e.hasOwnProperty(i) && (t[i] = e[i]);\n      }t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    },\n        i = function (t) {\n      function e() {\n        t.apply(this, arguments);\n      }return n(e, t), e;\n    }(Error);e.BadEventName = i;var o = function (t) {\n      function e() {\n        t.apply(this, arguments);\n      }return n(e, t), e;\n    }(Error);e.RequestTimedOut = o;var r = function (t) {\n      function e() {\n        t.apply(this, arguments);\n      }return n(e, t), e;\n    }(Error);e.TransportPriorityTooLow = r;var s = function (t) {\n      function e() {\n        t.apply(this, arguments);\n      }return n(e, t), e;\n    }(Error);e.TransportClosed = s;var a = function (t) {\n      function e() {\n        t.apply(this, arguments);\n      }return n(e, t), e;\n    }(Error);e.UnsupportedTransport = a;var c = function (t) {\n      function e() {\n        t.apply(this, arguments);\n      }return n(e, t), e;\n    }(Error);e.UnsupportedStrategy = c;\n  }, function (t, e, n) {\n    \"use strict\";\n    var i = n(32),\n        o = n(33),\n        r = n(35),\n        s = n(36),\n        a = n(37),\n        c = { createStreamingSocket: function createStreamingSocket(t) {\n        return this.createSocket(r[\"default\"], t);\n      }, createPollingSocket: function createPollingSocket(t) {\n        return this.createSocket(s[\"default\"], t);\n      }, createSocket: function createSocket(t, e) {\n        return new o[\"default\"](t, e);\n      }, createXHR: function createXHR(t, e) {\n        return this.createRequest(a[\"default\"], t, e);\n      }, createRequest: function createRequest(t, e, n) {\n        return new i[\"default\"](t, e, n);\n      } };e.__esModule = !0, e[\"default\"] = c;\n  }, function (t, e, n) {\n    \"use strict\";\n    var i = this && this.__extends || function (t, e) {\n      function n() {\n        this.constructor = t;\n      }for (var i in e) {\n        e.hasOwnProperty(i) && (t[i] = e[i]);\n      }t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    },\n        o = n(2),\n        r = n(23),\n        s = 262144,\n        a = function (t) {\n      function e(e, n, i) {\n        t.call(this), this.hooks = e, this.method = n, this.url = i;\n      }return i(e, t), e.prototype.start = function (t) {\n        var e = this;this.position = 0, this.xhr = this.hooks.getRequest(this), this.unloader = function () {\n          e.close();\n        }, o[\"default\"].addUnloadListener(this.unloader), this.xhr.open(this.method, this.url, !0), this.xhr.setRequestHeader && this.xhr.setRequestHeader(\"Content-Type\", \"application/json\"), this.xhr.send(t);\n      }, e.prototype.close = function () {\n        this.unloader && (o[\"default\"].removeUnloadListener(this.unloader), this.unloader = null), this.xhr && (this.hooks.abortRequest(this.xhr), this.xhr = null);\n      }, e.prototype.onChunk = function (t, e) {\n        for (;;) {\n          var n = this.advanceBuffer(e);if (!n) break;this.emit(\"chunk\", { status: t, data: n });\n        }this.isBufferTooLong(e) && this.emit(\"buffer_too_long\");\n      }, e.prototype.advanceBuffer = function (t) {\n        var e = t.slice(this.position),\n            n = e.indexOf(\"\\n\");return n !== -1 ? (this.position += n + 1, e.slice(0, n)) : null;\n      }, e.prototype.isBufferTooLong = function (t) {\n        return this.position === t.length && t.length > s;\n      }, e;\n    }(r[\"default\"]);e.__esModule = !0, e[\"default\"] = a;\n  }, function (t, e, n) {\n    \"use strict\";\n    function i(t) {\n      var e = /([^\\?]*)\\/*(\\??.*)/.exec(t);return { base: e[1], queryString: e[2] };\n    }function o(t, e) {\n      return t.base + \"/\" + e + \"/xhr_send\";\n    }function r(t) {\n      var e = t.indexOf(\"?\") === -1 ? \"?\" : \"&\";return t + e + \"t=\" + +new Date() + \"&n=\" + p++;\n    }function s(t, e) {\n      var n = /(https?:\\/\\/)([^\\/:]+)((\\/|:)?.*)/.exec(t);return n[1] + e + n[3];\n    }function a(t) {\n      return Math.floor(Math.random() * t);\n    }function c(t) {\n      for (var e = [], n = 0; n < t; n++) {\n        e.push(a(32).toString(32));\n      }return e.join(\"\");\n    }var u = n(34),\n        l = n(11),\n        h = n(2),\n        p = 1,\n        f = function () {\n      function t(t, e) {\n        this.hooks = t, this.session = a(1e3) + \"/\" + c(8), this.location = i(e), this.readyState = u[\"default\"].CONNECTING, this.openStream();\n      }return t.prototype.send = function (t) {\n        return this.sendRaw(JSON.stringify([t]));\n      }, t.prototype.ping = function () {\n        this.hooks.sendHeartbeat(this);\n      }, t.prototype.close = function (t, e) {\n        this.onClose(t, e, !0);\n      }, t.prototype.sendRaw = function (t) {\n        if (this.readyState !== u[\"default\"].OPEN) return !1;try {\n          return h[\"default\"].createSocketRequest(\"POST\", r(o(this.location, this.session))).start(t), !0;\n        } catch (e) {\n          return !1;\n        }\n      }, t.prototype.reconnect = function () {\n        this.closeStream(), this.openStream();\n      }, t.prototype.onClose = function (t, e, n) {\n        this.closeStream(), this.readyState = u[\"default\"].CLOSED, this.onclose && this.onclose({ code: t, reason: e, wasClean: n });\n      }, t.prototype.onChunk = function (t) {\n        if (200 === t.status) {\n          this.readyState === u[\"default\"].OPEN && this.onActivity();var e,\n              n = t.data.slice(0, 1);switch (n) {case \"o\":\n              e = JSON.parse(t.data.slice(1) || \"{}\"), this.onOpen(e);break;case \"a\":\n              e = JSON.parse(t.data.slice(1) || \"[]\");for (var i = 0; i < e.length; i++) {\n                this.onEvent(e[i]);\n              }break;case \"m\":\n              e = JSON.parse(t.data.slice(1) || \"null\"), this.onEvent(e);break;case \"h\":\n              this.hooks.onHeartbeat(this);break;case \"c\":\n              e = JSON.parse(t.data.slice(1) || \"[]\"), this.onClose(e[0], e[1], !0);}\n        }\n      }, t.prototype.onOpen = function (t) {\n        this.readyState === u[\"default\"].CONNECTING ? (t && t.hostname && (this.location.base = s(this.location.base, t.hostname)), this.readyState = u[\"default\"].OPEN, this.onopen && this.onopen()) : this.onClose(1006, \"Server lost session\", !0);\n      }, t.prototype.onEvent = function (t) {\n        this.readyState === u[\"default\"].OPEN && this.onmessage && this.onmessage({ data: t });\n      }, t.prototype.onActivity = function () {\n        this.onactivity && this.onactivity();\n      }, t.prototype.onError = function (t) {\n        this.onerror && this.onerror(t);\n      }, t.prototype.openStream = function () {\n        var t = this;this.stream = h[\"default\"].createSocketRequest(\"POST\", r(this.hooks.getReceiveURL(this.location, this.session))), this.stream.bind(\"chunk\", function (e) {\n          t.onChunk(e);\n        }), this.stream.bind(\"finished\", function (e) {\n          t.hooks.onFinished(t, e);\n        }), this.stream.bind(\"buffer_too_long\", function () {\n          t.reconnect();\n        });try {\n          this.stream.start();\n        } catch (e) {\n          l[\"default\"].defer(function () {\n            t.onError(e), t.onClose(1006, \"Could not start streaming\", !1);\n          });\n        }\n      }, t.prototype.closeStream = function () {\n        this.stream && (this.stream.unbind_all(), this.stream.close(), this.stream = null);\n      }, t;\n    }();e.__esModule = !0, e[\"default\"] = f;\n  }, function (t, e) {\n    \"use strict\";\n    var n;!function (t) {\n      t[t.CONNECTING = 0] = \"CONNECTING\", t[t.OPEN = 1] = \"OPEN\", t[t.CLOSED = 3] = \"CLOSED\";\n    }(n || (n = {})), e.__esModule = !0, e[\"default\"] = n;\n  }, function (t, e) {\n    \"use strict\";\n    var n = { getReceiveURL: function getReceiveURL(t, e) {\n        return t.base + \"/\" + e + \"/xhr_streaming\" + t.queryString;\n      }, onHeartbeat: function onHeartbeat(t) {\n        t.sendRaw(\"[]\");\n      }, sendHeartbeat: function sendHeartbeat(t) {\n        t.sendRaw(\"[]\");\n      }, onFinished: function onFinished(t, e) {\n        t.onClose(1006, \"Connection interrupted (\" + e + \")\", !1);\n      } };e.__esModule = !0, e[\"default\"] = n;\n  }, function (t, e) {\n    \"use strict\";\n    var n = { getReceiveURL: function getReceiveURL(t, e) {\n        return t.base + \"/\" + e + \"/xhr\" + t.queryString;\n      }, onHeartbeat: function onHeartbeat() {}, sendHeartbeat: function sendHeartbeat(t) {\n        t.sendRaw(\"[]\");\n      }, onFinished: function onFinished(t, e) {\n        200 === e ? t.reconnect() : t.onClose(1006, \"Connection interrupted (\" + e + \")\", !1);\n      } };e.__esModule = !0, e[\"default\"] = n;\n  }, function (t, e, n) {\n    \"use strict\";\n    var i = n(2),\n        o = { getRequest: function getRequest(t) {\n        var e = i[\"default\"].getXHRAPI(),\n            n = new e();return n.onreadystatechange = n.onprogress = function () {\n          switch (n.readyState) {case 3:\n              n.responseText && n.responseText.length > 0 && t.onChunk(n.status, n.responseText);break;case 4:\n              n.responseText && n.responseText.length > 0 && t.onChunk(n.status, n.responseText), t.emit(\"finished\", n.status), t.close();}\n        }, n;\n      }, abortRequest: function abortRequest(t) {\n        t.onreadystatechange = null, t.abort();\n      } };e.__esModule = !0, e[\"default\"] = o;\n  }, function (t, e, n) {\n    \"use strict\";\n    var i = n(9),\n        o = n(11),\n        r = n(39),\n        s = function () {\n      function t(t, e, n) {\n        this.key = t, this.session = e, this.events = [], this.options = n || {}, this.sent = 0, this.uniqueID = 0;\n      }return t.prototype.log = function (t, e) {\n        t <= this.options.level && (this.events.push(i.extend({}, e, { timestamp: o[\"default\"].now() })), this.options.limit && this.events.length > this.options.limit && this.events.shift());\n      }, t.prototype.error = function (t) {\n        this.log(r[\"default\"].ERROR, t);\n      }, t.prototype.info = function (t) {\n        this.log(r[\"default\"].INFO, t);\n      }, t.prototype.debug = function (t) {\n        this.log(r[\"default\"].DEBUG, t);\n      }, t.prototype.isEmpty = function () {\n        return 0 === this.events.length;\n      }, t.prototype.send = function (t, e) {\n        var n = this,\n            o = i.extend({ session: this.session, bundle: this.sent + 1, key: this.key, lib: \"js\", version: this.options.version, cluster: this.options.cluster, features: this.options.features, timeline: this.events }, this.options.params);return this.events = [], t(o, function (t, i) {\n          t || n.sent++, e && e(t, i);\n        }), !0;\n      }, t.prototype.generateUniqueID = function () {\n        return this.uniqueID++, this.uniqueID;\n      }, t;\n    }();e.__esModule = !0, e[\"default\"] = s;\n  }, function (t, e) {\n    \"use strict\";\n    var n;!function (t) {\n      t[t.ERROR = 3] = \"ERROR\", t[t.INFO = 6] = \"INFO\", t[t.DEBUG = 7] = \"DEBUG\";\n    }(n || (n = {})), e.__esModule = !0, e[\"default\"] = n;\n  }, function (t, e, n) {\n    \"use strict\";\n    function i(t) {\n      return function (e) {\n        return [t.apply(this, arguments), e];\n      };\n    }function o(t) {\n      return \"string\" == typeof t && \":\" === t.charAt(0);\n    }function r(t, e) {\n      return e[t.slice(1)];\n    }function s(t, e) {\n      if (0 === t.length) return [[], e];var n = u(t[0], e),\n          i = s(t.slice(1), n[1]);return [[n[0]].concat(i[0]), i[1]];\n    }function a(t, e) {\n      if (!o(t)) return [t, e];var n = r(t, e);if (void 0 === n) throw \"Undefined symbol \" + t;return [n, e];\n    }function c(t, e) {\n      if (o(t[0])) {\n        var n = r(t[0], e);if (t.length > 1) {\n          if (\"function\" != typeof n) throw \"Calling non-function \" + t[0];var i = [l.extend({}, e)].concat(l.map(t.slice(1), function (t) {\n            return u(t, l.extend({}, e))[0];\n          }));return n.apply(this, i);\n        }return [n, e];\n      }return s(t, e);\n    }function u(t, e) {\n      return \"string\" == typeof t ? a(t, e) : \"object\" == (typeof t === \"undefined\" ? \"undefined\" : _typeof(t)) && t instanceof Array && t.length > 0 ? c(t, e) : [t, e];\n    }var l = n(9),\n        h = n(11),\n        p = n(41),\n        f = n(30),\n        d = n(55),\n        y = n(56),\n        v = n(57),\n        g = n(58),\n        m = n(59),\n        b = n(60),\n        _ = n(61),\n        w = n(2),\n        k = w[\"default\"].Transports;e.build = function (t, e) {\n      var n = l.extend({}, C, e);return u(t, n)[1].strategy;\n    };var S = { isSupported: function isSupported() {\n        return !1;\n      }, connect: function connect(t, e) {\n        var n = h[\"default\"].defer(function () {\n          e(new f.UnsupportedStrategy());\n        });return { abort: function abort() {\n            n.ensureAborted();\n          }, forceMinPriority: function forceMinPriority() {} };\n      } },\n        C = { extend: function extend(t, e, n) {\n        return [l.extend({}, e, n), t];\n      }, def: function def(t, e, n) {\n        if (void 0 !== t[e]) throw \"Redefining symbol \" + e;return t[e] = n, [void 0, t];\n      }, def_transport: function def_transport(t, e, n, i, o, r) {\n        var s = k[n];if (!s) throw new f.UnsupportedTransport(n);var a,\n            c = !(t.enabledTransports && l.arrayIndexOf(t.enabledTransports, e) === -1 || t.disabledTransports && l.arrayIndexOf(t.disabledTransports, e) !== -1);a = c ? new d[\"default\"](e, i, r ? r.getAssistant(s) : s, l.extend({ key: t.key, encrypted: t.encrypted, timeline: t.timeline, ignoreNullOrigin: t.ignoreNullOrigin }, o)) : S;var u = t.def(t, e, a)[1];return u.Transports = t.Transports || {}, u.Transports[e] = a, [void 0, u];\n      }, transport_manager: i(function (t, e) {\n        return new p[\"default\"](e);\n      }), sequential: i(function (t, e) {\n        var n = Array.prototype.slice.call(arguments, 2);return new y[\"default\"](n, e);\n      }), cached: i(function (t, e, n) {\n        return new g[\"default\"](n, t.Transports, { ttl: e, timeline: t.timeline, encrypted: t.encrypted });\n      }), first_connected: i(function (t, e) {\n        return new _[\"default\"](e);\n      }), best_connected_ever: i(function () {\n        var t = Array.prototype.slice.call(arguments, 1);return new v[\"default\"](t);\n      }), delayed: i(function (t, e, n) {\n        return new m[\"default\"](n, { delay: e });\n      }), \"if\": i(function (t, e, n, i) {\n        return new b[\"default\"](e, n, i);\n      }), is_supported: i(function (t, e) {\n        return function () {\n          return e.isSupported();\n        };\n      }) };\n  }, function (t, e, n) {\n    \"use strict\";\n    var i = n(42),\n        o = function () {\n      function t(t) {\n        this.options = t || {}, this.livesLeft = this.options.lives || 1 / 0;\n      }return t.prototype.getAssistant = function (t) {\n        return i[\"default\"].createAssistantToTheTransportManager(this, t, { minPingDelay: this.options.minPingDelay, maxPingDelay: this.options.maxPingDelay });\n      }, t.prototype.isAlive = function () {\n        return this.livesLeft > 0;\n      }, t.prototype.reportDeath = function () {\n        this.livesLeft -= 1;\n      }, t;\n    }();e.__esModule = !0, e[\"default\"] = o;\n  }, function (t, e, n) {\n    \"use strict\";\n    var i = n(43),\n        o = n(44),\n        r = n(47),\n        s = n(48),\n        a = n(49),\n        c = n(50),\n        u = n(51),\n        l = n(53),\n        h = n(54),\n        p = { createChannels: function createChannels() {\n        return new h[\"default\"]();\n      }, createConnectionManager: function createConnectionManager(t, e) {\n        return new l[\"default\"](t, e);\n      }, createChannel: function createChannel(t, e) {\n        return new u[\"default\"](t, e);\n      }, createPrivateChannel: function createPrivateChannel(t, e) {\n        return new c[\"default\"](t, e);\n      }, createPresenceChannel: function createPresenceChannel(t, e) {\n        return new a[\"default\"](t, e);\n      }, createTimelineSender: function createTimelineSender(t, e) {\n        return new s[\"default\"](t, e);\n      }, createAuthorizer: function createAuthorizer(t, e) {\n        return new r[\"default\"](t, e);\n      }, createHandshake: function createHandshake(t, e) {\n        return new o[\"default\"](t, e);\n      }, createAssistantToTheTransportManager: function createAssistantToTheTransportManager(t, e, n) {\n        return new i[\"default\"](t, e, n);\n      } };e.__esModule = !0, e[\"default\"] = p;\n  }, function (t, e, n) {\n    \"use strict\";\n    var i = n(11),\n        o = n(9),\n        r = function () {\n      function t(t, e, n) {\n        this.manager = t, this.transport = e, this.minPingDelay = n.minPingDelay, this.maxPingDelay = n.maxPingDelay, this.pingDelay = void 0;\n      }return t.prototype.createConnection = function (t, e, n, r) {\n        var s = this;r = o.extend({}, r, { activityTimeout: this.pingDelay });var a = this.transport.createConnection(t, e, n, r),\n            c = null,\n            u = function u() {\n          a.unbind(\"open\", u), a.bind(\"closed\", l), c = i[\"default\"].now();\n        },\n            l = function l(t) {\n          if (a.unbind(\"closed\", l), 1002 === t.code || 1003 === t.code) s.manager.reportDeath();else if (!t.wasClean && c) {\n            var e = i[\"default\"].now() - c;e < 2 * s.maxPingDelay && (s.manager.reportDeath(), s.pingDelay = Math.max(e / 2, s.minPingDelay));\n          }\n        };return a.bind(\"open\", u), a;\n      }, t.prototype.isSupported = function (t) {\n        return this.manager.isAlive() && this.transport.isSupported(t);\n      }, t;\n    }();e.__esModule = !0, e[\"default\"] = r;\n  }, function (t, e, n) {\n    \"use strict\";\n    var i = n(9),\n        o = n(45),\n        r = n(46),\n        s = function () {\n      function t(t, e) {\n        this.transport = t, this.callback = e, this.bindListeners();\n      }return t.prototype.close = function () {\n        this.unbindListeners(), this.transport.close();\n      }, t.prototype.bindListeners = function () {\n        var t = this;this.onMessage = function (e) {\n          t.unbindListeners();var n;try {\n            n = o.processHandshake(e);\n          } catch (i) {\n            return t.finish(\"error\", { error: i }), void t.transport.close();\n          }\"connected\" === n.action ? t.finish(\"connected\", { connection: new r[\"default\"](n.id, t.transport), activityTimeout: n.activityTimeout }) : (t.finish(n.action, { error: n.error }), t.transport.close());\n        }, this.onClosed = function (e) {\n          t.unbindListeners();var n = o.getCloseAction(e) || \"backoff\",\n              i = o.getCloseError(e);t.finish(n, { error: i });\n        }, this.transport.bind(\"message\", this.onMessage), this.transport.bind(\"closed\", this.onClosed);\n      }, t.prototype.unbindListeners = function () {\n        this.transport.unbind(\"message\", this.onMessage), this.transport.unbind(\"closed\", this.onClosed);\n      }, t.prototype.finish = function (t, e) {\n        this.callback(i.extend({ transport: this.transport, action: t }, e));\n      }, t;\n    }();e.__esModule = !0, e[\"default\"] = s;\n  }, function (t, e) {\n    \"use strict\";\n    e.decodeMessage = function (t) {\n      try {\n        var e = JSON.parse(t.data);if (\"string\" == typeof e.data) try {\n          e.data = JSON.parse(e.data);\n        } catch (n) {\n          if (!(n instanceof SyntaxError)) throw n;\n        }return e;\n      } catch (n) {\n        throw { type: \"MessageParseError\", error: n, data: t.data };\n      }\n    }, e.encodeMessage = function (t) {\n      return JSON.stringify(t);\n    }, e.processHandshake = function (t) {\n      if (t = e.decodeMessage(t), \"pusher:connection_established\" === t.event) {\n        if (!t.data.activity_timeout) throw \"No activity timeout specified in handshake\";return { action: \"connected\", id: t.data.socket_id, activityTimeout: 1e3 * t.data.activity_timeout };\n      }if (\"pusher:error\" === t.event) return { action: this.getCloseAction(t.data), error: this.getCloseError(t.data) };throw \"Invalid handshake\";\n    }, e.getCloseAction = function (t) {\n      return t.code < 4e3 ? t.code >= 1002 && t.code <= 1004 ? \"backoff\" : null : 4e3 === t.code ? \"ssl_only\" : t.code < 4100 ? \"refused\" : t.code < 4200 ? \"backoff\" : t.code < 4300 ? \"retry\" : \"refused\";\n    }, e.getCloseError = function (t) {\n      return 1e3 !== t.code && 1001 !== t.code ? { type: \"PusherError\", data: { code: t.code, message: t.reason || t.message } } : null;\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n    var i = this && this.__extends || function (t, e) {\n      function n() {\n        this.constructor = t;\n      }for (var i in e) {\n        e.hasOwnProperty(i) && (t[i] = e[i]);\n      }t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    },\n        o = n(9),\n        r = n(23),\n        s = n(45),\n        a = n(8),\n        c = function (t) {\n      function e(e, n) {\n        t.call(this), this.id = e, this.transport = n, this.activityTimeout = n.activityTimeout, this.bindListeners();\n      }return i(e, t), e.prototype.handlesActivityChecks = function () {\n        return this.transport.handlesActivityChecks();\n      }, e.prototype.send = function (t) {\n        return this.transport.send(t);\n      }, e.prototype.send_event = function (t, e, n) {\n        var i = { event: t, data: e };return n && (i.channel = n), a[\"default\"].debug(\"Event sent\", i), this.send(s.encodeMessage(i));\n      }, e.prototype.ping = function () {\n        this.transport.supportsPing() ? this.transport.ping() : this.send_event(\"pusher:ping\", {});\n      }, e.prototype.close = function () {\n        this.transport.close();\n      }, e.prototype.bindListeners = function () {\n        var t = this,\n            e = { message: function message(e) {\n            var n;try {\n              n = s.decodeMessage(e);\n            } catch (i) {\n              t.emit(\"error\", { type: \"MessageParseError\", error: i, data: e.data });\n            }if (void 0 !== n) {\n              switch (a[\"default\"].debug(\"Event recd\", n), n.event) {case \"pusher:error\":\n                  t.emit(\"error\", { type: \"PusherError\", data: n.data });break;case \"pusher:ping\":\n                  t.emit(\"ping\");break;case \"pusher:pong\":\n                  t.emit(\"pong\");}t.emit(\"message\", n);\n            }\n          }, activity: function activity() {\n            t.emit(\"activity\");\n          }, error: function error(e) {\n            t.emit(\"error\", { type: \"WebSocketError\", error: e });\n          }, closed: function closed(e) {\n            n(), e && e.code && t.handleCloseEvent(e), t.transport = null, t.emit(\"closed\");\n          } },\n            n = function n() {\n          o.objectApply(e, function (e, n) {\n            t.transport.unbind(n, e);\n          });\n        };o.objectApply(e, function (e, n) {\n          t.transport.bind(n, e);\n        });\n      }, e.prototype.handleCloseEvent = function (t) {\n        var e = s.getCloseAction(t),\n            n = s.getCloseError(t);n && this.emit(\"error\", n), e && this.emit(e);\n      }, e;\n    }(r[\"default\"]);e.__esModule = !0, e[\"default\"] = c;\n  }, function (t, e, n) {\n    \"use strict\";\n    var i = n(2),\n        o = function () {\n      function t(t, e) {\n        this.channel = t;var n = e.authTransport;if (\"undefined\" == typeof i[\"default\"].getAuthorizers()[n]) throw \"'\" + n + \"' is not a recognized auth transport\";this.type = n, this.options = e, this.authOptions = (e || {}).auth || {};\n      }return t.prototype.composeQuery = function (t) {\n        var e = \"socket_id=\" + encodeURIComponent(t) + \"&channel_name=\" + encodeURIComponent(this.channel.name);for (var n in this.authOptions.params) {\n          e += \"&\" + encodeURIComponent(n) + \"=\" + encodeURIComponent(this.authOptions.params[n]);\n        }return e;\n      }, t.prototype.authorize = function (e, n) {\n        return t.authorizers = t.authorizers || i[\"default\"].getAuthorizers(), t.authorizers[this.type].call(this, i[\"default\"], e, n);\n      }, t;\n    }();e.__esModule = !0, e[\"default\"] = o;\n  }, function (t, e, n) {\n    \"use strict\";\n    var i = n(2),\n        o = function () {\n      function t(t, e) {\n        this.timeline = t, this.options = e || {};\n      }return t.prototype.send = function (t, e) {\n        this.timeline.isEmpty() || this.timeline.send(i[\"default\"].TimelineTransport.getAgent(this, t), e);\n      }, t;\n    }();e.__esModule = !0, e[\"default\"] = o;\n  }, function (t, e, n) {\n    \"use strict\";\n    var i = this && this.__extends || function (t, e) {\n      function n() {\n        this.constructor = t;\n      }for (var i in e) {\n        e.hasOwnProperty(i) && (t[i] = e[i]);\n      }t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    },\n        o = n(50),\n        r = n(8),\n        s = n(52),\n        a = function (t) {\n      function e(e, n) {\n        t.call(this, e, n), this.members = new s[\"default\"]();\n      }return i(e, t), e.prototype.authorize = function (e, n) {\n        var i = this;t.prototype.authorize.call(this, e, function (t, e) {\n          if (!t) {\n            if (void 0 === e.channel_data) return r[\"default\"].warn(\"Invalid auth response for channel '\" + i.name + \"', expected 'channel_data' field\"), void n(\"Invalid auth response\");var o = JSON.parse(e.channel_data);i.members.setMyID(o.user_id);\n          }n(t, e);\n        });\n      }, e.prototype.handleEvent = function (t, e) {\n        switch (t) {case \"pusher_internal:subscription_succeeded\":\n            this.subscriptionPending = !1, this.subscribed = !0, this.subscriptionCancelled ? this.pusher.unsubscribe(this.name) : (this.members.onSubscription(e), this.emit(\"pusher:subscription_succeeded\", this.members));break;case \"pusher_internal:member_added\":\n            var n = this.members.addMember(e);this.emit(\"pusher:member_added\", n);break;case \"pusher_internal:member_removed\":\n            var i = this.members.removeMember(e);i && this.emit(\"pusher:member_removed\", i);break;default:\n            o[\"default\"].prototype.handleEvent.call(this, t, e);}\n      }, e.prototype.disconnect = function () {\n        this.members.reset(), t.prototype.disconnect.call(this);\n      }, e;\n    }(o[\"default\"]);e.__esModule = !0, e[\"default\"] = a;\n  }, function (t, e, n) {\n    \"use strict\";\n    var i = this && this.__extends || function (t, e) {\n      function n() {\n        this.constructor = t;\n      }for (var i in e) {\n        e.hasOwnProperty(i) && (t[i] = e[i]);\n      }t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    },\n        o = n(42),\n        r = n(51),\n        s = function (t) {\n      function e() {\n        t.apply(this, arguments);\n      }return i(e, t), e.prototype.authorize = function (t, e) {\n        var n = o[\"default\"].createAuthorizer(this, this.pusher.config);return n.authorize(t, e);\n      }, e;\n    }(r[\"default\"]);e.__esModule = !0, e[\"default\"] = s;\n  }, function (t, e, n) {\n    \"use strict\";\n    var i = this && this.__extends || function (t, e) {\n      function n() {\n        this.constructor = t;\n      }for (var i in e) {\n        e.hasOwnProperty(i) && (t[i] = e[i]);\n      }t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    },\n        o = n(23),\n        r = n(30),\n        s = n(8),\n        a = function (t) {\n      function e(e, n) {\n        t.call(this, function (t, n) {\n          s[\"default\"].debug(\"No callbacks on \" + e + \" for \" + t);\n        }), this.name = e, this.pusher = n, this.subscribed = !1, this.subscriptionPending = !1, this.subscriptionCancelled = !1;\n      }return i(e, t), e.prototype.authorize = function (t, e) {\n        return e(!1, {});\n      }, e.prototype.trigger = function (t, e) {\n        if (0 !== t.indexOf(\"client-\")) throw new r.BadEventName(\"Event '\" + t + \"' does not start with 'client-'\");return this.pusher.send_event(t, e, this.name);\n      }, e.prototype.disconnect = function () {\n        this.subscribed = !1;\n      }, e.prototype.handleEvent = function (t, e) {\n        0 === t.indexOf(\"pusher_internal:\") ? \"pusher_internal:subscription_succeeded\" === t && (this.subscriptionPending = !1, this.subscribed = !0, this.subscriptionCancelled ? this.pusher.unsubscribe(this.name) : this.emit(\"pusher:subscription_succeeded\", e)) : this.emit(t, e);\n      }, e.prototype.subscribe = function () {\n        var t = this;this.subscribed || (this.subscriptionPending = !0, this.subscriptionCancelled = !1, this.authorize(this.pusher.connection.socket_id, function (e, n) {\n          e ? t.handleEvent(\"pusher:subscription_error\", n) : t.pusher.send_event(\"pusher:subscribe\", { auth: n.auth, channel_data: n.channel_data, channel: t.name });\n        }));\n      }, e.prototype.unsubscribe = function () {\n        this.subscribed = !1, this.pusher.send_event(\"pusher:unsubscribe\", { channel: this.name });\n      }, e.prototype.cancelSubscription = function () {\n        this.subscriptionCancelled = !0;\n      }, e.prototype.reinstateSubscription = function () {\n        this.subscriptionCancelled = !1;\n      }, e;\n    }(o[\"default\"]);e.__esModule = !0, e[\"default\"] = a;\n  }, function (t, e, n) {\n    \"use strict\";\n    var i = n(9),\n        o = function () {\n      function t() {\n        this.reset();\n      }return t.prototype.get = function (t) {\n        return Object.prototype.hasOwnProperty.call(this.members, t) ? { id: t, info: this.members[t] } : null;\n      }, t.prototype.each = function (t) {\n        var e = this;i.objectApply(this.members, function (n, i) {\n          t(e.get(i));\n        });\n      }, t.prototype.setMyID = function (t) {\n        this.myID = t;\n      }, t.prototype.onSubscription = function (t) {\n        this.members = t.presence.hash, this.count = t.presence.count, this.me = this.get(this.myID);\n      }, t.prototype.addMember = function (t) {\n        return null === this.get(t.user_id) && this.count++, this.members[t.user_id] = t.user_info, this.get(t.user_id);\n      }, t.prototype.removeMember = function (t) {\n        var e = this.get(t.user_id);return e && (delete this.members[t.user_id], this.count--), e;\n      }, t.prototype.reset = function () {\n        this.members = {}, this.count = 0, this.myID = null, this.me = null;\n      }, t;\n    }();e.__esModule = !0, e[\"default\"] = o;\n  }, function (t, e, n) {\n    \"use strict\";\n    var i = this && this.__extends || function (t, e) {\n      function n() {\n        this.constructor = t;\n      }for (var i in e) {\n        e.hasOwnProperty(i) && (t[i] = e[i]);\n      }t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    },\n        o = n(23),\n        r = n(12),\n        s = n(8),\n        a = n(9),\n        c = n(2),\n        u = function (t) {\n      function e(e, n) {\n        var i = this;t.call(this), this.key = e, this.options = n || {}, this.state = \"initialized\", this.connection = null, this.encrypted = !!n.encrypted, this.timeline = this.options.timeline, this.connectionCallbacks = this.buildConnectionCallbacks(), this.errorCallbacks = this.buildErrorCallbacks(), this.handshakeCallbacks = this.buildHandshakeCallbacks(this.errorCallbacks);var o = c[\"default\"].getNetwork();o.bind(\"online\", function () {\n          i.timeline.info({ netinfo: \"online\" }), \"connecting\" !== i.state && \"unavailable\" !== i.state || i.retryIn(0);\n        }), o.bind(\"offline\", function () {\n          i.timeline.info({ netinfo: \"offline\" }), i.connection && i.sendActivityCheck();\n        }), this.updateStrategy();\n      }return i(e, t), e.prototype.connect = function () {\n        if (!this.connection && !this.runner) {\n          if (!this.strategy.isSupported()) return void this.updateState(\"failed\");this.updateState(\"connecting\"), this.startConnecting(), this.setUnavailableTimer();\n        }\n      }, e.prototype.send = function (t) {\n        return !!this.connection && this.connection.send(t);\n      }, e.prototype.send_event = function (t, e, n) {\n        return !!this.connection && this.connection.send_event(t, e, n);\n      }, e.prototype.disconnect = function () {\n        this.disconnectInternally(), this.updateState(\"disconnected\");\n      }, e.prototype.isEncrypted = function () {\n        return this.encrypted;\n      }, e.prototype.startConnecting = function () {\n        var t = this,\n            e = function e(n, i) {\n          n ? t.runner = t.strategy.connect(0, e) : \"error\" === i.action ? (t.emit(\"error\", { type: \"HandshakeError\", error: i.error }), t.timeline.error({ handshakeError: i.error })) : (t.abortConnecting(), t.handshakeCallbacks[i.action](i));\n        };this.runner = this.strategy.connect(0, e);\n      }, e.prototype.abortConnecting = function () {\n        this.runner && (this.runner.abort(), this.runner = null);\n      }, e.prototype.disconnectInternally = function () {\n        if (this.abortConnecting(), this.clearRetryTimer(), this.clearUnavailableTimer(), this.connection) {\n          var t = this.abandonConnection();t.close();\n        }\n      }, e.prototype.updateStrategy = function () {\n        this.strategy = this.options.getStrategy({ key: this.key, timeline: this.timeline, encrypted: this.encrypted });\n      }, e.prototype.retryIn = function (t) {\n        var e = this;this.timeline.info({ action: \"retry\", delay: t }), t > 0 && this.emit(\"connecting_in\", Math.round(t / 1e3)), this.retryTimer = new r.OneOffTimer(t || 0, function () {\n          e.disconnectInternally(), e.connect();\n        });\n      }, e.prototype.clearRetryTimer = function () {\n        this.retryTimer && (this.retryTimer.ensureAborted(), this.retryTimer = null);\n      }, e.prototype.setUnavailableTimer = function () {\n        var t = this;this.unavailableTimer = new r.OneOffTimer(this.options.unavailableTimeout, function () {\n          t.updateState(\"unavailable\");\n        });\n      }, e.prototype.clearUnavailableTimer = function () {\n        this.unavailableTimer && this.unavailableTimer.ensureAborted();\n      }, e.prototype.sendActivityCheck = function () {\n        var t = this;this.stopActivityCheck(), this.connection.ping(), this.activityTimer = new r.OneOffTimer(this.options.pongTimeout, function () {\n          t.timeline.error({ pong_timed_out: t.options.pongTimeout }), t.retryIn(0);\n        });\n      }, e.prototype.resetActivityCheck = function () {\n        var t = this;this.stopActivityCheck(), this.connection.handlesActivityChecks() || (this.activityTimer = new r.OneOffTimer(this.activityTimeout, function () {\n          t.sendActivityCheck();\n        }));\n      }, e.prototype.stopActivityCheck = function () {\n        this.activityTimer && this.activityTimer.ensureAborted();\n      }, e.prototype.buildConnectionCallbacks = function () {\n        var t = this;return { message: function message(e) {\n            t.resetActivityCheck(), t.emit(\"message\", e);\n          }, ping: function ping() {\n            t.send_event(\"pusher:pong\", {});\n          }, activity: function activity() {\n            t.resetActivityCheck();\n          }, error: function error(e) {\n            t.emit(\"error\", { type: \"WebSocketError\", error: e });\n          }, closed: function closed() {\n            t.abandonConnection(), t.shouldRetry() && t.retryIn(1e3);\n          } };\n      }, e.prototype.buildHandshakeCallbacks = function (t) {\n        var e = this;return a.extend({}, t, { connected: function connected(t) {\n            e.activityTimeout = Math.min(e.options.activityTimeout, t.activityTimeout, t.connection.activityTimeout || 1 / 0), e.clearUnavailableTimer(), e.setConnection(t.connection), e.socket_id = e.connection.id, e.updateState(\"connected\", { socket_id: e.socket_id });\n          } });\n      }, e.prototype.buildErrorCallbacks = function () {\n        var t = this,\n            e = function e(_e) {\n          return function (n) {\n            n.error && t.emit(\"error\", { type: \"WebSocketError\", error: n.error }), _e(n);\n          };\n        };return { ssl_only: e(function () {\n            t.encrypted = !0, t.updateStrategy(), t.retryIn(0);\n          }), refused: e(function () {\n            t.disconnect();\n          }), backoff: e(function () {\n            t.retryIn(1e3);\n          }), retry: e(function () {\n            t.retryIn(0);\n          }) };\n      }, e.prototype.setConnection = function (t) {\n        this.connection = t;for (var e in this.connectionCallbacks) {\n          this.connection.bind(e, this.connectionCallbacks[e]);\n        }this.resetActivityCheck();\n      }, e.prototype.abandonConnection = function () {\n        if (this.connection) {\n          this.stopActivityCheck();for (var t in this.connectionCallbacks) {\n            this.connection.unbind(t, this.connectionCallbacks[t]);\n          }var e = this.connection;return this.connection = null, e;\n        }\n      }, e.prototype.updateState = function (t, e) {\n        var n = this.state;if (this.state = t, n !== t) {\n          var i = t;\"connected\" === i && (i += \" with new socket ID \" + e.socket_id), s[\"default\"].debug(\"State changed\", n + \" -> \" + i), this.timeline.info({ state: t, params: e }), this.emit(\"state_change\", { previous: n, current: t }), this.emit(t, e);\n        }\n      }, e.prototype.shouldRetry = function () {\n        return \"connecting\" === this.state || \"connected\" === this.state;\n      }, e;\n    }(o[\"default\"]);e.__esModule = !0, e[\"default\"] = u;\n  }, function (t, e, n) {\n    \"use strict\";\n    function i(t, e) {\n      return 0 === t.indexOf(\"private-\") ? r[\"default\"].createPrivateChannel(t, e) : 0 === t.indexOf(\"presence-\") ? r[\"default\"].createPresenceChannel(t, e) : r[\"default\"].createChannel(t, e);\n    }var o = n(9),\n        r = n(42),\n        s = function () {\n      function t() {\n        this.channels = {};\n      }return t.prototype.add = function (t, e) {\n        return this.channels[t] || (this.channels[t] = i(t, e)), this.channels[t];\n      }, t.prototype.all = function () {\n        return o.values(this.channels);\n      }, t.prototype.find = function (t) {\n        return this.channels[t];\n      }, t.prototype.remove = function (t) {\n        var e = this.channels[t];return delete this.channels[t], e;\n      }, t.prototype.disconnect = function () {\n        o.objectApply(this.channels, function (t) {\n          t.disconnect();\n        });\n      }, t;\n    }();e.__esModule = !0, e[\"default\"] = s;\n  }, function (t, e, n) {\n    \"use strict\";\n    function i(t, e) {\n      return r[\"default\"].defer(function () {\n        e(t);\n      }), { abort: function abort() {}, forceMinPriority: function forceMinPriority() {} };\n    }var o = n(42),\n        r = n(11),\n        s = n(30),\n        a = n(9),\n        c = function () {\n      function t(t, e, n, i) {\n        this.name = t, this.priority = e, this.transport = n, this.options = i || {};\n      }return t.prototype.isSupported = function () {\n        return this.transport.isSupported({ encrypted: this.options.encrypted });\n      }, t.prototype.connect = function (t, e) {\n        var n = this;if (!this.isSupported()) return i(new s.UnsupportedStrategy(), e);if (this.priority < t) return i(new s.TransportPriorityTooLow(), e);var r = !1,\n            c = this.transport.createConnection(this.name, this.priority, this.options.key, this.options),\n            u = null,\n            l = function l() {\n          c.unbind(\"initialized\", l), c.connect();\n        },\n            h = function h() {\n          u = o[\"default\"].createHandshake(c, function (t) {\n            r = !0, d(), e(null, t);\n          });\n        },\n            p = function p(t) {\n          d(), e(t);\n        },\n            f = function f() {\n          d();var t;t = a.safeJSONStringify(c), e(new s.TransportClosed(t));\n        },\n            d = function d() {\n          c.unbind(\"initialized\", l), c.unbind(\"open\", h), c.unbind(\"error\", p), c.unbind(\"closed\", f);\n        };return c.bind(\"initialized\", l), c.bind(\"open\", h), c.bind(\"error\", p), c.bind(\"closed\", f), c.initialize(), { abort: function abort() {\n            r || (d(), u ? u.close() : c.close());\n          }, forceMinPriority: function forceMinPriority(t) {\n            r || n.priority < t && (u ? u.close() : c.close());\n          } };\n      }, t;\n    }();e.__esModule = !0, e[\"default\"] = c;\n  }, function (t, e, n) {\n    \"use strict\";\n    var i = n(9),\n        o = n(11),\n        r = n(12),\n        s = function () {\n      function t(t, e) {\n        this.strategies = t, this.loop = Boolean(e.loop), this.failFast = Boolean(e.failFast), this.timeout = e.timeout, this.timeoutLimit = e.timeoutLimit;\n      }return t.prototype.isSupported = function () {\n        return i.any(this.strategies, o[\"default\"].method(\"isSupported\"));\n      }, t.prototype.connect = function (t, e) {\n        var n = this,\n            i = this.strategies,\n            o = 0,\n            r = this.timeout,\n            s = null,\n            a = function a(c, u) {\n          u ? e(null, u) : (o += 1, n.loop && (o %= i.length), o < i.length ? (r && (r = 2 * r, n.timeoutLimit && (r = Math.min(r, n.timeoutLimit))), s = n.tryStrategy(i[o], t, { timeout: r, failFast: n.failFast }, a)) : e(!0));\n        };return s = this.tryStrategy(i[o], t, { timeout: r, failFast: this.failFast }, a), { abort: function abort() {\n            s.abort();\n          }, forceMinPriority: function forceMinPriority(e) {\n            t = e, s && s.forceMinPriority(e);\n          } };\n      }, t.prototype.tryStrategy = function (t, e, n, i) {\n        var o = null,\n            s = null;return n.timeout > 0 && (o = new r.OneOffTimer(n.timeout, function () {\n          s.abort(), i(!0);\n        })), s = t.connect(e, function (t, e) {\n          t && o && o.isRunning() && !n.failFast || (o && o.ensureAborted(), i(t, e));\n        }), { abort: function abort() {\n            o && o.ensureAborted(), s.abort();\n          }, forceMinPriority: function forceMinPriority(t) {\n            s.forceMinPriority(t);\n          } };\n      }, t;\n    }();e.__esModule = !0, e[\"default\"] = s;\n  }, function (t, e, n) {\n    \"use strict\";\n    function i(t, e, n) {\n      var i = s.map(t, function (t, i, o, r) {\n        return t.connect(e, n(i, r));\n      });return { abort: function abort() {\n          s.apply(i, r);\n        }, forceMinPriority: function forceMinPriority(t) {\n          s.apply(i, function (e) {\n            e.forceMinPriority(t);\n          });\n        } };\n    }function o(t) {\n      return s.all(t, function (t) {\n        return Boolean(t.error);\n      });\n    }function r(t) {\n      t.error || t.aborted || (t.abort(), t.aborted = !0);\n    }var s = n(9),\n        a = n(11),\n        c = function () {\n      function t(t) {\n        this.strategies = t;\n      }return t.prototype.isSupported = function () {\n        return s.any(this.strategies, a[\"default\"].method(\"isSupported\"));\n      }, t.prototype.connect = function (t, e) {\n        return i(this.strategies, t, function (t, n) {\n          return function (i, r) {\n            return n[t].error = i, i ? void (o(n) && e(!0)) : (s.apply(n, function (t) {\n              t.forceMinPriority(r.transport.priority);\n            }), void e(null, r));\n          };\n        });\n      }, t;\n    }();e.__esModule = !0, e[\"default\"] = c;\n  }, function (t, e, n) {\n    \"use strict\";\n    function i(t) {\n      return \"pusherTransport\" + (t ? \"Encrypted\" : \"Unencrypted\");\n    }function o(t) {\n      var e = c[\"default\"].getLocalStorage();if (e) try {\n        var n = e[i(t)];if (n) return JSON.parse(n);\n      } catch (o) {\n        s(t);\n      }return null;\n    }function r(t, e, n) {\n      var o = c[\"default\"].getLocalStorage();if (o) try {\n        o[i(t)] = l.safeJSONStringify({ timestamp: a[\"default\"].now(), transport: e, latency: n });\n      } catch (r) {}\n    }function s(t) {\n      var e = c[\"default\"].getLocalStorage();if (e) try {\n        delete e[i(t)];\n      } catch (n) {}\n    }var a = n(11),\n        c = n(2),\n        u = n(56),\n        l = n(9),\n        h = function () {\n      function t(t, e, n) {\n        this.strategy = t, this.transports = e, this.ttl = n.ttl || 18e5, this.encrypted = n.encrypted, this.timeline = n.timeline;\n      }return t.prototype.isSupported = function () {\n        return this.strategy.isSupported();\n      }, t.prototype.connect = function (t, e) {\n        var n = this.encrypted,\n            i = o(n),\n            c = [this.strategy];if (i && i.timestamp + this.ttl >= a[\"default\"].now()) {\n          var l = this.transports[i.transport];l && (this.timeline.info({ cached: !0, transport: i.transport, latency: i.latency }), c.push(new u[\"default\"]([l], { timeout: 2 * i.latency + 1e3, failFast: !0 })));\n        }var h = a[\"default\"].now(),\n            p = c.pop().connect(t, function f(i, o) {\n          i ? (s(n), c.length > 0 ? (h = a[\"default\"].now(), p = c.pop().connect(t, f)) : e(i)) : (r(n, o.transport.name, a[\"default\"].now() - h), e(null, o));\n        });return { abort: function abort() {\n            p.abort();\n          }, forceMinPriority: function forceMinPriority(e) {\n            t = e, p && p.forceMinPriority(e);\n          } };\n      }, t;\n    }();e.__esModule = !0, e[\"default\"] = h;\n  }, function (t, e, n) {\n    \"use strict\";\n    var i = n(12),\n        o = function () {\n      function t(t, e) {\n        var n = e.delay;this.strategy = t, this.options = { delay: n };\n      }return t.prototype.isSupported = function () {\n        return this.strategy.isSupported();\n      }, t.prototype.connect = function (t, e) {\n        var n,\n            o = this.strategy,\n            r = new i.OneOffTimer(this.options.delay, function () {\n          n = o.connect(t, e);\n        });return { abort: function abort() {\n            r.ensureAborted(), n && n.abort();\n          }, forceMinPriority: function forceMinPriority(e) {\n            t = e, n && n.forceMinPriority(e);\n          } };\n      }, t;\n    }();e.__esModule = !0, e[\"default\"] = o;\n  }, function (t, e) {\n    \"use strict\";\n    var n = function () {\n      function t(t, e, n) {\n        this.test = t, this.trueBranch = e, this.falseBranch = n;\n      }return t.prototype.isSupported = function () {\n        var t = this.test() ? this.trueBranch : this.falseBranch;return t.isSupported();\n      }, t.prototype.connect = function (t, e) {\n        var n = this.test() ? this.trueBranch : this.falseBranch;return n.connect(t, e);\n      }, t;\n    }();e.__esModule = !0, e[\"default\"] = n;\n  }, function (t, e) {\n    \"use strict\";\n    var n = function () {\n      function t(t) {\n        this.strategy = t;\n      }return t.prototype.isSupported = function () {\n        return this.strategy.isSupported();\n      }, t.prototype.connect = function (t, e) {\n        var n = this.strategy.connect(t, function (t, i) {\n          i && n.abort(), e(t, i);\n        });return n;\n      }, t;\n    }();e.__esModule = !0, e[\"default\"] = n;\n  }, function (t, e, n) {\n    \"use strict\";\n    var i = n(5);e.getGlobalConfig = function () {\n      return { wsHost: i[\"default\"].host, wsPort: i[\"default\"].ws_port, wssPort: i[\"default\"].wss_port, httpHost: i[\"default\"].sockjs_host, httpPort: i[\"default\"].sockjs_http_port, httpsPort: i[\"default\"].sockjs_https_port, httpPath: i[\"default\"].sockjs_path, statsHost: i[\"default\"].stats_host, authEndpoint: i[\"default\"].channel_auth_endpoint, authTransport: i[\"default\"].channel_auth_transport, activity_timeout: i[\"default\"].activity_timeout, pong_timeout: i[\"default\"].pong_timeout, unavailable_timeout: i[\"default\"].unavailable_timeout };\n    }, e.getClusterConfig = function (t) {\n      return { wsHost: \"ws-\" + t + \".pusher.com\", httpHost: \"sockjs-\" + t + \".pusher.com\" };\n    };\n  }]);\n});\n\n},{}],12:[function(require,module,exports){\n'use strict';\n\nvar _sortablejs = require('sortablejs');\n\nvar _sortablejs2 = _interopRequireDefault(_sortablejs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initSortable() {\n    $('.js-sortable').each(function () {\n        var _this = this;\n\n        var reindex = function reindex() {\n            var $that = $(_this);\n            var data = [];\n            $(_this).children().each(function () {\n                data.push({ id: $(this).data('id'), order: $(this).index() });\n            });\n            $.post($that.data('url'), { data: data }, function () {\n                return window.showNotification('Список успешно отсортирован');\n            });\n        };\n\n        _sortablejs2.default.create($(this)[0], { onEnd: reindex });\n    });\n}\n\ninitSortable();\n\nwindow.initSortable = initSortable;\n\n},{\"sortablejs\":1}],13:[function(require,module,exports){\n'use strict';\n\n$(document).ready(function () {\n\n    var busSpeeds = {};\n\n    if ($('meta[id=\"env_speed\"]').attr('content') == true) {\n        setInterval(function () {\n            $.get('/admin/users/coordinate/is-high-speed', function (data) {\n\n                if (busSpeeds[data.busId] != data.speed) {\n                    busSpeeds[data.busId] = data.speed;\n                    if (data.isExceeded) {\n                        $.easyAlert({\n                            'message': data.message,\n                            'alertType': 'danger',\n                            'link_page': 'https://' + window.location.hostname + '/admin/monitoring',\n                            'position': 't c',\n                            'autoHide': true\n                        });\n                    }\n                }\n            });\n        }, 1000 * 10);\n\n        $(\"#setSpeed\").click(function () {\n            var highSpeed = $('input[name=\"high_speed\"]').val();\n            $.post(\"/admin/monitoring/sethighspeed\", { highSpeed: highSpeed });\n        });\n    }\n});\n\n},{}],14:[function(require,module,exports){\n'use strict';\n\n$(document).ready(function () {\n\n    $(document).on('panel-form-ajax-success', '.js_orders-from', eventOrdersForm);\n    $(document).on('panel-form-ajax-error', '.js_orders-from', eventOrdersForm);\n    $(document).on('click', '.js_orders-client-search', getClientInfo);\n    $(document).on('click', '.js_orders-toTour', toTour);\n    $(document).on('click', '.seat:not(.reserved)', toggleSeat);\n    $(document).on('change', '.js_orders-count_places', updateFormSeatActive);\n    $(document).on('click', '.js_orders-to-tours', toTours);\n    $(document).on('click', '.js_orders-get-check', getCheck);\n    $(document).on('click', '.js_orders-completed', orderCompletedType);\n    $(document).on('click', '.js_orders-completed_continue', orderCompletedContinueType);\n    $(document).on('click', '.js_orders-completed_return', orderCompletedReturnType);\n    $(document).on('click', '.js_order_calculation', orderCalculation);\n    $(document).on('click', '.js_order-cancel', orderCancel);\n    $(document).on('click', '.js_orders-selection-places', orderSelectionPlaces);\n    $(document).on('change', '.js_admin_orders-count_places_child', setChild);\n    $(document).on('change', '.js_set_station_from', setNewStation);\n    $(document).on('change', '.js_station_to_filter', ChangeToStation);\n    $(document).on('change', '.js_orders-client-status_is', setNewStatus);\n    $(document).on('change', '#country', maskPhone);\n    $(document).on('click', '.save_order_places', SaveOrderPlaces);\n    $(document).on('click', '.save_order', SaveOrder);\n    $(document).on('focusout', '.js_input_order_places', SaveOrderPlacesData);\n    $(document).on('change', '.js_datepicker_order_places', SaveOrderPlacesData);\n\n    if (!$('#phone').val()) {\n        $(\"#station_from_id option:not(:selected), #station_to_id option:not(:selected)\").prop('disabled', true);\n    } else {\n        $(\"#station_from_id, #station_to_id\").tooltip('disable');\n    }\n\n    function orderCalculation() {\n        $('.js_orders-type').val('no_completed');\n    }\n\n    function ChangeToStation() {\n        $('.wrapper-spinner').show();\n        checkStation('to');\n    }\n\n    function checkStation(destination) {\n        var data = {\n            tour_id: $(\"input[name='tour_id']\").val(),\n            station_from_id: $(\"#station_from_id\").val(),\n            station_to_id: $(\"#station_to_id\").val(),\n            count_places: $(\"#count_places\").val(),\n            order_id: $('.js_orders-id').val(),\n            order_slug: $('.js_orders-slug').val(),\n            status: $('#status').val(),\n            destination: destination\n        };\n\n        $.get('/admin/orders/check_stations', data, function (response) {\n            $('.wrapper-spinner').hide();\n            if (response.result === 'error') {\n                $('.ibox-footer').hide();\n                toastr.error(response.message);\n            } else {\n                $('#BusLayout').html(response.bus_tour);\n\n                if ($('.js_orders-client-phone').inputmask(\"isComplete\")) {\n                    $(\".js_order_calculation\").parent().parent().submit();\n                    $('.ibox-footer').show();\n                    toastr.success(response.message);\n                }\n            }\n        });\n    }\n\n    function getCheck() {\n        var url = $(this).data('url');\n\n        $.get('' + url, function (response) {\n            if (response.result == 'success') {\n                toastr.success(response.message);\n                window.open(response.link, '_blank').focus();\n            } else {\n                toastr.error(response.message);\n            }\n        });\n    }\n\n    function SaveOrderPlaces() {\n        var order_id = $(this).data('order_id');\n        var el = '#order_places-' + order_id;\n        var url = $(this).data('url');\n        var data = $(el + ' :input').serializeArray();\n        $.post(url, data, function () {\n            $('a[data-target=\"#order-' + order_id + '\"]').click();\n            toastr.success('Данные сохранены!');\n        });\n    }\n\n    function SaveOrder() {\n        var order_id = $(this).data('order_id');\n        var el = '#' + order_id;\n        var url = $(this).data('url');\n        var data = $(el + ' :input').serializeArray();\n        $.post(url, data, function () {\n            $('a[data-target=\"#order_places-' + order_id + '\"]').click();\n            toastr.success('Данные сохранены!');\n        });\n    }\n\n    function SaveOrderPlacesData() {\n        var order_id = $('.js_div_order_places').data('order_id');\n        var url = $('.js_div_order_places').data('url');\n        var data = $('.js_div_order_places :input').serializeArray();\n        $.post(url, data);\n    }\n\n    function setNewStatus() {\n        if (confirm(\"Вы подтверждаете изменение?\")) {\n            var status_id = $(this).val();\n            var url = $(this).data('url');\n            var id = $('input[name=client_id]').val();\n            $(this).data(\"current\", $(this).val());\n\n            if (id) {\n                $('.wrapper-spinner').show();\n                $.get(url + '?id=' + id + '&status_id=' + status_id, function (response) {\n                    $('.wrapper-spinner').hide();\n                    $(\".js_order_calculation\").click();\n                    toastr.success('Социальный статус успешно обновлён');\n                });\n            } else {\n                toastr.warning('Клиент не загружен');\n            }\n\n            return true;\n        } else {\n            $(this).val($(this).data('current'));\n\n            return false;\n        }\n    }\n\n    function setNewStation() {\n        var $this = $(this);\n        var url = $this.data('url');\n        var route_id = $this.data('route_id');\n        var station_from_id = $this.val();\n        var station_to_id = $this.data('station_to_id');\n        $('.wrapper-spinner').show();\n        $.get(url + '?route_id=' + route_id + '&station_from_id=' + station_from_id + '&station_to_id=' + station_to_id, function (response) {\n            $('.js_set_station_to').html(response);\n            checkStation('from');\n        });\n    }\n\n    function orderSelectionPlaces() {\n        var $this = $(this);\n        var url = $this.data('url');\n        $.get(url, function (response) {\n            if (response.result == 'success') {\n                $('.js_orders-left').html(response.html);\n                $('.js_orders-places_with_number').val(1);\n                $this.remove();\n                updateFormSeatActive();\n            }\n        });\n        return false;\n    }\n\n    function setChild() {\n        var url = $(this).data('url');\n        var order_id = $(this).data('order_id');\n\n        var $prices = $('.js_admin_price_places');\n        var count = $(this).val();\n        $('.js_input_order_places').first().trigger('focusout');\n        $.get(url + '?count=' + count + '&order_id=' + order_id, function (response) {\n            if (response.result == 'success') {\n                toastr.success(response.message);\n            } else {\n                toastr.error(response.message);\n            }\n            $prices.html(response.view);\n        });\n    }\n\n    function orderCancel() {\n        var url = $(this).attr('href') + '?id=' + $(this).data('id');\n        $.get(url, function (response) {\n            if (response.result == 'success') {\n                window.showNotification(response.message, 'error');\n                $('.js_form-ajax-back').click();\n            }\n        });\n        return false;\n    }\n\n    function orderCompletedType() {\n        $(this).addClass('click');\n        var $type = $('.js_orders-type');\n        // let type = $type.val();\n        $type.val($(this).data('type'));\n        $('.js_orders-from').submit();\n        // setTimeout(function () {\n        // //     let orderId = $('.js_orders-slug').val();\n        //     // toastr.success('Номер брони ' + orderId);\n        // }, 2000);\n        // $type.val(type)\n    }\n\n    function orderCompletedContinueType() {\n        if ($('.js_orders-client-phone').val().length > 10) {\n            var location_href = $(this).data('url') + '?incomming_phone=' + $('.js_orders-client-phone').val();\n            $(this).addClass('click');\n            var $type = $('.js_orders-type');\n            // let type = $type.val();\n            $type.val($(this).data('type'));\n            $('.js_orders-from').ajaxSubmit({\n                success: function success(data) {\n                    if (data.id !== undefined) {\n                        window.location.href = location_href;\n                    } else {\n                        toastr.error('Не заполнены все обязательные поля!');\n                    }\n                }\n            });\n        } else toastr.error('Не заполнен номер телефона');\n    }\n\n    function orderCompletedReturnType() {\n        if ($('.js_orders-client-phone').val().length > 10) {\n            var location_href = $(this).data('url') + '?incomming_phone=' + $('.js_orders-client-phone').val();\n            $(this).addClass('click');\n            var $type = $('.js_orders-type');\n            $type.val($(this).data('type'));\n\n            $('.js_orders-from').ajaxSubmit({\n                success: function success(data) {\n                    if (data.id !== undefined) {\n                        window.location.href = location_href + '&order_return=' + data.id;\n                    } else {\n                        toastr.error('Не заполнены все обязательные поля!');\n                    }\n                }\n            });\n        } else toastr.error('Не заполнен номер телефона');\n    }\n\n    function toggleSeat() {\n        var phone = $('.js_orders-client-phone').val();\n        var firstName = $('.js_orders-client-first_name').val();\n        if (phone.replace(/\\D/g, '').length > 10 && firstName) {\n            $(this).toggleClass('active');\n            updateFormSeatActive();\n            //$('.js_orders-from').submit()\n        } else {\n            window.showNotification('Введите сперва номер телефона и имя', 'error');\n        }\n    }\n\n    function eventOrdersForm(e, response) {\n        if (response.result == 'success' && $('.js_orders-type').val() == $('.js_orders-completed').data('type') && $('.js_orders-completed').hasClass('click')) {\n            setTimeout(function () {\n                return $('.js_form-ajax-back').click();\n            }, 500);\n        } else {\n            $('.js_orders-completed').removeClass('click');\n        }\n\n        // console.log(response);\n\n        if (response.id) {\n            $('.js_orders-slug').val(response.slug);\n            $('.js_orders-id').val(response.id);\n\n            // hm....\n            toastr.success('Номер брони ' + response.slug);\n\n            if (!$('.js_order-old-places').length) {\n                $('.js_order-cancel').data('id', response.id).removeClass('hidden');\n            }\n        }\n        if (response.view_tour) {\n            $('.js_orders-left').html(response.view_tour);\n            $('.js_input_order_places').first().trigger('focusout');\n        }\n        if (response.result == 'error') updateFormSeatActive();\n    }\n\n    function toTours() {\n        var url = $(this).data('url');\n        $.get(url, function (response) {\n            if (response.result == 'success') {\n                $('.js_orders-left').html(response.html);\n                $('.js_orders-filter').html(response.filter);\n                window.init();\n            }\n        });\n    }\n\n    function toTour() {\n        var phone = $('input[name=phone]').val();\n        var city_from_id = $(this).data('city_from_id');\n        var city_to_id = $(this).data('city_to_id');\n        var url = $(this).data('url') + '?phone=' + phone + '&city_from_id=' + city_from_id + '&city_to_id=' + city_to_id + '&with_phone=' + Number(phone.length === 0);\n        $.get(url, function (response) {\n            if (response.result == 'success') {\n                $('.js_orders-filter').html('');\n                $('.js_orders-left').html(response.html);\n                $('.js_orders-tour-info').html(response.tour_info);\n                $('.js_orders-client-info').html(response.viewClientInfo);\n                $('.js_orders-tour_id').val(response.tour_id);\n                updateFormSeatActive();\n\n                if (response.clientPhone) {\n                    $('#country').val(response.clientPhone);\n                    switchCountry(response.clientPhone);\n                }\n            }\n        });\n    }\n\n    function maskPhone() {\n        var country = $('#country option:selected').val();\n        switchCountry(country);\n    }\n\n    function switchCountry(country) {\n        switch (country) {\n            case \"ru\":\n                $(\"#phone\").inputmask(\"+7(999) 999-99-99\", { 'oncomplete': getClientInfo });\n                break;\n            case \"ua\":\n                $(\"#phone\").inputmask(\"+380(99) 999-99-99\", { 'oncomplete': getClientInfo });\n                break;\n            case \"by\":\n                $(\"#phone\").inputmask(\"+375(99) 999-99-99\", { 'oncomplete': getClientInfo });\n                break;\n            case \"de\":\n                $(\"#phone\").inputmask(\"+4\\\\9(999) 9999-999\", { 'oncomplete': getClientInfo });\n                break;\n            case \"dee\":\n                $(\"#phone\").inputmask(\"+4\\\\9(999) 999-99-999\", { 'oncomplete': getClientInfo });\n                break;\n            case \"cz\":\n                $(\"#phone\").inputmask(\"+420(999) 999-999\", { 'oncomplete': getClientInfo });\n                break;\n            case \"il\":\n                $(\"#phone\").inputmask(\"+\\\\972(99) 999-9999\", { 'oncomplete': getClientInfo });\n                break;\n            case \"us\":\n                $(\"#phone\").inputmask(\"+1(999) 999-9999\", { 'oncomplete': getClientInfo });\n                break;\n            case \"fi\":\n                $(\"#phone\").inputmask(\"+358(99) 999-999\", { 'oncomplete': getClientInfo });\n                break;\n            case \"no\":\n                $(\"#phone\").inputmask(\"+47(99) 999-999\", { 'oncomplete': getClientInfo });\n                break;\n            case \"pl\":\n                $(\"#phone\").inputmask(\"+48(999) 999-999\", { 'oncomplete': getClientInfo });\n                break;\n            case \"uz\":\n                $(\"#phone\").inputmask(\"+\\\\9\\\\98(99) 999-99-99\", { 'oncomplete': getClientInfo });\n                break;\n            case \"tm\":\n                $(\"#phone\").inputmask(\"+\\\\9\\\\93(999) 999-999\", { 'oncomplete': getClientInfo });\n                break;\n            case \"md\":\n                $(\"#phone\").inputmask(\"+373(99) 999-999\", { 'oncomplete': getClientInfo });\n                break;\n            case \"az\":\n                $(\"#phone\").inputmask(\"+\\\\9\\\\94(99) 999-99-99\", { 'oncomplete': getClientInfo });\n                break;\n            case \"tj\":\n                $(\"#phone\").inputmask(\"+\\\\9\\\\92(9999) 9-99-99\", { 'oncomplete': getClientInfo });\n                break;\n            case \"fr\":\n                $(\"#phone\").inputmask(\"+33(999) 999-999\", { 'oncomplete': getClientInfo });\n                break;\n            case \"gr\":\n                $(\"#phone\").inputmask(\"+30(999) 999-99-99\", { 'oncomplete': getClientInfo });\n                break;\n        }\n    }\n\n    maskPhone();\n\n    function getClientInfo() {\n        var tour_id = $('input[name=tour_id]').val();\n        var $this = $('.js_orders-client-phone');\n        var url = $this.data('url-client-info');\n        var phone = $this.val();\n        $.get('' + url, { 'phone': phone, 'tour_id': tour_id }, function (response) {\n            $('.js_orders-client-info').html(response.viewClientInfo);\n            $('.js_orders-client-status_is').val(response.status_id);\n            $('.js_orders-client-date_social').val(response.date_social);\n            $('.js_transfer_street').val(response.last_address.street);\n            $('.js_transfer_house').val(response.last_address.house);\n            $('.js_transfer_building').val(response.last_address.building);\n            $('.js_transfer_apart').val(response.last_address.apart);\n            $('.js-taxi-history').on('change', function () {\n                $('#suggest_from').val($(this).find(':selected').data('from'));\n                $('#suggest_to').val($(this).find(':selected').data('to'));\n            });\n            $(\"#station_from_id option:not(:selected), #station_to_id option:not(:selected)\").prop('disabled', false);\n            $(\"#station_from_id, #station_to_id\").tooltip('disable');\n            if ($(\"#station_from_id\").val()) {\n                ChangeToStation();\n            }\n            init();\n            window.showNotification(response.message, response.type);\n        });\n    }\n\n    function initOrderClientPhone() {\n        if ($('#country').val()) {\n            switchCountry($('#country').val());\n        } else {\n            $(\"#country\").val(InputCodeValue);\n            switchCountry(InputCodeValue);\n        }\n    }\n\n    function updateFormSeatActive() {\n        var $wrapper = $('.js_orders-places-input');\n        $wrapper.html('');\n        var $countPlaces = $('.js_orders-count_places');\n        if ($countPlaces.length) {\n            var val = $countPlaces.val();\n            for (var $i = 0; $i < val; $i++) {\n                $wrapper.prepend('<input type=\"hidden\" name=\"places[]\" value=\"\" data-number=\"\"/>');\n            }\n        } else {\n            $('.seat.active:not(.reserved)').each(function () {\n                var number = $(this).data('number');\n                $wrapper.prepend('<input type=\"hidden\" name=\"places[]\" value=\"' + number + '\" data-number=\"' + number + '\"/>');\n            });\n        }\n    }\n\n    initOrderClientPhone();\n    window.initOrderClientPhone = initOrderClientPhone;\n});\n\n},{}],15:[function(require,module,exports){\n'use strict';\n\n$(document).ready(function () {\n    var today = new Date();\n    var dd = String(today.getDate()).padStart(2, '0');\n\n    if (dd < 15 && dd > 0) {\n        setInterval(function () {\n            $.get(\"/admin/check_is_pay\", function (data) {\n\n                if (data.is_paid == false) {\n                    $('.my-alert-warning').fadeIn(2000);\n\n                    setTimeout(function () {\n                        $('.my-alert-warning').fadeOut(2000);\n                    }, 15000);\n                }\n            });\n        }, 60000);\n    } else {\n        setInterval(function () {\n            $.get(\"/admin/check_is_pay\", function (data) {\n\n                if (data.is_paid == false) {\n                    $('.my-alert-danger').fadeIn(2000);\n\n                    setTimeout(function () {\n                        $('.my-alert-danger').fadeOut(2000);\n                    }, 15000);\n                }\n            });\n        }, 60000);\n    }\n});\n\n},{}],16:[function(require,module,exports){\n'use strict';\n\n$(document).ready(function () {\n\n    $(document).on('change', '.js_department_select', selectDepartmentChange);\n    $(document).on('change', '.js_car_select', selectCarChange);\n    $(document).on('click', '.js_finish_repair', finishRepair);\n\n    function selectDepartmentChange() {\n\n        var url = $(this).data('url');\n        var val = $(this).val();\n        $.get(url, { val: val }, function (response) {\n            if (response.val) {\n                $('.js_cars_template').html(response.view);\n            }\n        });\n    }\n    function selectCarChange() {\n\n        var url = $(this).data('url');\n        var val = $(this).val();\n        $.get(url, { val: val }, function (response) {\n            if (response.val) {\n                $('.js_cards_template').html(response.view);\n            }\n        });\n    }\n\n    function finishRepair() {\n        var href = $(this).data('href');\n        var redirect = $(this).data('redirect');\n        var status = $(this).data('status');\n        var question = $(this).data('question');\n        var bus_status = $(this).data('busStatus');\n        bootbox.confirm({\n            message: question,\n            callback: function callback(result) {\n                if (result) {\n\n                    $.ajax({\n                        url: href,\n                        method: 'post',\n                        data: {\n                            status: status,\n                            bus_status: bus_status\n                        },\n                        success: function success(data) {\n                            if (data.result == 'success') {\n                                window.showNotification(data.message, 'success');\n                                if (typeof changed_parts !== 'undefined') {\n                                    changed_parts = [];\n                                }\n                                location.href = redirect;\n                            } else {\n                                window.showNotification(data.message, 'error');\n                            }\n                        }\n                    });\n                }\n            }\n        });\n    }\n\n    // очистить все поля формы по id\n\n    $(document).on('click', '#clearCarRepairFilter', clearForm);\n\n    function clearForm() {\n        $('#createRepairFilter').trigger(\"reset\");\n    }\n\n    // $(document).on('change', '.card-checkbox', onoffswitchClick)\n\n    function onoffswitchClick() {\n        // ��� ��������� ������� �������� ������������ ����\n        // �������� ��������, ��� ���������� - ��������\n        if ($(this).find('input:checked').val()) {\n            $(this).parent().next().removeClass('invisible');\n        } else {\n            $(this).parent().next().addClass('invisible');\n        }\n    }\n});\n\n},{}],17:[function(require,module,exports){\n'use strict';\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n$(document).ready(function () {\n    $(document).on('change', '.js_city_filter', setStreets);\n    $(document).on('change', '.js_stations_from_to_price', setDataInArrows);\n    $(document).on('change', '.js_stations_from_to_price', setStationFromToPrice);\n    $(document).on('click', '.arrow', setStationPrice);\n    $(document).on('click', '.js_stations_all_price', setStationAllPrice);\n    $(document).on('change', '.js_route_type', setFlights);\n\n    $(document).delegate('.js-input-route-sales', 'select2:selecting', init);\n\n    function init() {\n        $(document).undelegate('.js-input-route-sales', 'select2:selecting', init);\n        var element = $('.js-input-route-sales');\n        var value = element.val();\n\n        salesIds = (value ? value : []).reduce(function (result, value) {\n            result[value] = $('.js-input-route-sales option[value=\"' + value + '\"]').data('type');\n\n            return result;\n        }, {});\n\n        element.on('select2:select', removeSameTypeSale);\n    }\n\n    var salesIds = [];\n\n    function setStreets() {\n        var $this = $(this);\n        var $streets = $('.js_street_filter');\n        var $url = $streets.data('url') + '?city_id=' + $this.val();\n\n        $('.js_street_filter option').each(function () {\n            $(this).remove();\n        });\n\n        $.get($url, function (response) {\n            for (var key in response) {\n                $('.js_street_filter').append($('<option>', {\n                    value: response[key].id,\n                    text: response[key].name\n                }));\n            }\n            $('.js_street_filter').trigger('change');\n        });\n    }\n\n    function setDataInArrows() {\n        var price = $(this).val();\n        var station_from_id = $(this).data('station_from_id');\n        var station_to_id = $(this).data('station_to_id');\n\n        $(\".arrow\").each(function () {\n            if (station_from_id == $(this).data('station_from_id')) {\n                $(this).attr('price', price);\n            }\n            if (station_to_id == $(this).data('station_to_id')) {\n                $(this).attr('price', price);\n            }\n        });\n    }\n\n    function setStationFromToPrice() {\n        $.get($(this).data('url'), _defineProperty({\n            route_id: $(this).data('route_id'),\n            station_from_id: $(this).data('station_from_id'),\n            station_to_id: $(this).data('station_to_id')\n        }, $(this).data('type'), $(this).val()), function (response) {\n            window.showNotification(response.message, response.type);\n        });\n    }\n\n    function setStationPrice() {\n\n        $('.js_spinner-overlay').show();\n        $('.background-spinner').show();\n        var price = $(this).attr('price');\n        var station_from_id = null,\n            station_to_id = null;\n        $(\".arrow\").each(function () {\n            if (price == $(this).attr('price')) {\n                if ($(this).data('station_from_id') != null) {\n                    station_from_id = $(this).data('station_from_id');\n                } else {\n                    station_to_id = $(this).data('station_to_id');\n                }\n            }\n        });\n\n        $.get($(this).data('url'), {\n            route_id: $(this).data('route_id'),\n            price: $(this).attr('price'),\n            station_from_id: station_from_id,\n            station_to_id: station_to_id\n        }, function (response) {\n            $('.js_spinner-overlay').hide();\n            $('.background-spinner').hide();\n            window.showNotification(response.message, response.type);\n            location.reload();\n        });\n    }\n\n    function setStationAllPrice() {\n\n        $('.js_spinner-overlay').show();\n        $('.background-spinner').show();\n\n        $.get($('#all-sells').data('url'), {\n            route_id: $('#all-sells').data('route_id'),\n            price: $('#all-sells').val()\n        }, function (response) {\n            $('.js_spinner-overlay').hide();\n            $('.background-spinner').hide();\n            window.showNotification(response.message, response.type);\n            location.reload();\n        });\n    }\n\n    function setFlights() {\n        if (this.value == 'is_transfer') {\n            $('.js_flight_type').slideDown();\n        } else {\n            $('.js_flight_type').slideUp();\n        }\n    }\n\n    function removeSameTypeSale() {\n        var values = $(this).val();\n        var ids = Object.keys(salesIds);\n\n        var newValue = values.filter(function (value) {\n            return ids.indexOf(value) === -1;\n        }).shift();\n        var type = $('.js-input-route-sales option[value=\"' + newValue + '\"]').data('type');\n\n        salesIds = ids.reduce(function (result, value) {\n            if (salesIds[value] === type && type === 'each') {\n                return result;\n            }\n            result[value] = salesIds[value];\n\n            return result;\n        }, {});\n\n        salesIds[newValue] = type;\n        $(this).val(Object.keys(salesIds)).change();\n    }\n\n    $('#popup_route-edit').on('show.bs.modal', function (e) {\n        var _this = this;\n\n        var $button = $(e.relatedTarget);\n        var url = $button.data('url');\n        $.get(url, function (response) {\n            $(_this).find('.modal-content').html(response.html);\n            window.init();\n        });\n    });\n\n    $(document).on('hidden.bs.modal', function (e) {\n        $(this).find('.modal-content').html('');\n    });\n});\n\n},{}],18:[function(require,module,exports){\n'use strict';\n\n$(document).ready(function () {\n\n    $(document).on('change', '.js_bus-change', templateChange);\n    $(document).on('change', '.js_route-change', routeChange);\n    $(document).on('change', '.js-days-yes-or-no', selectNoOrYesOnShedule);\n    $(document).on('click', '.js-button-copy', copyPrices);\n    $(document).on('click', '.js_change_sched_price', changeSchedPrice);\n\n    $('.js_route-change').trigger('change');\n    $('.js-days-yes-or-no').trigger('change');\n\n    function templateChange() {\n        var url = $(this).data('url');\n        var val = $(this).val();\n        $.get(url + '/' + val, function (response) {\n            if (response.val) {\n                $('.js_driver-select').val(response.val);\n            }\n        });\n    }\n\n    function routeChange() {\n        var url = $(this).data('url');\n        var val = $(this).val();\n        $.get(url + '/' + val, function (response) {\n            if (response.data) {\n                var data = response.data;\n                if (data['is_transfer']) {\n                    $('.js_flight-data').slideDown();\n                    $('#flight-offset').data('interval', data['interval']);\n                    $('#flight-time').data('type', data['flight_type']); // Сохраняем тип рейса - прилет или вылет\n                    $('#date_start_time').prop('readonly', true);\n                    if (data['flight_type'] == 'arrival') {\n                        $('#to-flight').text('К прилету рейса');\n                        $('#flight-time').attr('placeholder', 'время прилета');\n                    } else {\n                        $('#to-flight').text('К вылету рейса');\n                        $('#flight-time').attr('placeholder', 'время вылета');\n                    }\n                } else {\n                    $('.js_flight-data').slideUp();\n                    $('#date_start_time').prop('readonly', false);\n                }\n            }\n        });\n    }\n\n    function selectNoOrYesOnShedule() {\n        var day = $(this).attr('day');\n        if ($(this).is(':checked')) {\n            if ($(this).val() == 0) {\n                $(\".no-display-fields\").each(function () {\n                    if ($(this).attr('day') == day) {\n                        $(this).attr('hidden', '');\n                    }\n                });\n            } else {\n                $(\".no-display-fields\").each(function () {\n                    if ($(this).attr('day') == day) {\n                        $(this).removeAttr('hidden');\n                    }\n                });\n            }\n        }\n    }\n\n    function copyPrices() {\n        var day = $(this).attr('day');\n        var price = void 0;\n        $(\".schedule-price\").each(function () {\n            if (day == $(this).attr('day')) {\n                price = $(this).val();\n            }\n            $(this).val(price);\n        });\n    }\n\n    $(\"#flight-time, #flight-offset\").change(function () {\n        if ($('#flight-time').data('type') == 'arrival') {\n            // Если рейс прилетает, то ко времени прибытия добавляем время сдвига\n            $('#date_start_time').val(addTimes($('#flight-time').val(), $('#flight-offset').val()));\n        } else {\n            // Если рейс вылетает, то от времени вылета отнимаем время поездки (интервал направления) и отнимаем время сдвига\n            var registrTime = timeToMins($('#flight-time').val()) - $('#flight-offset').data('interval');\n            var offsetMins = timeToMins($('#flight-offset').val());\n            if (registrTime < offsetMins) {\n                registrTime += 1440;\n            }\n            $('#date_start_time').val(timeFromMins(registrTime - offsetMins));\n        }\n    });\n\n    function changeSchedPrice(e) {\n        e.preventDefault();\n        var $link = $(this);\n        var dialog = bootbox.prompt({\n            title: $link.data('title'),\n            placeholder: \"Новая цена\",\n            message: \"<p>Внимание, будет изменена цена всех отображаемых расписаний!<br><br></p>\",\n            size: \"large\",\n\n            callback: function callback(result) {\n                if (result !== null && $.isNumeric(result)) {\n                    $('#mass_price_update').prop('disabled', false);\n                    $('#mass_price_update').val(result);\n                    $('.js_table-search').submit();\n                    $('#mass_price_update').prop('disabled', true);\n                }\n            }\n        });\n        return false;\n    }\n\n    // Convert a time in hh:mm format to minutes\n    function timeToMins(time) {\n        var b = time.split(':');\n        var mins = b[0] * 60 + +b[1];\n        return isNaN(mins) ? 0 : mins;\n    }\n\n    // Convert minutes to a time in format hh:mm. Returned value is in range 00 to 24 hrs\n    function timeFromMins(mins) {\n        function z(n) {\n            return (n < 10 ? '0' : '') + n;\n        }\n        var h = (mins / 60 | 0) % 24;\n        var m = mins % 60;\n        return z(h) + ':' + z(m);\n    }\n\n    // Add two times in hh:mm format\n    function addTimes(t0, t1) {\n        return timeFromMins(timeToMins(t0) + timeToMins(t1));\n    }\n});\n\n},{}],19:[function(require,module,exports){\n'use strict';\n\n$(document).ready(function () {\n    $(document).on('click', '.closes', deleteImage);\n\n    var type = $(\"#ticket_type > option:selected\").val();\n\n    if (type == 2) {\n        $(\"#field\").attr(\"hidden\", false);\n    } else {\n        $(\"#field\").attr(\"hidden\", true);\n    }\n    $(\"#ticket_type\").change(function () {\n        type = $(\"#ticket_type > option:selected\").val();\n\n        if (type == 2) {\n            $(\"#field\").attr(\"hidden\", false);\n        } else {\n            $(\"#field\").attr(\"hidden\", true);\n        }\n    });\n});\n\nfunction deleteImage() {\n    var path = $(this).attr('path');\n    $.post(\"/admin/settings/clients_interface_settings/image-delete\", { imagePath: path }).done(function (data) {\n        location.reload();\n    });\n}\n\n$('#font_size').on('change', function () {\n    var v = $(this).val();\n    $('#example_size').css('font-size', v + 'px');\n});\n\n$('#border_radius').on('change', function () {\n    var v = $(this).val();\n    $('#example_radius').css('border-radius', v + 'px');\n});\n\n$('#opacity').on('change', function () {\n    var v = $(this).val();\n    $('#example_opacity').css('opacity', v);\n});\n\n$('.button_color').on('click', function () {\n    var v = $(this).val();\n    $('#button_color').val(v);\n});\n\n$('.font_color').on('click', function () {\n    var v = $(this).val();\n    $('#font_color').val(v);\n});\n\n$('.background_color').on('click', function () {\n    var v = $(this).val();\n    $('#background_color').val(v);\n});\n\n$('.font_color_authorization_buttons').on('click', function () {\n    var v = $(this).val();\n    $('#font_color_authorization_buttons').val(v);\n});\n\n},{}],20:[function(require,module,exports){\n'use strict';\n\n$(document).ready(function () {\n    $(document).on('click', '#js_provider-add-new', addProvider);\n    $(document).on('click', '.js-btn-remove', removeProvider);\n\n    var fields = ['provider_name_new', 'provider_number_prefix_new', 'sms_send', 'sms_sender', 'sms_api_login', 'sms_api_password', 'is_latin'];\n\n    function addProvider() {\n\n        var el = $(this).closest('.tab-pane');\n        if (validate(el)) {\n\n            var newElement = $(el).closest('.tab-pane').clone();\n            // generate new ID\n            var id = Math.random().toString(36).substring(7);\n\n            $(newElement).attr('id', 'provider-tab' + id).removeClass('active in');\n            $(newElement).find('#js_provider-add-new').removeClass('btn-primary').addClass('btn-danger js-btn-remove').attr('data-id', id).attr('id', '').html('<i class=\"fa fa-dot-circle-o\"></i> ' + 'Удалить оператора');\n\n            $(newElement).find('#provider_name_new').attr('id', 'provider_name' + id).attr('name', 'provider_name[' + id + ']');\n            $(newElement).find('#provider_number_prefix_new').attr('id', 'provider_number_prefix' + id).attr('name', 'provider_number_prefix[' + id + ']');\n            $(newElement).find('#sms_send').attr('id', 'sms_send' + id).attr('name', 'provider_sms_send[' + id + ']');\n            $(newElement).find('#sms_sender').attr('id', 'sms_sender' + id).attr('name', 'provider_sms_sender[' + id + ']');\n            $(newElement).find('#sms_api_login').attr('id', 'sms_api_login' + id).attr('name', 'provider_sms_api_login[' + id + ']');\n            $(newElement).find('#sms_api_password').attr('id', 'sms_api_password' + id).attr('name', 'provider_sms_api_password[' + id + ']');\n            $(newElement).find('#is_latin').attr('id', 'is_latin' + id).attr('name', 'provider_is_latin[' + id + ']');\n            $(newElement).find('#provider_active_new').attr('id', 'provider_active' + id).attr('name', 'provider_active[' + id + ']');\n            $(newElement).find('#provider_default_new').attr('id', 'provider_default' + id).attr('name', 'provider_default').attr('value', id).addClass('js-default');\n\n            var nav = '<li class=\"nav-item \"><a class=\"nav-link\" id=\"provider' + id + '\" data-toggle=\"tab\" href=\"#provider-tab' + id + '\" role=\"tab\" aria-controls=\"provider' + id + '\" aria-selected=\"true\">' + $('#provider_name_new').val() + '</a></li>';\n\n            // reset form\n            $(\"#js_provider-new input\").val('');\n\n            $(\"#js_provider-new\").before(newElement);\n            $(\"#add-tab\").before(nav);\n            $(\"#provider\" + id).trigger('click');\n        }\n    }\n\n    function validate(el) {\n        var error = false;\n\n        for (var i = 0; i < fields.length; i++) {\n            var _field = $(el).find(\"#\" + fields[i]).closest('.form-group');\n\n            if (!document.getElementById(fields[i]).value) {\n                _field.addClass('has-error');\n                error = true;\n            } else {\n                _field.removeClass('has-error');\n            }\n        }\n\n        return !error;\n    }\n\n    function removeProvider() {\n        var $this = this;\n\n        var providerId = $($this).attr(\"data-id\");\n\n        if (confirm('Вы уверены? Нажмите кнопку Сохранить для сохранения изменений.')) {\n\n            if ($(\".nav-item\").length > 2) {\n                $('#provider' + providerId).closest('.nav-item').remove();\n                $('#provider-tab' + providerId).remove();\n\n                if (!$(\".js-default\").checked) {\n                    $(\".js-default\").first().prop('checked', 'checked');\n                }\n\n                $('#js_sms-providers a').first().trigger('click');\n            } else {\n                alert('Это единственный оператор, удалить невозможно :(');\n            }\n        }\n    }\n});\n\n},{}],21:[function(require,module,exports){\n'use strict';\n\nvar _sortablejs = require('sortablejs');\n\nvar _sortablejs3 = _interopRequireDefault(_sortablejs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initSortableStation() {\n    $('.js-sortable-station').each(function () {\n        var reindex = function reindex() {\n            $('.js_reindex-stations').trigger('sortable-stations');\n            window.showNotification('Остановки успешно отсортированы');\n        };\n\n        _sortablejs3.default.create($(this)[0], { onEnd: reindex, handle: \".js_multiple-order\" });\n    });\n\n    $('.js-sortable-routes').each(function () {\n        var reindex = function reindex() {\n            var form = $('#sort-form');\n            $.ajax({\n                type: \"POST\",\n                url: form.attr('action'),\n                data: form.serialize(),\n                success: function success(data) {\n                    if (data.status == 'success') {\n                        window.showNotification(data.message);\n                    }\n                }\n            });\n        };\n\n        _sortablejs2.default.create($(this)[0], { onEnd: reindex, handle: \".js_multiple-order\" });\n    });\n}\n$(document).ready(function () {\n    $(document).on('multiple-added', '.js_reindex-stations', window.reindexBlocks('stations', ['station_id', 'time', 'cost_start', 'cost_finish', 'tickets_from', 'tickets_to'], '', ['']));\n    $(document).on('sortable-stations', window.reindexBlocks('stations', ['station_id', 'time', 'cost_start', 'cost_finish', 'tickets_from', 'tickets_to'], '', ['']));\n    $(document).on('multiple-removed', window.reindexBlocks('stations', ['station_id', 'time', 'cost_start', 'cost_finish', 'tickets_from', 'tickets_to'], '', ['']));\n\n    initSortableStation();\n});\n\nwindow.initSortableStation = initSortableStation;\n\n},{\"sortablejs\":1}],22:[function(require,module,exports){\n'use strict';\n\n$(document).ready(function () {\n    $(document).on('change', '.js_tariff_change_type', TariffChangeType);\n\n    function TariffChangeType() {\n        var sendData = {\n            bus_type_id: $('#id_tariff_bus_type_select').val(),\n            type: $('#id_tariff_type_select').val(),\n            agreement_id: $(\"[name='agreement_id']\").val()\n        };\n\n        $.get('/admin/tariffs/get_min_value', sendData, function (response) {\n            $(\"#min\").val(response);\n            $(\"#max\").val(parseInt(response) + 1);\n        });\n    }\n});\n\n},{}],23:[function(require,module,exports){\n'use strict';\n\n$(document).ready(function () {\n\n    $(document).on('click', '.js_tour-edit-calculation', tourCalculation);\n    $(document).on('click', '.js_tour-edit-forced', tourEditForced);\n    $(document).on('click', '.js_input_is_call', OrderInputIsCall);\n    $(document).on('click', '.js_admin_send_actual_sms', OrderSendActualSms);\n    $(document).on('click', '.js_admin_call', CallClient);\n    $(document).on('click', '#print_page', PrintPageTour);\n    $(document).on('click', '#print_doc', PrintDocTour);\n    $(document).on('click', '#print_page_reverse', PrintPageTourReverse);\n    $(document).on('change', '.station_from_time', setTimeFrom);\n    $(document).on('change', '.js_city_from_id', CityFrom);\n    $(document).on('focusout', '.js_input_order_price', ChangePrice);\n    $(document).on('change', '.js_all_dates', allDates);\n    $(document).on('change', '.js_only_visible', onlyVisible);\n    $(document).on('click', '.js_mass_change_price', massChangePrice);\n    $(document).on('click', '.js_copy_to_clipboard', copyToClipboard);\n\n    function ChangePrice() {\n        var id = $(this).data('order_id');\n        var url = $(this).data('url');\n        var price = $(this).val();\n\n        $.get(url + '?id=' + id + '&price=' + price, function (response) {\n            console.log(response);\n            if (response.message != '') toastr.success(response.message);\n        });\n    }\n\n    function CityFrom() {\n        var url = $(this).data().url;\n        var value = $(this).val();\n        $(\".js_city_to_id option\").remove();\n        $('.js_city_to_id').prop('disabled', false);\n\n        $.get(url + '?city_from_id=' + value, function (response) {\n            $('.js_city_to_id').append($('<option>', {\n                value: 0,\n                text: '-Куда-'\n            }));\n\n            for (var key in response) {\n                $('.js_city_to_id').append($('<option>', {\n                    value: response[key].id,\n                    text: response[key].name\n                }));\n            }\n        });\n    }\n\n    function CallClient() {\n        $.get($(this).data('url') + '?phone=' + $(this).data('phone'), function (response) {\n            var Type = response.type;\n            if (response.type === 'error') {\n                toastr.error(toastr.error);\n            } else {\n                toastr.success('звонок сгенерирован');\n            }\n        });\n    }\n\n    function OrderSendActualSms() {\n        var order_id = $(this).data('id');\n        var url = $(this).data('url');\n        var count_sms = $('.js_order_row_' + order_id).find('.js_count_sms').html();\n\n        count_sms = parseInt(count_sms) + 1;\n        $('.js_order_row_' + order_id).find('.js_count_sms').text(count_sms);\n        $.get(url + '?id=' + order_id, function (response) {\n            toastr.success('смс отправлена');\n        });\n    }\n\n    function setTimeFrom() {\n        var url = $(this).data('url');\n        var id = $(this).data('id');\n        var station_from_time = $(this).val();\n\n        $.get(url + '?id=' + id + '&station_from_time=' + station_from_time, function (response) {\n            if (response.result == 'success') {\n                toastr.success(response.message);\n            } else {\n                toastr.error('что-то пошло не так');\n            }\n        });\n    }\n\n    function dump(obj) {\n        var out = '';\n        for (var i in obj) {\n            out += i + \": \" + obj[i] + \"\\n\";\n        }\n\n        alert(out);\n\n        // or, if you wanted to avoid alerts...\n\n        var pre = document.createElement('pre');\n        pre.innerHTML = out;\n        document.body.appendChild(pre);\n    }\n\n    function OrderInputIsCall() {\n\n        var value = 0;\n        var id = $(this).attr('id');\n        var url = $(this).attr('url');\n        var phone = $(this).attr('phone');\n        if ($(this).is(':checked')) value = 1;\n        $.get(url + '?id=' + id + '&is_call=' + value + '&phone=' + phone, function (response) {\n            if (response.result == 'success') {\n                toastr.success(response.message);\n            } else {\n                toastr.error('что-то пошло не так(');\n            }\n        });\n    }\n\n    function tourCalculation() {\n        var $calculation = $('[name=calculation]');\n        $calculation.val(1);\n        $('.js_tours-from').submit();\n        $calculation.val(0);\n    }\n\n    function tourEditForced() {\n        $('.js_tours-from').append('<input type=\"hidden\" name=\"action\" value=\"forceEdit\" />');\n        $('.js_tours-from').submit();\n        $('input[value=forceEdit]').remove();\n    }\n\n    $('#popup_tour-edit').on('show.bs.modal', function (e) {\n        var _this = this;\n\n        var $button = $(e.relatedTarget);\n        var url = $button.data('url');\n        $.get(url, function (response) {\n            $(_this).find('.modal-content').html(response.html);\n            window.init();\n        });\n    });\n\n    $('#popup_rent-edit').on('show.bs.modal', function (e) {\n        var _this2 = this;\n\n        var $button = $(e.relatedTarget);\n        var url = $button.data('url');\n        $.get(url, function (response) {\n            $(_this2).find('.modal-content').html(response.html);\n            $('.js-select-search-single').select2({\n                width: \"100%\"\n            });\n            window.init();\n        });\n    });\n\n    $(document).on('hidden.bs.modal', function (e) {\n        $(this).find('.modal-content').html('');\n    });\n\n    function PrintPageTour() {\n        var printWindow = window.open(window.location.href + '/print');\n        printWindow.addEventListener('load', function () {\n            printWindow.print();\n            // printWindow.close();\n        }, true);\n    }\n\n    function PrintDocTour() {\n        var printWindow = window.open(window.location.href + '/doc/print');\n        printWindow.addEventListener('load', function () {\n            printWindow.print();\n            // printWindow.close();\n        }, true);\n    }\n\n    function PrintPageTourReverse() {\n        var printWindow = window.open(window.location.href + '/print/reverse');\n        printWindow.addEventListener('load', function () {\n            printWindow.print();\n            // printWindow.close();\n        }, true);\n    }\n\n    function countPull() {\n        $.get('/admin/pulls/count', function (response) {\n            $('.js_pull-count').html(response.view);\n        });\n    }\n\n    function countNotification() {\n        $.get('/admin/notifications/count', function (response) {\n            $('.js_noti-count').html(response.view);\n        });\n    }\n\n    function allDates() {\n        $('#all_dates').val($(this).prop('checked') ? 1 : 0);\n        $('#all_dates').prop('disabled', $(this).prop('checked') ? false : true);\n        $('.js_table-search').submit();\n    }\n\n    function onlyVisible() {\n        $('#only_visible').val($(this).prop('checked') ? 1 : 0);\n        $('#only_visible').prop('disabled', $(this).prop('checked') ? false : true);\n        $('.js_table-search').submit();\n    }\n\n    function massChangePrice(e) {\n        e.preventDefault();\n        var $link = $(this);\n        var dialog = bootbox.prompt({\n            title: $link.data('title'),\n            placeholder: \"Новая цена\",\n            message: \"<p>Внимание, будет изменена цена всех отображаемых рейсов!<br><br></p>\",\n            size: \"large\",\n\n            callback: function callback(result) {\n                if (result !== null && $.isNumeric(result)) {\n                    $('#mass_price_update').prop('disabled', false);\n                    $('#mass_price_update').val(result);\n                    $('.js_table-search').submit();\n                    $('#mass_price_update').prop('disabled', true);\n                }\n            }\n        });\n        return false;\n    }\n\n    function copyToClipboard(e) {\n        e.preventDefault();\n        var copyText = $(this).data('text');\n        navigator.clipboard.writeText(copyText).then(function () {\n            toastr.success('Ссылка успешно скопирована');\n        }, function (err) {\n            toastr.success('Ссылка не скопирована');\n        });\n    }\n\n    countPull();\n    countNotification();\n\n    setInterval(function () {\n        return countPull();\n    }, 100000);\n\n    window.countPull = countPull;\n    window.countNotification = countNotification;\n});\n\n},{}],24:[function(require,module,exports){\n'use strict';\n\n$(document).ready(function () {\n    $(document).on('change', '.js_checkbox-all', checkboxAll);\n    $(document).on('change', '.js_checkbox', checkbox);\n\n    function checkboxAll() {\n        $(this).closest('.js_checkbox-wrap').find('.js_checkbox').prop('checked', $(this).is(':checked')).change();\n    }\n\n    function checkbox() {\n        var $table = $(this).closest('.js_checkbox-wrap');\n        var $checked = $table.find('.js_checkbox:checked');\n        var $all = $table.find('.js_checkbox');\n        if ($checked.length == $all.length) {\n            $table.find('.js_checkbox-all').prop('checked', true);\n        } else {\n            $table.find('.js_checkbox-all').prop('checked', false);\n        }\n    }\n});\n\n},{}],25:[function(require,module,exports){\n'use strict';\n\n$(document).ready(function () {\n\n    var alertOpen = false;\n\n    $(document).on('change', '.js_table-search :input', searchTable)\n    // .on('select', '.js_table-search select', searchTable)\n    // .on('select2:select', '.js_table-search select', searchTable)\n    .on('submit', '.js_table-search', searchTable).on('change', '#hide_filter', changeFilterMode).on('click', '.js_table-pagination a', paginateTable).on('click', '.btn-filter-submit', searchTableSubmit).on('click', '.js_table-reset', resetSearchTable).on('panel-form-ajax-success', '.js_form-ajax', resetAjaxForm).on('click', '#side-menu .pjax-link', activeMenu).on('click', '#side-menu .pjax-link', activeMenu);\n\n    $(document).pjax('.pjax-link', '#pjax-container', { fragment: '#pjax-container', timeout: 20000 });\n\n    $('#side-menu').on('click', function () {\n        if ($(window).width() < 768) {\n            $('.fixed-sidebar').toggleClass('mini-navbar');\n        }\n    });\n\n    function activeMenu() {\n        $('#side-menu li').not('.sub-menu').removeClass('active');\n        $(this).closest('li').addClass('active');\n    }\n\n    $('#pjax-container').on('pjax:beforeSend', function () {\n        $('.wrapper-spinner').show();\n    });\n\n    $('#pjax-container').on('pjax:complete', function () {\n        $('.wrapper-spinner').hide();\n        window.initSortable();\n        window.map();\n        window.initSortableStation();\n        window.initOrderClientPhone();\n        window.initTemplateBus();\n        $('[data-toggle=\"tooltip\"]').tooltip();\n        init();\n    });\n\n    function resetAjaxForm(e, response) {\n        var $back = $('.js_form-ajax-back');\n        if (response.redirect_url) $back.attr('href', response.redirect_url);\n        if ($(this).hasClass('js_form-ajax-reset') || response.redirect_url) {\n            setTimeout(function () {\n                return $back.click();\n            }, 500);\n        }\n    }\n\n    function searchTable(e) {\n        e.preventDefault();\n        $('.wrapper-spinner').show();\n        var $form = $('.js_table-search');\n        history.pushState({}, '', '?' + $form.serialize());\n        $form.ajaxSubmit({\n            success: function success(data) {\n                $('.wrapper-spinner').hide();\n                renderData(data);\n            }\n        });\n        return false;\n    }\n\n    function searchTableSubmit(e) {\n        var hide_filter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n        e.preventDefault();\n        $('.wrapper-spinner').show();\n        var $form = $('.js_table-submit');\n\n        // let condition_str = e.target.checked ? $form.serialize() + \"&\" + e.target.name + \"=1\" : $form.serialize();\n        // history.pushState({}, '', '?' + condition_str);\n        var data = serializeObject($form.serializeArray());\n        if (hide_filter) {\n            data['hide_filter'] = 1;\n        }\n        console.log(data);\n        var link = $form.data(\"link\");\n        $(\".close\").trigger(\"click\");\n        $.ajax({\n            type: \"POST\",\n            url: link,\n            data: data, // serializes the form's elements.\n            success: function success(data) {\n                $('.wrapper-spinner').hide();\n                renderData(data);\n            }\n        });\n        return false;\n    }\n\n    function serializeObject(serializeArray) {\n        console.log(serializeArray);\n        var result = {};\n        result['fields'] = [];\n\n        serializeArray.map(function (item) {\n            console.log(item['name']);\n            if (item['name'] == \"fields[]\") {\n                result['fields'].push(item['value']);\n            } else {\n                result[item['name']] = item['value'];\n            }\n        });\n        return result;\n    }\n\n    function paginateTable(e) {\n        e.preventDefault();\n        var link = $(this).attr('href');\n        $('#js-current-page').val($(this).text());\n        $('.wrapper-spinner').show();\n        $.get(link, function (data) {\n            $('.wrapper-spinner').hide();\n            renderData(data);\n            $.scrollTo($('.ibox-content'), 400);\n        });\n        return false;\n    }\n\n    function renderData(data) {\n        var $table = $('.js_table-wrapper');\n        var $pagination = $('.js_table-pagination');\n        var $filter = $('.filter-data');\n        $table.html(data.view);\n        $pagination.html(data.pagination);\n        data.filter ? $filter.html(data.filter) : '';\n        $('[data-toggle=\"tooltip\"]').tooltip();\n    }\n\n    function resetSearchTable(e) {\n        e.preventDefault();\n        var $form = $('.js_table-search');\n        $form.find('input').not('.js_table-reset-no').val('');\n        $form.find('textarea').val('');\n        $form.find('select').prop('selectedIndex', 0);\n        searchTable(e);\n        return false;\n    }\n\n    function init() {\n\n        $(\".js_input-select2\").select2({\n            allowClear: true\n        });\n\n        $('.time-mask').inputmask({\n            alias: \"h:s\"\n        });\n\n        $('.js_datepicker').datepicker({\n            format: 'dd.mm.yyyy',\n            autoclose: true,\n            todayHighlight: true,\n            language: 'ru',\n            dateFormat: 'dd.mm.yyyy',\n            changeMonth: true,\n            changeYear: true,\n            startDate: '-1200m'\n        }).on('changeDate', function (ev) {\n            if ($(this).hasClass('js_table-reset-no')) $(this).trigger('change');\n            if ($(this).data('date')) {\n                var $date = $('[name=date]');\n                $date.val($('.js_datepicker').datepicker('getFormattedDate'));\n                $date.trigger('change');\n            }\n        });\n\n        $('.js_datepicker2').datepicker({\n            format: 'dd.mm.yyyy',\n            autoclose: true,\n            todayHighlight: true,\n            language: 'ru',\n            dateFormat: 'dd.mm.yyyy',\n            changeMonth: true,\n            changeYear: true,\n            startDate: '-1200m'\n        }).on('changeDate', function (ev) {\n            if ($(this).hasClass('js_table-reset-no')) $(this).trigger('change');\n            if ($(this).data('date')) {\n                var $date = $('[name=date]');\n                $date.val($('.js_datepicker').datepicker('getFormattedDate'));\n                $date.trigger('change');\n            }\n        });\n\n        $('.js_datepicker_without_previous').datepicker({\n            format: 'dd.mm.yyyy',\n            autoclose: true,\n            todayHighlight: true,\n            language: 'ru',\n            dateFormat: 'dd.mm.yyyy',\n            changeMonth: true,\n            changeYear: true,\n            // startDate: '-1200m',\n            minDate: 0\n        }).on('changeDate', function (ev) {\n            if ($(this).hasClass('js_table-reset-no')) $(this).trigger('change');\n            if ($(this).data('date')) {\n                var $date = $('[name=date]');\n                $date.val($('.js_datepicker_without_previous').datepicker('getFormattedDate'));\n                $date.trigger('change');\n            }\n        });\n\n        $('.input-daterange').datepicker({\n            format: 'yyyy-mm-dd',\n            keyboardNavigation: false,\n            forceParse: true,\n            toggleActive: false,\n            language: 'ru',\n            autoclose: true\n        }).on('changeDate', function (ev) {\n            $(this).trigger('input');\n        });\n\n        $('#is_egis-yes').on('click', function () {\n            if (confirm('Установить обязательные поля для заполнения в соответствии с требованиями ЕГИС?')) {\n                $(\".js_input-select2\").val(['first_name', 'last_name', 'middle_name', 'doc_type', 'doc_number', 'phone', 'birth_day', 'gender', 'country_id']).trigger(\"change\");\n            }\n        });\n\n        $(\".js-select-search-tours\").each(function () {\n            var $this = $(this);\n            $this.select2({\n                width: \"100%\",\n                placeholder: $this.data('title'),\n                allowClear: true\n            }).on('select2:unselecting', function () {\n                $(this).data('unselecting', true);\n            }).on('select2:opening', function (e) {\n                if ($(this).data('unselecting')) {\n                    $(this).removeData('unselecting');\n                    e.preventDefault();\n                }\n            });\n        });\n\n        $(\".js-select-company\").on('change', function () {\n            if ('URLSearchParams' in window) {\n                var searchParams = new URLSearchParams(window.location.search);\n                searchParams.set(\"company\", $(this).find(\":selected\").val());\n                searchParams.set(\"driver_id\", '');\n                window.location.search = searchParams.toString();\n            }\n        });\n\n        /*$(\".js_orders-count_places\").mouseleave(function () {\n            if (!$('.box').hasClass('.js_div_order_places')) {\n                $(\".js_order_calculation\").click();\n            }\n        });*/\n\n        //checkAllowIp();\n    }\n\n    init();\n\n    window.init = init;\n    $(document).on('pjax:beforeSend', checkOrder);\n\n    function checkOrder() {\n        if ($('.js_orders-id').val() && $('.js_orders-type').val() === 'no_completed' && !alertOpen) {\n            alertOpen = true;\n            if (confirm(\"Бронь будет удалена. Покинуть страницу?\")) {\n                $('.js_order-cancel').click();\n                $(document).one('pjax:success', function () {\n                    alertOpen = false;\n                });\n                return true;\n            } else {\n                $('.wrapper-spinner').hide();\n                alertOpen = false;\n                return false;\n            }\n        }\n    }\n\n    /*function checkAllowIp() {\n        if (SETTING.allowed_ip && SETTING.allowed_ip.length && SETTING.allowed_ip.indexOf(SETTING.CURRENT_IP) < 0 && SETTING.IS_AUTH === '1' && SETTING.IS_OPERATOR === '1') {\n            if (window.location.pathname !== '/admin') {\n                window.location.replace(\"/admin\");\n                alert('Доступ к сайту запрещён с вашего IP-адреса.');\n            }\n        }\n    }*/\n\n    $(document).on('click', '.onoffswitch-checkbox-panel', function () {\n        var placeId = $(this).data('place_id');\n        console.log(placeId);\n        var elPrice = \"#order_place_price_\" + placeId;\n        var elSpan = \"#order_place_span_\" + placeId;\n        if ($(elPrice).is(\":visible\")) {\n            $(elPrice).hide();\n            $(elSpan).show();\n        } else {\n            $(elPrice).show();\n            $(elSpan).hide();\n        }\n        return true;\n    });\n\n    $(document).on('click', '.onoffswitch-checkbox', function () {\n        var placeId = $(this).data('place_id');\n        console.log(placeId);\n        var elPrice = \"#order_place_price_\" + placeId;\n        var elSpan = \"#order_place_span_\" + placeId;\n        if ($(elPrice).is(\":visible\")) {\n            $(elPrice).hide();\n            $(elSpan).show();\n        } else {\n            $(elPrice).show();\n            $(elSpan).hide();\n        }\n        //$(\"#is_handler_price_\" + placeId).click();\n\n        var order_id = $('.js_div_order_places').data('order_id');\n        var url = $('.js_div_order_places').data('url');\n        var data = $('.js_div_order_places :input').serializeArray();\n        $.get(url, data);\n\n        return true;\n    });\n\n    function changeFilterMode(e) {\n        searchTableSubmit(event, true);\n        // e.preventDefault();\n        /*\n                $('.wrapper-spinner').show();\n                let $form = $('.js_table-submit');\n                let condition_str = e.target.checked ? $form.serialize() + \"&\" + e.target.name + \"=1\" : $form.serialize();\n                  history.pushState({}, '', '?' + condition_str);\n                $(\".close\").trigger(\"click\");\n                $.ajax({\n                    type: \"GET\",\n                    url: location.href,\n                    data: condition_str, // serializes the form's elements.\n                    success: function (data) {\n                        $('.wrapper-spinner').hide();\n                        renderData(data);\n                    }\n                });\n        */\n    }\n});\n\n},{}],26:[function(require,module,exports){\n'use strict';\n\nrequire('./app/components/pusher/easy-alert');\n\nrequire('./app/components/pusher/pusher.min');\n\nrequire('./app/components/pusher/pusher');\n\nrequire('./app/components/sortable');\n\nrequire('./app/components/ajax');\n\nrequire('./app/components/map');\n\nrequire('./app/components/grid');\n\nrequire('./app/components/datepicker_localization');\n\nrequire('./app/components/import');\n\nrequire('./app/user');\n\nrequire('./app/bus');\n\nrequire('./app/station');\n\nrequire('./app/schedule');\n\nrequire('./app/tour');\n\nrequire('./app/order');\n\nrequire('./app/repair');\n\nrequire('./app/route');\n\nrequire('./app/tariff');\n\nrequire('./app/smsconfig');\n\nrequire('./app/monitoring');\n\nrequire('./app/settings');\n\nrequire('./app/change_background');\n\nrequire('./app/pusher');\n\nrequire('./custom');\n\n},{\"./app/bus\":2,\"./app/change_background\":3,\"./app/components/ajax\":4,\"./app/components/datepicker_localization\":5,\"./app/components/grid\":6,\"./app/components/import\":7,\"./app/components/map\":8,\"./app/components/pusher/easy-alert\":9,\"./app/components/pusher/pusher\":10,\"./app/components/pusher/pusher.min\":11,\"./app/components/sortable\":12,\"./app/monitoring\":13,\"./app/order\":14,\"./app/pusher\":15,\"./app/repair\":16,\"./app/route\":17,\"./app/schedule\":18,\"./app/settings\":19,\"./app/smsconfig\":20,\"./app/station\":21,\"./app/tariff\":22,\"./app/tour\":23,\"./app/user\":24,\"./custom\":25}]},{},[26]);\n"],"file":"scripts.js"}